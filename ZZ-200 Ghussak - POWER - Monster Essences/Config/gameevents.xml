<?xml version="1.0"?>
<GhussakTweaks>
  <append xpath="/gameevents">
    <action_sequence name="eventGSKTeleToTarget">
      <property name="allow_user_trigger" value="true"/>
      <property name="action_type" value="Game"/>
      <requirement class="HasSpawnedEntities">
        <property name="entity_tags" value="entity"/>
      </requirement>
      <action class="AddSpawnedEntitiesToGroup" help="TODO: should be only the entity with buffGSKThrownBoneDartMarkTarget :(">
        <property name="phase" value="10"/>
        <!-- HELPGOOD: how :( ?
				<requirement class="HasBuff">
					<property name="buff_name" value="buffGSKThrownBoneDartMarkTarget" />
				</requirement>
				
ends up causing this endless flood error on log (shouldnt be just one error message?) :

ArgumentNullException: Value cannot be null.
Parameter name: collection
  at System.Collections.Generic.List`1[T].InsertRange (System.Int32 index, System.Collections.Generic.IEnumerable`1[T] collection) [0x00003] 				
  
  ahhh... this more confusing than what I can handle... 
-->
        <property name="group_name" value="targetEntity"/>
        <property name="entity_tags" value="entity"/>
      </action>
      <action class="TeleportToTarget">
        <property name="phase" value="20"/>
        <property name="min_distance" value="1"/>
        <property name="max_distance" value="1000" help="this is a random distance near the target or a limit distance to allow the teleport?"/>
        <property name="teleport_to_group" value="targetEntity"/>
        <property name="safe_spawn" value="true"/>
        <property name="air_spawn" value="true"/>
      </action>
      <action class="ExplodeTarget">
        <property name="phase" value="30"/>
        <property name="blast_power" value="75"/>
        <property name="block_damage" value="32000"/>
        <property name="block_radius" value="1"/>
        <property name="entity_damage" value="32000"/>
        <property name="entity_radius" value="1"/>
      </action>
    </action_sequence>
    <action_sequence name="eventGSKSpawnHelper">
      <action class="SpawnEntity">
        <property name="entity_names" value="zombieWight" param1="strNameList"/>
        <property name="spawn_count" value="1" param1="iCount"/>
        <property name="safe_spawn" value="true" help="was true."/>
        <property name="spawn_from_position" value="true"/>
        <property name="min_distance" value="20" param1="iDistMin"/>
        <property name="max_distance" value="40" param1="iDistMax"/>
        <property name="yOffset" value="50" param1="iElevationOffset"/>
        <property name="air_spawn" value="true" param1="bFlying" help="WORKAROUND: using air spawn always because if you on top of a building the zombies wont spawn until you get down right?"/>
      </action>
    </action_sequence>
    <action_sequence name="eventGSKSpawnWight" template="eventGSKSpawnHelper">
      <variable name="strNameList" value="zombieWightFeral,zombieWightRadiated"/>
    </action_sequence>
    <action_sequence name="eventGSKSpawnVampire" template="eventGSKSpawnHelper">
      <variable name="strNameList" value="zombieScreamer,zombieScreamerFeral,zombieScreamerRadiated"/>
    </action_sequence>
    <action_sequence name="eventGSKSpawnZombieDogX3" template="eventGSKSpawnHelper">
      <variable name="strNameList" value="animalZombieDog"/>
      <variable name="iCount" value="3"/>
    </action_sequence>
    <action_sequence name="eventGSKSpawnZombieDogNearby" template="eventGSKSpawnHelper">
      <variable name="strNameList" value="animalZombieDog"/>
      <variable name="iCount" value="1"/>
      <variable name="iDistMin" value="5"/>
      <variable name="iDistMax" value="10"/>
      <variable name="iElevationOffset" value="1"/>
    </action_sequence>
    <action_sequence name="eventGSKpowerPlayerVampSummonBase">
      <action class="SpawnEntity">
        <property name="entity_names" value="todoa" param1="strNameList"/>
        <property name="spawn_count" value="1" param1="iCount"/>
        <property name="safe_spawn" value="true" help="spawn on safe zones"/>
        <property name="spawn_from_position" value="true"/>
        <property name="min_distance" value="10" param1="iDistMin"/>
        <property name="max_distance" value="15" param1="iDistMax"/>
        <property name="yOffset" value="1"/>
        <property name="air_spawn" value="false" param1="bFlying"/>
      </action>
    </action_sequence>
    <action_sequence name="eventGSKpowerPlayerVampSummonCoyote5" template="eventGSKpowerPlayerVampSummonBase">
      <variable name="strNameList" value="animalCoyote"/>
      <variable name="iCount" value="5"/>
    </action_sequence>
    <action_sequence name="eventGSKpowerPlayerVampSummonWolf3" template="eventGSKpowerPlayerVampSummonBase">
      <variable name="strNameList" value="animalWolf"/>
      <variable name="iCount" value="3"/>
    </action_sequence>
    <action_sequence name="eventGSKpowerPlayerVampSummonDireWolf2" template="eventGSKpowerPlayerVampSummonBase">
      <variable name="strNameList" value="animalDireWolf"/>
      <variable name="iCount" value="2"/>
    </action_sequence>
    <action_sequence name="eventGSKpowerPlayerVampSummonStrongAnimal1" template="eventGSKpowerPlayerVampSummonBase">
      <variable name="strNameList" value="animalBear,animalMountainLion"/>
      <variable name="iCount" value="1"/>
    </action_sequence>
  </append>
</GhussakTweaks>
