<?xml version="1.0"?>
<GhussakTweaks>
  <!--
		HELPGOOD: this should be my first minimal test but is crashing, may be SCoreInGameMenu and SCoreUtilities require a single instance to work?
	<append xpath="/windows/window[@name='ingameMenu']/grid">
			<grid name="buttons" pos="0, -0" cols="1" width="250" cell_width="250" cell_height="56" arrangement="vertical"
						repeat_content="false" controller="SCoreInGameMenu, SCore">
					<simplebutton name="btnGSKTheNoMadCfg" depth="3" width="250" height="46" caption_key="xuiLinkKey_GSKTheNoMadCfg"
												font_size="40"/>
			</grid>
	</append>
	
		HELPGOOD: or
	
	<append xpath="/windows/window[@name='ingameMenu']/grid/grid[@controller='SCoreInGameMenu, SCore']">
					<simplebutton name="btnGSKTheNoMadCfg" depth="3" width="250" height="46" caption_key="xuiLinkKey_GSKTheNoMadCfg"
												font_size="40"/>
	</append>
-->
  <!--
		HELPGOOD: the window will make it crash too:
	<append xpath="/windows">
		<window name="windowTheNoMadCfg" depth="99" pos="0,400" width="1185" height="780" anchor="CenterCenter"
						cursor_area="true" controller="SCoreUtilities, SCore">
			<panel depth="2" createuipanel="true" disableautobackground="true">
					<panel name="outclick" pos="-2000,2000" width="8000" height="8000" depth="1" createuipanel="true"
								 on_press="true" disableautobackground="true" gamepad_selectable="false"/>

					<panel name="noclick" depth="2" createuipanel="true" on_press="true" pos="-2000,2000" width="8000"
								 height="8000" disableautobackground="true" gamepad_selectable="false">
							<texture name="bgTexture" depth="0" texture="Textures/UI/news_background" color="255,255,255,240"
											 anchor_left="#cam,0,-5" anchor_right="#cam,1,5" anchor_bottom="#cam,0,-5"
											 anchor_top="#cam,1,5"/>
					</panel>

					<panel name="content" pos="0,-350" width="400" height="600" depth="3" pivot="center"
								 createuipanel="true" disableautobackground="true">
							<sprite depth="9" type="sliced" color="7,7,7,255" sprite="menu_empty" pivot="center" height="700"/>

							<sprite depth="9" pos="-160,300" width="320" height="500" type="sliced" color="7,7,7,255"/>

							<label depth="16" name="header.name" pos="0,330" width="350" pivot="center" justify="center"
										 style="label_outline" text_key="xuiLinkKey_GSKTheNoMadCfg" font_size="24" overflow="ShrinkContent"
										 upper_case="true"/>

							<grid name="toggles" depth="10" pos="-145,300" cols="1" width="320" cell_width="290"
										cell_height="34" arrangement="vertical" repeat_content="false">

									<conditional evaluator="client">
											<if cond="mod_loaded('GSKendBloodMoonIfYouDie')">
													<rect/>
													<label style="label_outline, header.name" text="End Blood Moon if you die"
																 text_key="xuitkGSKEndBMdieCfg" width="320" height="26" font_size="24"/>
													<togglebuttonCVar name="xuitgGSKEndBMdie" cvar="iGSKEndBloodMoonAllowed"
																						caption_key="xuickGSKEndBMdie" tooltip_key="xuittkGSKEndBMdie"
																						width="290" height="32" depth="3" font_size="24" crispness="OnDesktop"
																						effect="Outline8" effect_distance="1,1" effect_color="20,20,20,230"/>
											</if>
									</conditional>
									
									<rect/>
									<label style="label_outline, header.name" text="Other Settings" text_key="xuitkGSKDeusExFriendly"
												 width="320" height="26" font_size="24" help="TODO: this should conditionally depend on minimod DeuxExMachina later ISSUE: there seems to have no control for value input like valueinputCVar for specific values in min max range or valuelistCVar to chose from a list with specific values. it only has now toggle 0 1 right? so this menu only works for booleans for now; TODO: add options like iGSKBattEnergy range of values 15,30,45,60,90,120, or specific value thru range min,max 15,120"/>
									<togglebuttonCVar name="xuitgGSKDeusExFriendly" cvar="iGSKDeusExAllowSpawnFriendly" caption_key="xuickGSKDeusExFriendly"
																		tooltip_key="xuittkGSKDeusExFriendly" width="290" height="32" depth="3"
																		font_size="24" crispness="OnDesktop" effect="Outline8" effect_distance="1,1"
																		effect_color="20,20,20,230"/>

							</grid>
					</panel>

					<panel name="buttons" pos="0,-560" height="32" depth="6" borderthickness="3" createuipanel="true"
								 disableautobackground="true">
							<simplebutton name="SCorebtnSubmit" depth="3" pos="0,-80" pivot="center" width="200" height="36"
														font_size="24" caption_key="xuiSave" upper_case="true"/>
					</panel>
			</panel>
		</window>
	</append>
-->
  <!--
	HELPGOOD: just appending in SCore window works! I can change TNM cvars, but there are like 30 cvars I would like to tweak, and most are not just 0 or 1, so other control than togglebuttonCVar would be needed, like min/max range, or specific values to chose from.
	ISSUE: there seems to have no control for value input like valueinputCVar for specific values in min max range or valuelistCVar to chose from a list with specific values. it only has now toggle 0 1 right? so this menu only works for booleans for now.
	TODO: add options like iGSKBattEnergy range of values may be 15,30,45,60,90,120, or specific value thru range min,max 15,120
-->
  <append xpath="/windows/window[@name='windowSCoreUtilities']/panel[@depth='2']/panel[@depth='3']/grid[@name='toggles']" help="ISSUE: trying to create another button like 'The NoMad Config' and related window, will just crash, controller SCoreUtilities requires a single instance?">
    <rect/>
    <conditional evaluator="client">
      <if cond="mod_loaded('GSKendBloodMoonIfYouDie')">
        <rect/>
        <label style="label_outline, header.name" text="GSK:TNM: End Blood Moon if you die" text_key="xuitkGSKEndBMdieCfg" width="320" height="26" font_size="24"/>
        <togglebuttonCVar name="xuitgGSKEndBMdie" cvar="iGSKEndBloodMoonAllowed" caption_key="xuickGSKEndBMdie" tooltip_key="xuittkGSKEndBMdie" width="290" height="32" depth="3" font_size="24" crispness="OnDesktop" effect="Outline8" effect_distance="1,1" effect_color="20,20,20,230"/>
      </if>
    </conditional>
    <rect/>
    <label style="label_outline, header.name" text="GSK:TNM: Other Settings" text_key="xuitkGSKDeusExFriendly" width="320" height="26" font_size="24" help="TODO: this should conditionally depend on minimod DeuxExMachina later"/>
    <togglebuttonCVar name="xuitgGSKDeusExFriendly" cvar="iGSKDeusExAllowSpawnFriendly" caption_key="xuickGSKDeusExFriendly" tooltip_key="xuittkGSKDeusExFriendly" width="290" height="32" depth="3" font_size="24" crispness="OnDesktop" effect="Outline8" effect_distance="1,1" effect_color="20,20,20,230"/>
  </append>
</GhussakTweaks>
