<?xml version="1.0"?>
<GhussakTweaks>
  <append xpath="/gameevents">
    <action_sequence name="eventGSKSpawnExtraBloodmoonZombie">
      <action class="SpawnEntity">
        <property name="entity_names" value="zombieMutatedRadiated" param1="strNameList"/>
        <property name="spawn_count" value="1" param1="iCount"/>
        <property name="safe_spawn" value="true" help="was true."/>
        <property name="spawn_from_position" value="true"/>
        <property name="min_distance" value="20" param1="iDistMin"/>
        <property name="max_distance" value="25" param1="iDistMax"/>
        <property name="yOffset" value="50" help="was 50. ISSUE: if player is far underground, 50 seems to prevent them spawning? may have something to do with the sphere range around the player with maxdist and yoffset? may be it could be actually -50 or -300 (world highest point is 260?), to let the engine place it on the ground instead (needs testing yet), but falling from sky is interesting because the player may be on the top of a large building and this may spawn some up there for a surprise ;)"/>
        <property name="air_spawn" value="true" param1="bFlying" help="WORKAROUND: using air spawn always because if you on top of a building the zombies wont spawn until you get down right?"/>
      </action>
      <!-- HELPGOOD:TODO: to grant zombies spawned, there could have AddCvar but it should only happen if zomb really spawned above.. SetCVar wont help when spawning many at once
      <action class="SetCVar">
        <property name="phase" value="10" />
        <property name="cvar" value=".iGSKEventFeedbackBMSpawnZomb" />
        <property name="value" value="1"/>
      </action>
-->
    </action_sequence>
    <action_sequence name="eventGSKSpwBMZombMutated" template="eventGSKSpawnExtraBloodmoonZombie">
      <variable name="strNameList" value="zombieMutatedRadiated"/>
    </action_sequence>
    <action_sequence name="eventGSKSpwBMZombDemolition" template="eventGSKSpawnExtraBloodmoonZombie">
      <variable name="strNameList" value="zombieDemolition"/>
    </action_sequence>
    <action_sequence name="eventGSKSpwBMZombScreamer" template="eventGSKSpawnExtraBloodmoonZombie">
      <variable name="strNameList" value="zombieScreamerRadiated"/>
    </action_sequence>
    <action_sequence name="eventGSKSpwBMZombWight" template="eventGSKSpawnExtraBloodmoonZombie">
      <variable name="strNameList" value="zombieWightRadiated"/>
    </action_sequence>
    <action_sequence name="eventGSKSpwBMZombCop" template="eventGSKSpawnExtraBloodmoonZombie">
      <variable name="strNameList" value="zombieFatCopRadiated"/>
    </action_sequence>
    <action_sequence name="eventGSKSpwBMZombSpecial" template="eventGSKSpawnExtraBloodmoonZombie">
      <variable name="strNameList" value="zombieMutatedRadiated,zombieDemolition,zombieScreamerRadiated,zombieWightRadiated,zombieFatCopRadiated"/>
      <variable name="iCount" value="1"/>
    </action_sequence>
    <action_sequence name="eventGSKSpwBMZombVulture" template="eventGSKSpawnExtraBloodmoonZombie">
      <variable name="strNameList" value="animalZombieVultureRadiated"/>
      <variable name="bFlying" value="true"/>
    </action_sequence>
    <action_sequence name="eventGSKSpwBMZombRadCommon" template="eventGSKSpawnExtraBloodmoonZombie">
      <variable name="strNameList" value="zombieArleneRadiated,zombieBikerRadiated,zombieBoeRadiated,zombieBurntRadiated,zombieBusinessManRadiated,zombieDarleneRadiated,zombieJanitorRadiated,zombieJoeRadiated,zombieLabRadiated,zombieLumberjackRadiated,zombieMaleHazmatRadiated,zombieMarleneRadiated,zombieMoeRadiated,zombieNurseRadiated,zombiePartyGirlRadiated,zombieSkateboarderRadiated,zombieSoldierRadiated,zombieSpiderRadiated,zombieSteveRadiated,zombieTomClarkRadiated,zombieUtilityWorkerRadiated,zombieYoRadiated"/>
      <variable name="iCount" value="1"/>
    </action_sequence>
    <action_sequence name="eventGSKSpwBMZombRadStrong" template="eventGSKSpawnExtraBloodmoonZombie">
      <variable name="strNameList" value="zombieFatHawaiianRadiated,zombieFemaleFatRadiated"/>
    </action_sequence>
    <!-- HELPGOOD:CODEGEN:weak (no ranged)
    egrep 'name="zombie[^"]*"' _NewestSavegamePath.IgnoreOnBackup/ConfigsDump/entityclasses.xml |egrep -o 'name="zombie[^"]*"' |egrep -o '".*"' |tr -d '"' |egrep -vi "Cop|Radiated|tutorial|template|mutated|wight|demolition|Behemoth|scream|(feral|hazmat|fat|miner|soldier|skate|lumber|biker|utility|crawl|spider)" |tr "\n" ","
-->
    <action_sequence name="eventGSKSpwBMZombWeak" template="eventGSKSpawnExtraBloodmoonZombie">
      <variable name="strNameList" value="zombieArlene,zombieMarlene,zombiePartyGirl,zombieNurse,zombieJoe,zombieSteve,zombieTomClark,zombieBusinessMan,zombieBurnt,zombieBoe,zombieJanitor,zombieMoe,zombieLab,zombieDarlene,zombieYo"/>
      <variable name="iDistMin" value="5"/>
      <variable name="iDistMax" value="10"/>
    </action_sequence>
    <!-- HELPGOOD:CODEGEN:strong (no ranged)
    egrep 'name="zombie[^"]*"' _NewestSavegamePath.IgnoreOnBackup/ConfigsDump/entityclasses.xml |egrep -o 'name="zombie[^"]*"' |egrep -o '".*"' |tr -d '"' |egrep -vi "Cop|Radiated|tutorial|template|mutated|wight|demolition|Behemoth|scream"| egrep -i "(hazmat|fat|miner|soldier|skate|lumber|biker|utility|crawl|spider)" |egrep -vi feral |tr "\n" ","
-->
    <action_sequence name="eventGSKSpwBMZombStrong" template="eventGSKSpawnExtraBloodmoonZombie">
      <variable name="strNameList" value="zombieSpider,zombieUtilityWorker,zombieBiker,zombieLumberjack,zombieFemaleFat,zombieFatHawaiian,zombieMaleHazmat,zombieSkateboarder,zombieSoldier,zombieSteveCrawler,zombieMiner"/>
      <variable name="iDistMin" value="10"/>
      <variable name="iDistMax" value="15"/>
    </action_sequence>
    <!-- HELPGOOD:CODEGEN:feral (no ranged)
    egrep 'name="zombie[^"]*"' _NewestSavegamePath.IgnoreOnBackup/ConfigsDump/entityclasses.xml |egrep -o 'name="zombie[^"]*"' |egrep -o '".*"' |tr -d '"' |egrep -vi "Cop|Radiated|tutorial|template|mutated|wight|demolition|Behemoth|scream" |egrep -i feral |tr "\n" ","
-->
    <action_sequence name="eventGSKSpwBMZombFeral" template="eventGSKSpawnExtraBloodmoonZombie">
      <variable name="strNameList" value="zombieArleneFeral,zombieMarleneFeral,zombiePartyGirlFeral,zombieNurseFeral,zombieJoeFeral,zombieSteveFeral,zombieTomClarkFeral,zombieBusinessManFeral,zombieBurntFeral,zombieSpiderFeral,zombieBoeFeral,zombieJanitorFeral,zombieMoeFeral,zombieLabFeral,zombieDarleneFeral,zombieYoFeral,zombieUtilityWorkerFeral,zombieBikerFeral,zombieLumberjackFeral,zombieFemaleFatFeral,zombieFatHawaiianFeral,zombieMaleHazmatFeral,zombieSkateboarderFeral,zombieSoldierFeral,zombieSteveCrawlerFeral"/>
      <variable name="iDistMin" value="15"/>
      <variable name="iDistMax" value="20"/>
    </action_sequence>
  </append>
</GhussakTweaks>
