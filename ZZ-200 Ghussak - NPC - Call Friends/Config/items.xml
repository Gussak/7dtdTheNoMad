<?xml version="1.0"?>
<GhussakTweaks>
  <append xpath="/items">
    <item name="GSKCallNPCsBase">
      <property name="Extends" value="GSKBaseActivatorConsumableSlow"/>
      <property name="CustomIconTint" value="00a0ff"/>
      <property name="DescriptionKey" value="dkGSKCallSoldier"/>
      <property name="EconomicValue" value="1000"/>
      <property class="Action0">
        <requirement name="!IsBloodMoon"/>
        <requirement name="NotHasBuff" buff="buffGSKSpawnTreasureAmbush15"/>
        <requirement name="NotHasBuff" buff="buffGSKDeusExEnemyIsNearbyPLAYERBUFF"/>
        <requirement name="NotHasBuff" buff="buffGSKDeusExFriendlyIsNearbyPLAYERBUFF"/>
      </property>
      <effect_group tiered="false">
        <triggered_effect trigger="onSelfPrimaryActionEnd" action="CallGameEvent" event="eventGSKCallNPCSoldier"/>
      </effect_group>
    </item>
    <item name="GSKCallSoldier">
      <property name="Extends" value="GSKCallNPCsBase"/>
      <property name="CustomIconTint" value="00a0ff"/>
      <property name="DescriptionKey" value="dkGSKCallSoldier"/>
      <property name="EconomicValue" value="1000"/>
      <effect_group tiered="false">
        <triggered_effect trigger="onSelfPrimaryActionEnd" action="CallGameEvent" event="eventGSKCallNPCSoldier"/>
      </effect_group>
    </item>
    <item name="GSKCallFriends">
      <property name="Extends" value="GSKCallNPCsBase"/>
      <property name="CustomIconTint" value="00a0ff"/>
      <property name="DescriptionKey" value="dkGSKCallFriends"/>
      <property name="EconomicValue" value="500"/>
      <effect_group tiered="false">
        <triggered_effect trigger="onSelfPrimaryActionEnd" action="CallGameEvent" event="eventGSKCallNPCFriends"/>
      </effect_group>
    </item>
    <item name="GSKCallTrustyDog">
      <property name="Extends" value="GSKCallNPCsBase"/>
      <property name="CustomIconTint" value="00a0ff"/>
      <property name="DescriptionKey" value="dkGSKCallTrustyDog"/>
      <property name="EconomicValue" value="500"/>
      <effect_group tiered="false">
        <triggered_effect trigger="onSelfPrimaryActionEnd" action="CallGameEvent" event="eventGSKCallNPCTrustyDog"/>
      </effect_group>
    </item>
    <item name="GSKCallHalowenParty">
      <property name="Extends" value="GSKCallNPCsBase"/>
      <property name="CustomIconTint" value="00a0ff"/>
      <property name="DescriptionKey" value="dkGSKCallHalowenParty"/>
      <property name="EconomicValue" value="500"/>
      <effect_group tiered="false">
        <triggered_effect trigger="onSelfPrimaryActionEnd" action="CallGameEvent" event="eventGSKCallNPCHalowenParty"/>
      </effect_group>
    </item>
    <item name="GSKspawnDogCompanion" help="no crafting, only on free bundles">
      <property name="Extends" value="GSKCallNPCsBase"/>
      <property name="CustomIconTint" value="00a0ff"/>
      <property name="DescriptionKey" value="dkGSKspawnDogCompanion"/>
      <property name="EconomicValue" value="500"/>
      <effect_group tiered="false">
        <triggered_effect trigger="onSelfPrimaryActionEnd" action="CallGameEvent" event="eventGSKSpawnDogCompanion"/>
      </effect_group>
    </item>
  </append>
  <append xpath="/items">
    <item name="vehicleGSKNPChelperPlaceable" help="at NPCSettings there is this option now 'ComeHere' does the NPC teleporting near player! but this item may still be more reliable in a few cases like underground or to un-stuck the NPC from probably ragdoll being beaten by zombies, just mount the bike and wait a bit, look at the distance til the NPC gets near, then unmount">
      <property name="Extends" value="vehicleBicyclePlaceable"/>
      <property name="CustomIcon" value="vehicleBicyclePlaceable"/>
      <property name="CustomIconTint" value="64,64,250"/>
      <property name="DescriptionKey" value="dkvehicleNPCHelper"/>
      <property name="EconomicValue" value="0"/>
      <property name="SellableToTrader" value="false"/>
      <effect_group name="vehicleBicyclePlaceable" tiered="false">
        <passive_effect name="ModSlots" operation="base_set" value="0"/>
        <passive_effect name="ModPowerBonus" operation="base_add" value="1" tags="EconomicValue"/>
        <passive_effect name="DegradationMax" operation="base_set" value="1" help="prevents using as barricade"/>
        <passive_effect name="VehicleVelocityMaxPer" operation="perc_subtract" value="0.90"/>
        <passive_effect name="VehicleCarryCapacity" operation="perc_subtract" value="0.99"/>
      </effect_group>
    </item>
    <item name="GSKCNPCragdollAllFriendliesNearby">
      <property name="Extends" value="GSKBaseActivatorConsumableSlow"/>
      <property name="CustomIconTint" value="00a0ff"/>
      <property name="DescriptionKey" value="dkGSKCNPCragdollAllFriendliesNearby"/>
      <property name="EconomicValue" value="0"/>
      <effect_group tiered="false">
        <triggered_effect trigger="onSelfPrimaryActionEnd" action="Ragdoll" duration="0.5" force="200" target="selfAOE" range="3" target_tags="npc" help="this is very useful when climbing a ladder that has a friendly NPC above you blocking the path. the tiny force is also good to push it a bit helping on placing blocks as it moves away">
          <requirement name="!EntityTagCompare" target="other" tags="bandit"/>
        </triggered_effect>
      </effect_group>
    </item>
  </append>
  <append xpath="/items/item[starts-with(@name,'ammo') and contains(@name,'Bullet')]">
    <effect_group name="penetration thru friendly NPCs (otherwise they just block the path and let foes kill them), but this extra empowers all bullets :( TODO: it could work only if aiming at a friendly hired NPC" tiered="false">
      <passive_effect name="EntityPenetrationCount" operation="base_add" value="1" tags="perkGunslinger"/>
    </effect_group>
  </append>
  <append xpath="/items/item[@name='GSKTNMstarterKit']/property[@class='Action0']/property[@name='Create_item']/@value">,GSKspawnDogCompanion,foodRawMeat</append>
  <append xpath="/items/item[@name='GSKTNMstarterKit']/property[@class='Action0']/property[@name='Create_item_count']/@value" help="use just as reinforcement to survive, if you cant hire it. just enough meat to hire one dog">,10,20</append>
</GhussakTweaks>
