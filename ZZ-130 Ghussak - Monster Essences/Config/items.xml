<?xml version="1.0"?>
<GhussakTweaks>
  <append xpath="/items">
    <item name="drugGSKwightEssence">
      <property name="Extends" value="GSKBaseActivatorConsumableSlow"/>
      <property name="CustomIcon" value="resourceTestosteroneExtract"/>
      <property name="Meshfile" value="#Other/Items?Food/bottled_waterPrefab.prefab"/>
      <property name="Material" value="Mglass"/>
      <property name="CustomIconTint" value="0,0,255"/>
      <property name="DescriptionKey" value="dkbuffGSKWightEssence"/>
      <property class="Action0">
        <property name="Class" value="Eat"/>
        <property name="Delay" value="1"/>
        <property name="Use_time" value="..."/>
        <property name="Sound_start" value="player_drinking"/>
      </property>
      <effect_group tiered="false">
        <triggered_effect trigger="onSelfPrimaryActionEnd" action="AddBuff" buff="buffGSKWightEssence"/>
      </effect_group>
    </item>
    <item name="drugGSKvampireEssence">
      <property name="Extends" value="GSKBaseActivatorConsumableSlow"/>
      <property name="CustomIcon" value="resourceTestosteroneExtract"/>
      <property name="CustomIconTint" value="128,0,255"/>
      <property name="Meshfile" value="#Other/Items?Food/bottled_waterPrefab.prefab"/>
      <property name="Material" value="Mglass"/>
      <property name="DescriptionKey" value="dkbuffGSKVampireEssence"/>
      <property class="Action0">
        <property name="Class" value="Eat"/>
        <property name="Delay" value="1"/>
        <property name="Use_time" value="..."/>
        <property name="Sound_start" value="player_drinking"/>
      </property>
      <effect_group tiered="false">
        <triggered_effect trigger="onSelfPrimaryActionEnd" action="AddBuff" buff="buffGSKVampireEssence"/>
      </effect_group>
    </item>
    <item name="drugGSKmutantEssence">
      <property name="Extends" value="GSKBaseActivatorConsumableSlow"/>
      <property name="CustomIcon" value="resourceTestosteroneExtract"/>
      <property name="CustomIconTint" value="255,255,0"/>
      <property name="Meshfile" value="#Other/Items?Food/bottled_waterPrefab.prefab"/>
      <property name="Material" value="Mglass"/>
      <property name="DescriptionKey" value="dkbuffGSKMutantEssence"/>
      <property class="Action0">
        <property name="Class" value="Eat"/>
        <property name="Delay" value="1"/>
        <property name="Use_time" value="..."/>
        <property name="Sound_start" value="player_drinking"/>
      </property>
      <effect_group tiered="false">
        <triggered_effect trigger="onSelfPrimaryActionEnd" action="AddBuff" buff="buffGSKMutantEssence"/>
      </effect_group>
    </item>
    <item name="drugGSKmonsterEssence">
      <property name="Extends" value="GSKBaseActivatorConsumableSlow"/>
      <property name="CustomIcon" value="resourceTestosteroneExtract"/>
      <property name="CustomIconTint" value="255,0,0"/>
      <property name="Meshfile" value="#Other/Items?Food/bottled_waterPrefab.prefab"/>
      <property name="Material" value="Mglass"/>
      <property name="DescriptionKey" value="dkGSKMonsterEssence"/>
      <property class="Action0">
        <requirement name="NotHasBuff" target="self" buff="buffGSKMonsterMixEssence"/>
        <property name="Class" value="Eat"/>
        <property name="Delay" value="1"/>
        <property name="Use_time" value="..."/>
        <property name="Sound_start" value="player_drinking"/>
      </property>
      <effect_group tiered="false">
        <triggered_effect trigger="onSelfPrimaryActionEnd" action="AddBuff" buff="buffGSKMonsterMixEssence"/>
      </effect_group>
    </item>
    <item name="GSKpowerPsyonicAttackLikeAMutant">
      <property name="DescriptionKey" value="dkGSKpsyonicAttackLikeAMutant"/>
      <property name="SellableToTrader" value="false"/>
      <property name="Extends" value="GSKBaseActivatorReqMeleeSlow"/>
      <property name="CustomIcon" value="7dtdMutantRabbit"/>
      <property name="CustomIconTint" value="220,150,128"/>
      <property name="Stacknumber" value="1"/>
      <property class="Action0">
        <requirement name="CVarCompare" cvar="iGSKPsyonicChemUseCount" operation="GTE" value="1"/>
      </property>
      <effect_group tiered="false">
        <triggered_effect trigger="onSelfPrimaryActionEnd" action="AddBuff" buff="buffGSKpsyonicAttackLikeAMutant"/>
      </effect_group>
    </item>
    <item name="GSKpowerTeleportLikeAMutant">
      <property name="DescriptionKey" value="dkGSKteleportLikeAMutantPower"/>
      <property name="SellableToTrader" value="false"/>
      <property name="Extends" value="GSKBaseActivatorReqMeleeSlow"/>
      <property name="CustomIcon" value="7dtdTeleport"/>
      <property name="CustomIconTint" value="220,150,128"/>
      <property name="Stacknumber" value="1"/>
      <property class="Action0">
        <requirement name="CVarCompare" cvar="iGSKEssenceMutant" operation="GTE" value="7"/>
      </property>
      <effect_group tiered="false">
        <triggered_effect trigger="onSelfPrimaryActionEnd" action="AddBuff" buff="buffGSKTeleportLikeAMutant"/>
      </effect_group>
    </item>
    <item name="GSKpowerSummonLikeAVampire">
      <property name="DescriptionKey" value="dkGSKpowerSummonLikeAVampire"/>
      <property name="SellableToTrader" value="false"/>
      <property name="Extends" value="GSKBaseActivatorReqMeleeSlow"/>
      <property name="CustomIcon" value="7dtdShockTip"/>
      <property name="CustomIconTint" value="220,150,128"/>
      <property name="Stacknumber" value="1"/>
      <property class="Action0">
        <requirement name="CVarCompare" cvar="iGSKSummonAnimalCooldown" operation="LTE" value="0"/>
        <requirement name="CVarCompare" cvar="iGSKEssenceVampire" operation="GTE" value="7"/>
        <requirement name="StatCompareCurrent" stat="health" operation="GTE" value="55"/>
      </property>
      <property class="Action1">
        <requirement name="CVarCompare" cvar="iGSKSummonAnimalCooldown" operation="LTE" value="0"/>
        <requirement name="CVarCompare" cvar="iGSKEssenceVampire" operation="GTE" value="7"/>
        <requirement name="StatCompareCurrent" stat="health" operation="GTE" value="55"/>
      </property>
      <effect_group tiered="false">
        <requirement name="CVarCompare" cvar="_crouching" operation="Equals" value="0"/>
        <triggered_effect trigger="onSelfPrimaryActionEnd" action="CallGameEvent" event="eventGSKpowerPlayerVampSummonCoyote5"/>
        <triggered_effect trigger="onSelfSecondaryActionEnd" action="CallGameEvent" event="eventGSKpowerPlayerVampSummonWolf3"/>
      </effect_group>
      <effect_group tiered="false">
        <requirement name="CVarCompare" cvar="_crouching" operation="Equals" value="1"/>
        <triggered_effect trigger="onSelfPrimaryActionEnd" action="CallGameEvent" event="eventGSKpowerPlayerVampSummonDireWolf2"/>
        <triggered_effect trigger="onSelfSecondaryActionEnd" action="CallGameEvent" event="eventGSKpowerPlayerVampSummonStrongAnimal1"/>
      </effect_group>
      <effect_group tiered="false">
        <triggered_effect trigger="onSelfPrimaryActionEnd" action="ModifyCVar" cvar="iGSKSummonAnimalCooldown" operation="set" value="3600"/>
        <triggered_effect trigger="onSelfSecondaryActionEnd" action="ModifyCVar" cvar="iGSKSummonAnimalCooldown" operation="set" value="3600"/>
        <triggered_effect trigger="onSelfPrimaryActionEnd" action="ModifyCVar" cvar="iGSKEssenceVampire" operation="add" value="-7"/>
        <triggered_effect trigger="onSelfSecondaryActionEnd" action="ModifyCVar" cvar="iGSKEssenceVampire" operation="add" value="-7"/>
        <triggered_effect trigger="onSelfPrimaryActionEnd" action="ModifyStats" stat="Health" operation="add" value="-50"/>
        <triggered_effect trigger="onSelfSecondaryActionEnd" action="ModifyStats" stat="Health" operation="add" value="-50"/>
      </effect_group>
    </item>
    <item name="GSKpowerImmuneLikeAWight" help="costs a lot as is too powerful">
      <property name="DescriptionKey" value="dkGSKpowerImmuneLikeAWight"/>
      <property name="SellableToTrader" value="false"/>
      <property name="Extends" value="GSKBaseActivatorReqMeleeSlow"/>
      <property name="CustomIcon" value="7dtdShockTip"/>
      <property name="CustomIconTint" value="220,150,128"/>
      <property name="Stacknumber" value="1"/>
      <property class="Action0">
        <requirement name="CVarCompare" cvar="iGSKEssenceWight" operation="GTE" value="@iGSKpowerCostWight"/>
      </property>
      <property class="Action1">
        <requirement name="CVarCompare" cvar="iGSKEssenceWight" operation="GTE" value="@iGSKpowerCostWight"/>
      </property>
      <effect_group tiered="false">
        <triggered_effect trigger="onSelfPrimaryActionEnd" action="AddBuff" buff="buffGSKpowerImmuneLikeAWight"/>
        <triggered_effect trigger="onSelfPrimaryActionEnd" action="ModifyCVar" cvar="iGSKEssenceWight" operation="subtract" value="@iGSKpowerCostWight"/>
      </effect_group>
    </item>
    <item name="_GSKteleportLikeAMutantPower2" help="ISSUE: this requires the player to hold PRIMARY til after teleporting, so when releasing it DeusEx will be killed">
      <property name="DescriptionKey" value="dkGSKteleportLikeAMutantPower"/>
      <property name="SellableToTrader" value="false"/>
      <property name="Extends" value="GSKBaseActivatorConsumableSlow"/>
      <property name="CustomIcon" value="7dtdTeleport"/>
      <property name="CustomIconTint" value="220,150,128"/>
      <property class="Action0">
        <requirement name="CVarCompare" cvar="iGSKEssenceMutant" operation="GTE" value="7"/>
      </property>
      <effect_group tiered="false">
        <requirement name="CVarCompare" cvar="iGSKEssenceMutant" operation="GTE" value="7"/>
        <requirement name="CVarCompare" cvar="iGSKEssenceMutant" operation="LT" value="14"/>
        <triggered_effect trigger="onSelfPrimaryActionStart" action="CallGameEvent" event="eventGSKElctrnTele1No"/>
        <triggered_effect trigger="onSelfPrimaryActionStart" action="ModifyCVar" cvar="iGSKEssenceMutant" operation="add" value="-7"/>
      </effect_group>
      <effect_group tiered="false">
        <requirement name="CVarCompare" cvar="iGSKEssenceMutant" operation="GTE" value="14"/>
        <requirement name="CVarCompare" cvar="iGSKEssenceMutant" operation="LT" value="21"/>
        <triggered_effect trigger="onSelfPrimaryActionStart" action="CallGameEvent" event="eventGSKElctrnTele2No"/>
        <triggered_effect trigger="onSelfPrimaryActionStart" action="ModifyCVar" cvar="iGSKEssenceMutant" operation="add" value="-14"/>
      </effect_group>
      <effect_group tiered="false">
        <requirement name="CVarCompare" cvar="iGSKEssenceMutant" operation="GTE" value="21"/>
        <requirement name="CVarCompare" cvar="iGSKEssenceMutant" operation="LT" value="28"/>
        <triggered_effect trigger="onSelfPrimaryActionStart" action="CallGameEvent" event="eventGSKElctrnTele3No"/>
        <triggered_effect trigger="onSelfPrimaryActionStart" action="ModifyCVar" cvar="iGSKEssenceMutant" operation="add" value="-21"/>
      </effect_group>
      <effect_group tiered="false">
        <requirement name="CVarCompare" cvar="iGSKEssenceMutant" operation="GTE" value="28"/>
        <requirement name="CVarCompare" cvar="iGSKEssenceMutant" operation="LT" value="35"/>
        <triggered_effect trigger="onSelfPrimaryActionStart" action="CallGameEvent" event="eventGSKElctrnTele4No"/>
        <triggered_effect trigger="onSelfPrimaryActionStart" action="ModifyCVar" cvar="iGSKEssenceMutant" operation="add" value="-28"/>
      </effect_group>
      <effect_group tiered="false">
        <requirement name="CVarCompare" cvar="iGSKEssenceMutant" operation="GTE" value="35"/>
        <requirement name="CVarCompare" cvar="iGSKEssenceMutant" operation="LT" value="42"/>
        <triggered_effect trigger="onSelfPrimaryActionStart" action="CallGameEvent" event="eventGSKElctrnTele5No"/>
        <triggered_effect trigger="onSelfPrimaryActionStart" action="ModifyCVar" cvar="iGSKEssenceMutant" operation="add" value="-35"/>
      </effect_group>
      <effect_group tiered="false">
        <requirement name="CVarCompare" cvar="iGSKEssenceMutant" operation="GTE" value="42"/>
        <triggered_effect trigger="onSelfPrimaryActionStart" action="CallGameEvent" event="eventGSKElctrnTele6No"/>
        <triggered_effect trigger="onSelfPrimaryActionStart" action="ModifyCVar" cvar="iGSKEssenceMutant" operation="add" value="-42"/>
      </effect_group>
      <effect_group tiered="false">
        <triggered_effect trigger="onSelfPrimaryActionEnd" target="selfAOE" range="4" action="AddBuff" buff="buffGSKElctrnExplodeExtraWeakenNPCs" help="sync range with eventGSKElctrnTele00. at onSelfPrimaryActionEnd will expectedly have already teleported...">
          <requirement name="!EntityTagCompare" target="other" tags="player"/>
        </triggered_effect>
      </effect_group>
    </item>
    <item name="GSKCFGwightStaminaConvertedFromHP">
      <property name="Extends" value="GSKBaseActivatorReqMeleeSlow"/>
      <property name="ItemTypeIcon" value="computer"/>
      <property name="SellableToTrader" value="false"/>
      <property name="DescriptionKey" value="dkGSKpowerImmuneLikeAWight"/>
      <property class="Action0">
        <requirement name="CVarCompare" cvar="iGSKEssenceWightMinStam" operation="LT" value="100"/>
      </property>
      <property class="Action1">
        <requirement name="CVarCompare" cvar="iGSKEssenceWightMinStam" operation="GT" value="0"/>
      </property>
      <effect_group tiered="false">
        <triggered_effect trigger="onSelfPrimaryActionEnd" action="ModifyCVar" cvar="iGSKEssenceWightMinStam" operation="add" value="5"/>
        <triggered_effect trigger="onSelfSecondaryActionEnd" action="ModifyCVar" cvar="iGSKEssenceWightMinStam" operation="add" value="-5"/>
      </effect_group>
      <effect_group tiered="false">
        <triggered_effect trigger="onSelfPrimaryActionEnd" action="ModifyCVar" cvar=".fGSKCFGTMPval1" operation="set" value="@iGSKEssenceWightMinStam"/>
        <triggered_effect trigger="onSelfSecondaryActionEnd" action="ModifyCVar" cvar=".fGSKCFGTMPval1" operation="set" value="@iGSKEssenceWightMinStam"/>
      </effect_group>
    </item>
  </append>
</GhussakTweaks>
