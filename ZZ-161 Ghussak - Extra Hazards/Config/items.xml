<?xml version="1.0"?>
<GhussakTweaks>
  <append xpath="/items/item[@name='medicalBloodBag']">
    <property class="Action0">
      <requirement name="CVarCompare" cvar="fGSKBloodLoss" operation="GT" value="0"/>
      <property name="Class" value="Eat"/>
      <property name="Delay" value="1.0"/>
      <property name="Use_time" value="..."/>
      <property name="Sound_start" value="player_ointment"/>
    </property>
    <effect_group tiered="false">
      <triggered_effect help="FixTinyRandomFloat:was fGSKBloodLoss subtract randomFloat(0.12,0.16)" trigger="onSelfPrimaryActionEnd" action="ModifyCVar" cvar=".fGSKFixTinyRandomFloatTmp" operation="set" value="randomInt(120,160)"/>
      <triggered_effect trigger="onSelfPrimaryActionEnd" action="ModifyCVar" cvar=".fGSKFixTinyRandomFloatTmp" operation="divide" value="1000" help="FixTinyRandomFloat"/>
      <triggered_effect trigger="onSelfPrimaryActionEnd" action="ModifyCVar" cvar="fGSKBloodLoss" operation="subtract" value="@.fGSKFixTinyRandomFloatTmp" help="FixTinyRandomFloat: was randomFloat(0.12,0.16)"/>
      <!-- HELPGOOD:FixTinyRandomFloat:OriginalLineData:LineNumber=20764:      <triggered_effect trigger="onSelfPrimaryActionEnd" action="ModifyCVar" cvar="fGSKBloodLoss" operation="subtract" value="randomFloat(0.12,0.16)"/> -->
      <triggered_effect trigger="onSelfPrimaryActionEnd" action="ModifyCVar" cvar="fGSKBloodLoss" operation="set" value="0">
        <requirement name="CVarCompare" cvar="fGSKBloodLoss" operation="LT" value="0"/>
      </triggered_effect>
    </effect_group>
  </append>
  <append xpath="/items">
    <item name="medicalBloodBagEmpty">
      <property name="DescriptionKey" value="dkGSKmedicalBloodBagEmpty"/>
      <property name="CustomIcon" value="medicalBloodBag"/>
      <property name="CustomIconTint" value="70,70,70"/>
      <property name="Tags" value="medical"/>
      <property name="DisplayType" value="medical"/>
      <property name="HoldType" value="31"/>
      <property name="Meshfile" value="@:Other/Items/Health/bandage.fbx"/>
      <property name="DropMeshfile" value="@:Other/Items/Misc/sack_droppedPrefab.prefab"/>
      <property name="Material" value="Mmetal"/>
      <property name="Weight" value="5"/>
      <property name="SellableToTrader" value="false"/>
      <property name="Stacknumber" value="60"/>
      <property name="EconomicValue" value="1"/>
      <property class="Action0">
        <requirement name="NotHasBuff" buff="buffGSKGodMode"/>
        <requirement name="NotHasBuff" buff="buffGSKCosmicBloodMoon7"/>
        <requirement name="NotHasBuff" buff="buffGSKDeusExFriendlyIsNearbyPLAYERBUFF"/>
        <property name="Class" value="Eat"/>
        <property name="Delay" value="1.0"/>
        <property name="Use_time" value="..."/>
        <property name="Sound_start" value="player_ointment"/>
        <property name="Create_item" value="medicalBloodBag"/>
      </property>
      <property name="Group" value="Science,CFChemicals,Medical"/>
      <effect_group tiered="false">
        <triggered_effect trigger="onSelfPrimaryActionEnd" action="ModifyStats" stat="Health" operation="add" value="-14.0"/>
        <triggered_effect trigger="onSelfPrimaryActionEnd" action="ModifyCVar" cvar="fGSKBloodLoss" operation="add" value="0.01"/>
        <triggered_effect trigger="onSelfPrimaryActionEnd" action="AddBuff" buff="buffGSKHazardousWBloodLoss53"/>
        <triggered_effect trigger="onSelfPrimaryActionEnd" action="AddBuff" buff="buffInjuryStunned01"/>
      </effect_group>
    </item>
  </append>
</GhussakTweaks>
