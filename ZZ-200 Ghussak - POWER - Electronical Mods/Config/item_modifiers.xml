<?xml version="1.0"?>
<GhussakTweaks>
  <append xpath="/item_modifiers">
    <item_modifier name="modGSKElctrnBase" blocked_tags="noMods" type="attachment">
      <property name="Extends" value="modGeneralMaster"/>
      <property name="CustomIconTint" value="0,200,200"/>
      <property name="UnlockedBy" value="perkElectrocutioner"/>
    </item_modifier>
    <item_modifier name="modGSKElctrnTeleport" installable_tags="armor" modifier_tags="teleport" blocked_tags="noMods" type="attachment">
      <property name="Extends" value="modGSKElctrnBase"/>
      <property name="EconomicValue" value="999"/>
      <property name="CustomIcon" value="7dtdTeleport"/>
      <property name="CustomIconTint" value="0,200,200"/>
      <property name="DescriptionKey" value="dkGSKModElctrnTeleport"/>
      <effect_group tiered="false">
        <triggered_effect trigger="onSelfEquipStart" action="AddBuff" target="self" buff="buffGSKEnergyTeleportEnabled"/>
        <triggered_effect trigger="onSelfEquipStop" action="RemoveBuff" target="self" buff="buffGSKEnergyTeleportEnabled"/>
      </effect_group>
    </item_modifier>
    <item_modifier name="modGSKEnergyHarvest" installable_tags="armorHands" modifier_tags="harvest" blocked_tags="noMods" type="attachment">
      <property name="Extends" value="modGSKElctrnBase"/>
      <property name="EconomicValue" value="333"/>
      <property name="CustomIcon" value="meleeWpnBladeT1HuntingKnife"/>
      <property name="CustomIconTint" value="0,200,200"/>
      <property name="DescriptionKey" value="descElctrnHarvest"/>
      <effect_group tiered="false">
        <triggered_effect trigger="onSelfEquipStart" action="AddBuff" target="self" buff="buffGSKEnergyHarvestEnabled"/>
        <triggered_effect trigger="onSelfEquipStop" action="RemoveBuff" target="self" buff="buffGSKEnergyHarvestEnabled"/>
      </effect_group>
    </item_modifier>
    <item_modifier name="modGSKEnergyThorns" installable_tags="armor" modifier_tags="thorns" blocked_tags="noMods" type="attachment">
      <property name="Extends" value="modGSKElctrnBase"/>
      <property name="EconomicValue" value="666"/>
      <property name="CustomIcon" value="modMeleeClubBarbedWire"/>
      <property name="CustomIconTint" value="0,200,200"/>
      <effect_group tiered="false">
        <triggered_effect trigger="onSelfEquipStart" action="AddBuff" target="self" buff="buffGSKEnergyThornsEnabled"/>
        <triggered_effect trigger="onSelfEquipStop" action="RemoveBuff" target="self" buff="buffGSKEnergyThornsEnabled"/>
      </effect_group>
    </item_modifier>
    <item_modifier name="modGSKEnergyShield" installable_tags="armor" modifier_tags="shield" blocked_tags="noMods" type="attachment">
      <property name="Extends" value="modGSKElctrnBase"/>
      <property name="EconomicValue" value="666"/>
      <property name="CustomIcon" value="armorParts"/>
      <property name="CustomIconTint" value="0,200,200"/>
      <effect_group tiered="false">
        <triggered_effect trigger="onSelfEquipStart" action="AddBuff" target="self" buff="buffGSKEnergyShieldEnabled"/>
        <triggered_effect trigger="onSelfEquipStop" action="RemoveBuff" target="self" buff="buffGSKEnergyShieldEnabled"/>
      </effect_group>
    </item_modifier>
    <item_modifier name="modGSKElctrnHero" installable_tags="armorFeet" modifier_tags="hero" blocked_tags="noMods" type="attachment">
      <property name="Extends" value="modGSKElctrnBase"/>
      <property name="EconomicValue" value="999"/>
      <property name="CustomIcon" value="modArmorImpactBracing"/>
      <property name="CustomIconTint" value="0,200,200"/>
      <effect_group tiered="false">
        <triggered_effect trigger="onSelfEquipStart" action="AddBuff" target="self" buff="buffGSKElctrnHeroEnabled"/>
        <triggered_effect trigger="onSelfEquipStop" action="RemoveBuff" target="self" buff="buffGSKElctrnHeroEnabled"/>
        <triggered_effect trigger="onSelfEquipStart" action="AddBuff" buff="buffImpactBracing"/>
        <triggered_effect trigger="onSelfEquipStop" action="RemoveBuff" buff="buffImpactBracing"/>
      </effect_group>
    </item_modifier>
    <item_modifier name="modGSKElctrnBattery" installable_tags="armor" modifier_tags="battery" blocked_tags="noMods" type="attachment">
      <property name="Extends" value="modGSKElctrnBase"/>
      <property name="EconomicValue" value="333"/>
      <property name="CustomIcon" value="carBattery"/>
      <property name="CustomIconTint" value="0,200,200"/>
      <effect_group tiered="false">
        <triggered_effect trigger="onSelfEquipStart" action="AddBuff" target="self" buff="buffGSKElctrnBatteryEnabled"/>
        <triggered_effect trigger="onSelfEquipStop" action="RemoveBuff" target="self" buff="buffGSKElctrnBatteryEnabled"/>
      </effect_group>
    </item_modifier>
  </append>
  <append xpath="/item_modifiers/item_modifier[@name='modMeleeStunBatonRepulsor']/@modifier_tags" help="this prevents installing on meleeWpnBatonT2StunBaton that already has vanilla related functionality">,electricShock</append>
  <append xpath="/item_modifiers">
    <item_modifier name="modGSKElctrnShockArrow" installable_tags="bow,crossbow,melee" modifier_tags="electricShock" blocked_tags="noMods" type="attachment">
      <property name="EconomicValue" value="666"/>
      <property name="Extends" value="modGSKElctrnBase"/>
      <property name="CustomIcon" value="resourceArrowHeadSteelAP"/>
      <property name="CustomIconTint" value="0,200,200"/>
      <property name="DescriptionKey" value="dkGSKShockArrow"/>
      <effect_group tiered="false">
        <triggered_effect trigger="onSelfEquipStart" action="AddBuff" target="self" buff="buffGSKElctrnShockArrowEnabled"/>
        <triggered_effect trigger="onSelfEquipStop" action="RemoveBuff" target="self" buff="buffGSKElctrnShockArrowEnabled"/>
        <triggered_effect trigger="onSelfEquipStart" action="AddPart" part="Sparks" prefab="ParticleEffects/p_electric_shock_small" parentTransform="Handle" localPos="0,0,0" localRot="0,0,0">
          <requirement name="CVarCompare" cvar="iGSKBatteryCharges" operation="GT" value="0"/>
        </triggered_effect>
        <triggered_effect trigger="onSelfPrimaryActionRayHit" action="AddPart" part="Sparks" prefab="ParticleEffects/p_electric_shock_small" parentTransform="Handle" localPos="0,0,0" localRot="0,0,0">
          <requirement name="CVarCompare" cvar="iGSKBatteryCharges" operation="GT" value="0"/>
        </triggered_effect>
        <triggered_effect trigger="onSelfSecondaryActionRayHit" action="AddPart" part="Sparks" prefab="ParticleEffects/p_electric_shock_small" parentTransform="Handle" localPos="0,0,0" localRot="0,0,0">
          <requirement name="CVarCompare" cvar="iGSKBatteryCharges" operation="GT" value="0"/>
        </triggered_effect>
      </effect_group>
    </item_modifier>
  </append>
</GhussakTweaks>
