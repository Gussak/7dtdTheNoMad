<?xml version="1.0"?>
<GhussakTweaks>
  <append xpath="/items">
    <item name="GSKsnakePoisonAntidote" help="TODO:RMMAJORVERSION">
      <property name="Extends" value="GSKTRBaseBundle"/>
      <property class="Action0">
        <property name="Create_item" value="drugGSKsnakePoisonAntidote"/>
        <property name="Create_item_count" value="1"/>
      </property>
    </item>
    <item name="drugGSKsnakePoisonAntidote">
      <property name="Extends" value="resourceTestosteroneExtract"/>
      <property name="DescriptionKey" value="buffGSKSnakePoisonDesc"/>
      <property name="CustomIcon" value="7dtdPoison"/>
      <property name="CustomIconTint" value="180,180,180"/>
      <property name="Group" value="Resources,Chemicals,CFChemicals"/>
      <property name="CraftingIngredientTime" value="2"/>
      <property name="Stacknumber" value="10"/>
      <property name="EconomicValue" value="30"/>
      <property name="Meshfile" value="@:Other/Items/Misc/parcelPrefab.prefab"/>
      <property class="Action0">
        <property name="Class" value="Eat"/>
        <property name="Delay" value="0.5"/>
        <property name="Use_time" value="0.5"/>
        <property name="Sound_start" value="nightvision_toggle"/>
      </property>
      <effect_group tiered="false">
        <triggered_effect trigger="onSelfPrimaryActionEnd" action="ModifyCVar" cvar="iGSKPoisonAntidoteDur" operation="add" value="randomInt(250,500)" help="sync with buffGSKSnakePoison random add poison duration values min max"/>
      </effect_group>
    </item>
    <item name="thrownAmmoPoisonBomb">
      <property name="Extends" value="thrownAmmoPipeBomb"/>
      <property name="CustomIcon" value="thrownAmmoPipeBomb"/>
      <property name="Explosion.BlastPower" value="15"/>
      <property name="CustomIconTint" value="0,180,0"/>
      <property name="EconomicValue" value="75"/>
      <effect_group tiered="false">
        <passive_effect name="BlockDamage" operation="base_set" value="3"/>
        <passive_effect name="EntityDamage" operation="base_set" value="10"/>
        <display_value name="dExRadius" value="4"/>
        <display_value name="dFuseTime" value="4"/>
        <triggered_effect trigger="onSelfExplosionDamagedOther" action="AddBuff" target="other" buff="buffGSKSnakePoison"/>
      </effect_group>
    </item>
    <item name="GSKsnakePoison">
      <property name="Extends" value="GSKBaseActivatorConsumableSlow"/>
      <property name="CustomIcon" value="7dtdGskPoison"/>
      <property name="CustomIconTint" value="128,128,128"/>
      <property name="Group" value="Resources,Chemicals,CFChemicals"/>
      <property name="Meshfile" value="@:Other/Items/Food/bottled_waterPrefab.prefab"/>
      <property name="Material" value="Mglass"/>
      <property name="DescriptionKey" value="buffGSKSnakePoisonDesc"/>
      <property name="EconomicValue" value="10"/>
      <property name="SellableToTrader" value="true"/>
      <property name="Stacknumber" value="100"/>
      <property class="Action0">
        <property name="Class" value="Eat"/>
        <property name="Delay" value="1"/>
        <property name="Use_time" value="..."/>
        <property name="Sound_start" value="player_drinking"/>
      </property>
      <effect_group tiered="false">
        <triggered_effect trigger="onSelfPrimaryActionEnd" action="ModifyCVar" cvar="fGSKPoisonedMeleePiercing" operation="add" value="1"/>
      </effect_group>
    </item>
    <item name="ammoArrowPoison">
      <property name="DisplayType" value="ammoArrow"/>
      <property name="Tags" value="ammo,ranged,attAgility,perkArchery,perkPenetrator,poison"/>
      <property name="Meshfile" value="@:Other/Items/Weapons/Ranged/Bows/Arrows/arrow_stonePrefab.prefab"/>
      <property name="CustomIcon" value="ammoArrowStone"/>
      <property name="CustomIconTint" value="128,180,128"/>
      <property name="DescriptionKey" value="dkGSKPoisonProjectile"/>
      <property name="HoldType" value="45"/>
      <property name="HandMeshfile" value="@:Other/Items/Misc/sackPrefab.prefab"/>
      <property name="DropMeshfile" value="@:Other/Items/Misc/sack_droppedPrefab.prefab"/>
      <property name="IsSticky" value="true"/>
      <property name="StickyOffset" value=".25"/>
      <property name="StickyColliderUp" value="2"/>
      <property name="StickyColliderRadius" value=".05"/>
      <property name="StickyColliderLength" value="1"/>
      <property name="Material" value="Mwood"/>
      <property name="Stacknumber" value="25"/>
      <property name="EconomicValue" value="12"/>
      <property name="EconomicBundleSize" value="5"/>
      <property name="Group" value="Ammo/Weapons,Basics,Ammo,Ranged Weapons"/>
      <property class="Action1">
        <property name="Class" value="Projectile"/>
        <property name="Explosion.ParticleIndex" value="0"/>
        <property name="FlyTime" value="0"/>
        <property name="Gravity" value="-4"/>
        <property name="LifeTime" value="14"/>
      </property>
      <effect_group name="ammoArrowPoison" tiered="false">
        <passive_effect name="EntityDamage" operation="base_set" value="1" tags="perkArchery"/>
        <passive_effect name="BlockDamage" operation="base_set" value="1" tags="perkArchery"/>
        <passive_effect name="DamageModifier" operation="perc_set" value=".1" tags="wood"/>
        <passive_effect name="DamageModifier" operation="perc_set" value="0" tags="earth,metal,cloth"/>
        <passive_effect name="ProjectileVelocity" operation="base_set" value="45" tags="perkArchery"/>
        <triggered_effect trigger="onProjectileImpact" action="AddBuff" target="otherAOE" range="0.05" target_tags="zombie,animal,bandit" buff="buffGSKSnakePoison"/>
        <triggered_effect trigger="onSelfEquipStart" action="AddBuff" target="self" buff="buffGSKEquippedPoisonedAmmo"/>
        <triggered_effect trigger="onSelfEquipStop" action="RemoveBuff" target="self" buff="buffGSKEquippedPoisonedAmmo" help="ISSUE: this may fail?"/>
        <triggered_effect trigger="onReloadStart" action="RemoveBuff" target="self" buff="buffGSKEquippedPoisonedAmmo"/>
        <triggered_effect trigger="onReloadStop" action="AddBuff" target="self" buff="buffGSKEquippedPoisonedAmmo"/>
      </effect_group>
    </item>
    <item name="ammoCrossbowBoltPoison">
      <property name="Tags" value="ammo,ranged,attAgility,perkArchery,perkPenetrator,poison"/>
      <property name="DisplayType" value="ammoArrow"/>
      <property name="Meshfile" value="@:Other/Items/Weapons/Ranged/Bows/Arrows/bolt_stonePrefab.prefab"/>
      <property name="CustomIcon" value="ammoCrossbowBoltStone"/>
      <property name="CustomIconTint" value="128,180,128"/>
      <property name="DescriptionKey" value="dkGSKPoisonProjectile"/>
      <property name="HoldType" value="45"/>
      <property name="HandMeshfile" value="@:Other/Items/Misc/sackPrefab.prefab"/>
      <property name="DropMeshfile" value="@:Other/Items/Misc/sack_droppedPrefab.prefab"/>
      <property name="Material" value="Mwood"/>
      <property name="IsSticky" value="true"/>
      <property name="StickyOffset" value=".12"/>
      <property name="StickyColliderUp" value="2"/>
      <property name="StickyColliderRadius" value=".05"/>
      <property name="StickyColliderLength" value=".75"/>
      <property name="Stacknumber" value="25"/>
      <property name="EconomicValue" value="12"/>
      <property name="EconomicBundleSize" value="5"/>
      <property name="Group" value="Ammo/Weapons,Ammo,Ranged Weapons"/>
      <property class="Action1">
        <property name="Class" value="Projectile"/>
        <property name="Explosion.ParticleIndex" value="0"/>
        <property name="Gravity" value="-3"/>
        <property name="FlyTime" value="0"/>
        <property name="LifeTime" value="14"/>
      </property>
      <effect_group name="ammoCrossbowBoltPoison" tiered="false">
        <passive_effect name="EntityDamage" operation="base_set" value="1" tags="perkArchery"/>
        <passive_effect name="BlockDamage" operation="base_set" value="1" tags="perkArchery"/>
        <passive_effect name="DamageModifier" operation="perc_set" value=".1" tags="wood"/>
        <passive_effect name="DamageModifier" operation="perc_set" value="0" tags="earth,metal,cloth"/>
        <passive_effect name="ProjectileVelocity" operation="base_set" value="67.5" tags="perkArchery"/>
        <triggered_effect trigger="onProjectileImpact" action="AddBuff" target="otherAOE" range="0.05" target_tags="zombie,animal,bandit" buff="buffGSKSnakePoison"/>
        <triggered_effect trigger="onSelfEquipStart" action="AddBuff" target="self" buff="buffGSKEquippedPoisonedAmmo"/>
        <triggered_effect trigger="onSelfEquipStop" action="RemoveBuff" target="self" buff="buffGSKEquippedPoisonedAmmo"/>
      </effect_group>
    </item>
    <item name="ammoProjectileSpiderWebPlayer">
      <property name="Extends" value="thrownGrenadeContact"/>
      <property name="TintColor" value="128,180,128"/>
      <property name="Meshfile" value="@:Other/Items/Misc/snowballPrefab.prefab"/>
      <property name="HandMeshfile" value="@:Other/Items/Misc/snowball_FP_Prefab.prefab"/>
      <property name="DropMeshfile" value="@:Other/Items/Misc/snowballPrefab.prefab"/>
      <property name="DropScale" value="1.5"/>
      <property name="Material" value="Morganic"/>
      <property name="CustomIcon" value="resourceSnowBall"/>
      <property name="CustomIconTint" value="128,180,128"/>
      <property name="Material" value="Mcloth"/>
      <property name="Explosion.ParticleIndex" value="0" help="was 7 vomit, but that puts fire on everything... there could have some particle that is just plain light and some sound"/>
      <property name="Explosion.RadiusBlocks" value="1"/>
      <property name="Explosion.RadiusEntities" value="1"/>
      <property name="Explosion.DamageBonus.earth" value="0"/>
      <property name="Explosion.DamageBonus.water" value="0"/>
      <property name="Explosion.BlastPower" value="0"/>
      <property name="FuseTime" value="15"/>
      <property name="FusePrimeOnActivate" value="true"/>
      <property name="ExplodeOnHit" value="true"/>
      <property name="StickPercent" value="1.0"/>
      <property name="Stacknumber" value="300"/>
      <property name="EconomicValue" value="3"/>
      <property name="SellableToTrader" value="true"/>
      <property class="Action0">
        <property name="Buff" value="buffGSKSpiderNet11"/>
        <requirement name="CVarCompare" cvar="_underwater" operation="LT" value=".98"/>
      </property>
      <property class="Action1">
        <property name="Sound_start" value="swoosh"/>
      </property>
      <effect_group name="ammoProjectileSpiderWebPlayer" tiered="false">
        <passive_effect name="BlockDamage" operation="base_set" value="0"/>
        <passive_effect name="EntityDamage" operation="base_set" value="0" help="10 is actually hitting for 200hp in v 1.1b14 why? old: 10 seems the minimum to trigger onSelfExplosionAttackedOther right? "/>
        <passive_effect name="ModSlots" operation="base_set" value="0"/>
        <passive_effect name="BuffProcChance" operation="base_set" value="1.0" tags="buffGSKSpiderNet11"/>
        <triggered_effect trigger="onSelfAttackedOther" action="AddBuff" target="other" buff="buffGSKSpiderNet11"/>
        <triggered_effect trigger="onSelfDamagedOther" action="AddBuff" target="other" buff="buffGSKSpiderNet11"/>
        <triggered_effect trigger="onSelfExplosionAttackedOther" action="AddBuff" target="other" buff="buffGSKSpiderNet11"/>
        <triggered_effect trigger="onSelfExplosionDamagedOther" action="AddBuff" target="other" buff="buffGSKSpiderNet11"/>
      </effect_group>
    </item>
    <item name="GSKSpiderRepelent">
      <property name="Extends" value="GSKBaseActivatorConsumableSlow"/>
      <property name="CustomIcon" value="resourceTestosteroneExtract"/>
      <property name="CustomIconTint" value="128,220,180"/>
      <property name="DescriptionKey" value="buffGSKSnakePoisonDesc"/>
      <property name="EconomicValue" value="25"/>
      <effect_group tiered="false">
        <triggered_effect trigger="onSelfPrimaryActionEnd" action="ModifyCVar" cvar="iGSKSpawnSpiderMiniTmout" operation="add" value="900"/>
      </effect_group>
    </item>
    <item name="ammoProjectileSpiderNet">
      <property name="Meshfile" value="@:Other/Items/Misc/snowballPrefab.prefab"/>
      <property name="Material" value="Morganic"/>
      <property name="CreativeMode" value="Player"/>
      <property name="CustomIcon" value="resourceSnowBall"/>
      <property name="CustomIconTint" value="128,180,128"/>
      <property name="ExplodeOnHit" value="true"/>
      <property name="StickPercent" value="0"/>
      <property name="ThrowableDecoy" value="false"/>
      <property class="Action1">
        <property name="Class" value="Projectile"/>
        <property name="DamageEntity" value="0"/>
        <property name="DamageBlock" value="0"/>
        <property name="Explosion.ParticleIndex" value="0" help="was 7 vomit, but that puts fire on everything... there could have some particle that is just plain light and some sound"/>
        <property name="Velocity" value="12.0"/>
        <property name="FlyTime" value="1.0"/>
        <property name="LifeTime" value="15.0"/>
        <property name="CollisionRadius" value=".5"/>
        <property name="DamageBonus.earth" value="0"/>
        <property name="Gravity" value="-1"/>
        <property name="Buff" value="buffGSKSpiderNet11"/>
      </property>
      <effect_group name="ammoProjectileSpiderNet" tiered="false">
        <passive_effect name="ModSlots" operation="base_set" value="0"/>
        <passive_effect name="BuffProcChance" operation="base_set" value="1.0" tags="buffGSKSpiderNet11"/>
      </effect_group>
    </item>
  </append>
  <append xpath="/items/item[starts-with(@name,'gunBow') and not(contains(@name,'Crossbow'))]/property[@class='Action0']/property[@name='Magazine_items']/@value">,ammoArrowPoison</append>
  <append xpath="/items/item[starts-with(@name,'gunBow') and contains(@name,'Crossbow')]/property[@class='Action0']/property[@name='Magazine_items']/@value">,ammoCrossbowBoltPoison</append>
  <append xpath="/items">
    <item name="meleeHandAnimalSpiderMini">
      <property name="Extends" value="meleeHandAnimalSpider"/>
      <property class="Action0">
        <property name="DamageEntity" value="3"/>
        <property name="DamageBlock" value="4"/>
      </property>
      <effect_group name="meleeHandAnimalSpiderMini" tiered="false">
        <passive_effect name="ModSlots" operation="base_set" value="0"/>
        <passive_effect name="MagazineSize" operation="base_set" value="1"/>
        <passive_effect name="BurstRoundCount" operation="base_set" value="1"/>
        <passive_effect name="SpreadDegreesVertical" operation="base_set" value="0.33"/>
        <passive_effect name="SpreadDegreesHorizontal" operation="base_set" value="0.33"/>
        <passive_effect name="SpreadMultiplierIdle" operation="base_set" value="1"/>
        <passive_effect name="DamageFalloffRange" operation="base_set" value="50"/>
        <passive_effect name="MaxRange" operation="base_set" value="50"/>
      </effect_group>
    </item>
  </append>
  <append xpath="/items/item[starts-with(@name,'meleeHandAnimalSpider')]" help="this way it grants the ranged attack to them all at least">
    <property class="Action1">
      <property name="Class" value="Vomit"/>
      <property name="Hitmask_override" value="Arrow"/>
      <property name="Delay" value=".1"/>
      <property name="Infinite_ammo" value="true"/>
      <property name="Magazine_items" value="ammoProjectileSpiderNet"/>
      <property name="Sound_warning" value=""/>
      <property name="Sound_start" value="swoosh"/>
      <property name="Sound_repeat" value=""/>
      <property name="Sound_end" value=""/>
      <property name="Sound_empty" value=""/>
      <property name="Sound_reload" value=""/>
    </property>
  </append>
  <append xpath="/items/item[@name='meleeHandAnimalSpider']">
    <effect_group name="meleeHandAnimalSpider" tiered="false">
      <passive_effect name="ModSlots" operation="base_set" value="0"/>
      <passive_effect name="MagazineSize" operation="base_set" value="3"/>
      <passive_effect name="BurstRoundCount" operation="base_set" value="1"/>
      <passive_effect name="SpreadDegreesVertical" operation="base_set" value="1"/>
      <passive_effect name="SpreadDegreesHorizontal" operation="base_set" value="1"/>
      <passive_effect name="SpreadMultiplierIdle" operation="base_set" value="1"/>
      <passive_effect name="DamageFalloffRange" operation="base_set" value="50"/>
      <passive_effect name="MaxRange" operation="base_set" value="50"/>
    </effect_group>
  </append>
  <append xpath="/items/item[@name='meleeHandAnimalSpiderFeral']">
    <effect_group name="meleeHandAnimalSpiderFeral" tiered="false">
      <passive_effect name="ModSlots" operation="base_set" value="0"/>
      <passive_effect name="MagazineSize" operation="base_set" value="6"/>
      <passive_effect name="BurstRoundCount" operation="base_set" value="1"/>
      <passive_effect name="SpreadDegreesVertical" operation="base_set" value="3"/>
      <passive_effect name="SpreadDegreesHorizontal" operation="base_set" value="3"/>
      <passive_effect name="SpreadMultiplierIdle" operation="base_set" value="1"/>
      <passive_effect name="DamageFalloffRange" operation="base_set" value="50"/>
      <passive_effect name="MaxRange" operation="base_set" value="50"/>
    </effect_group>
  </append>
  <append xpath="/items/item[@name='meleeHandAnimalSpiderQueen']">
    <effect_group name="meleeHandAnimalSpiderQueen" tiered="false">
      <passive_effect name="ModSlots" operation="base_set" value="0"/>
      <passive_effect name="MagazineSize" operation="base_set" value="9"/>
      <passive_effect name="BurstRoundCount" operation="base_set" value="1"/>
      <passive_effect name="SpreadDegreesVertical" operation="base_set" value="5"/>
      <passive_effect name="SpreadDegreesHorizontal" operation="base_set" value="5"/>
      <passive_effect name="SpreadMultiplierIdle" operation="base_set" value="1"/>
      <passive_effect name="DamageFalloffRange" operation="base_set" value="50"/>
      <passive_effect name="MaxRange" operation="base_set" value="50"/>
    </effect_group>
  </append>
</GhussakTweaks>
