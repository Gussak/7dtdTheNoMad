<?xml version="1.0"?>
<GhussakTweaks>
  <append xpath="/items">
    <item name="GSKCFGDrinkRainAllowed">
      <property name="ItemTypeIcon" value="computer"/>
      <property name="Extends" value="GSKBaseActivatorReqMeleeConfiguratorFast"/>
      <property name="DescriptionKey" value="dkGSKCFGDrinkRainAllowed"/>
      <effect_group tiered="false">
        <triggered_effect trigger="onSelfPrimaryActionEnd" action="ModifyCVar" cvar="iGSKDrinkRainAllowed" operation="set" value="1"/>
        <triggered_effect trigger="onSelfSecondaryActionEnd" action="ModifyCVar" cvar="iGSKDrinkRainAllowed" operation="set" value="0"/>
        <triggered_effect trigger="onSelfPrimaryActionEnd" action="ModifyCVar" cvar=".fGSKCFGTMPval1" operation="set" value="@iGSKDrinkRainAllowed"/>
        <triggered_effect trigger="onSelfSecondaryActionEnd" action="ModifyCVar" cvar=".fGSKCFGTMPval1" operation="set" value="@iGSKDrinkRainAllowed"/>
        <triggered_effect trigger="onSelfPrimaryActionEnd" action="ModifyCVar" cvar=".fGSKCFGTMPval2" operation="set" value="0"/>
        <triggered_effect trigger="onSelfSecondaryActionEnd" action="ModifyCVar" cvar=".fGSKCFGTMPval2" operation="set" value="0"/>
      </effect_group>
    </item>
    <item name="GSKmeltSnowBallx10">
      <property name="Extends" value="GSKBaseActivatorConsumableSlow"/>
      <property name="CustomIcon" value="drinkJarRiverWater"/>
      <property name="CustomIconTint" value="220,220,220"/>
      <property name="Meshfile" value="@:Other/Items/Food/bottled_waterPrefab.prefab"/>
      <property name="Material" value="Mglass"/>
      <property name="DescriptionKey" value="dkGSKmeltSnowBall"/>
      <property class="Action0">
        <requirement name="!InBiome" biome="1" help="desert5 snow1 forest3 wasteland8"/>
        <requirement name="CVarCompare" cvar="iGSKDenyMeltSnowBall" operation="LTE" value="0"/>
        <property name="Class" value="Eat"/>
        <property name="Delay" value="1"/>
        <property name="Use_time" value="..."/>
        <property name="Sound_start" value="player_drinking"/>
        <property name="Create_item" value="drinkJarRiverWater"/>
        <property name="Create_item_count" value="10"/>
      </property>
      <effect_group tiered="false">
        <requirement name="!IsNight"/>
        <triggered_effect trigger="onSelfPrimaryActionEnd" action="ModifyCVar" target="self" cvar="iGSKDenyMeltSnowBall" operation="set" value="90">
          <requirement name="InBiome" biome="3" help="desert5 snow1 forest3 wasteland8"/>
        </triggered_effect>
        <triggered_effect trigger="onSelfPrimaryActionEnd" action="ModifyCVar" target="self" cvar="iGSKDenyMeltSnowBall" operation="set" value="30">
          <requirement name="InBiome" biome="5" help="desert5 snow1 forest3 wasteland8"/>
        </triggered_effect>
        <triggered_effect trigger="onSelfPrimaryActionEnd" action="ModifyCVar" target="self" cvar="iGSKDenyMeltSnowBall" operation="set" value="60">
          <requirement name="InBiome" biome="8" help="desert5 snow1 forest3 wasteland8"/>
        </triggered_effect>
      </effect_group>
      <effect_group tiered="false">
        <requirement name="IsNight"/>
        <triggered_effect trigger="onSelfPrimaryActionEnd" action="ModifyCVar" target="self" cvar="iGSKDenyMeltSnowBall" operation="set" value="180">
          <requirement name="InBiome" biome="3" help="desert5 snow1 forest3 wasteland8"/>
        </triggered_effect>
        <triggered_effect trigger="onSelfPrimaryActionEnd" action="ModifyCVar" target="self" cvar="iGSKDenyMeltSnowBall" operation="set" value="60">
          <requirement name="InBiome" biome="5" help="desert5 snow1 forest3 wasteland8"/>
        </triggered_effect>
        <triggered_effect trigger="onSelfPrimaryActionEnd" action="ModifyCVar" target="self" cvar="iGSKDenyMeltSnowBall" operation="set" value="120">
          <requirement name="InBiome" biome="8" help="desert5 snow1 forest3 wasteland8"/>
        </triggered_effect>
      </effect_group>
    </item>
    <item name="GSKcollectRainWater">
      <property name="Extends" value="GSKBaseActivatorConsumableSlow"/>
      <property name="CustomIcon" value="drinkJarRiverWater"/>
      <property name="CustomIconTint" value="128,180,180"/>
      <property name="Meshfile" value="@:Other/Items/Food/bottled_waterPrefab.prefab"/>
      <property name="Material" value="Mglass"/>
      <property name="DescriptionKey" value="dkGSKcollectRainWater"/>
      <property class="Action0">
        <requirement name="CVarCompare" cvar=".iGSKIsRainingOnPlayer" operation="Equals" value="1"/>
        <requirement name="CVarCompare" cvar="iGSKDenyCollectRainTime" operation="LTE" value="0"/>
        <property name="Class" value="Eat"/>
        <property name="Delay" value="1"/>
        <property name="Use_time" value="..."/>
        <property name="Create_item" value="drinkJarRiverWater"/>
      </property>
      <effect_group tiered="false">
        <triggered_effect trigger="onSelfPrimaryActionEnd" action="ModifyCVar" target="self" cvar="iGSKDenyCollectRainTime" operation="set" value="180"/>
      </effect_group>
    </item>
  </append>
</GhussakTweaks>
