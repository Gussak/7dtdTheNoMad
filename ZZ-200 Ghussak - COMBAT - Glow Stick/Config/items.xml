<?xml version="1.0"?>
<GhussakTweaks>
  <append xpath="/items">
    <item name="GlowStickGreen">
      <property name="CustomIcon" value="7dtdGskGlowStickGreen"/>
      <property name="DescriptionKey" value="dkGlowStickGreen"/>
      <property name="Tags" value="ammo,weapon,attPerception"/>
      <property name="ItemTypeIcon" value="explosion"/>
      <property name="DisplayType" value="ammoGrenadeContact"/>
      <property name="Class" value="ItemClassTimeBomb"/>
      <property name="HoldType" value="57"/>
      <property name="Meshfile" value="@:Other/Items/Food/masonJarWaterPrefab.prefab" help="ISSUE: this prefab has no collider for nearby explosions?"/>
      <property name="Meshfile" value="@:Other/Items/Weapons/Ranged/Grenade/GrenadePrefab.prefab"/>
      <property name="TintColor" value="128,255,180"/>
      <property name="UMA.Overlay0Tint" value="0,255,0"/>
      <property name="DropScale" value="2.5"/>
      <property name="Material" value="Mmetal"/>
      <property name="Stacknumber" value="100"/>
      <property name="EconomicValue" value="33"/>
      <property name="SellableToTrader" value="false"/>
      <property name="Weight" value="5"/>
      <property name="Explosion.Duration" value="900" help="was 300. the longer it lasts, the longer it DELAYS TO KICK IN also, but particleIndex7 doesnt light for too long anyway."/>
      <property name="Explosion.ParticleIndex" value="7" help="this particle is bright for a bit less of half of the time only, so for 2mins use 5mins"/>
      <!--
      HELPGOOD:ListAllparticles
      clear;egrep -\-color -iRI -\-include=*.xml -o '<item.*|particle.*value="[0-9]*"' * -h |egrep -v 'value="(0)"' |grep "<item" -A 1 |grep -i particle -B 1 |egrep -v '^\-\-$' |egrep -v "RandomRoll|Create_item_count|grep"
-->
      <property name="Explosion.RadiusBlocks" value="0" help="I think this being 0 prevents setting wooden structures on fire with the vomit splash particle 7! thats why cop and spider ammo sets everything on fire..."/>
      <property name="Explosion.RadiusEntities" value="10"/>
      <property name="Explosion.DamageBonus.earth" value="0"/>
      <property name="Explosion.DamageBonus.water" value="0"/>
      <property name="Explosion.BlastPower" value="0"/>
      <property name="FuseTime" value="6"/>
      <property name="FusePrimeOnActivate" value="true"/>
      <property name="ExplodeOnHit" value="true"/>
      <property name="StickPercent" value=".5"/>
      <property name="Group" value="Ammo/Weapons,Ammo"/>
      <property name="SoundUnholster" value="grenade_unholster"/>
      <property class="Action0" help="TODO: create a buff where it breaks that range 5 asks player to event play some sound that make the player 50% visible, at range 10 25% visible, and lasts the same time that light lasts while it is strong at least">
        <property name="Class" value="ThrowAway"/>
        <property name="Delay" value="1.2"/>
        <property name="Throw_strength_default" value="8"/>
        <property name="Throw_strength_max" value="100"/>
        <property name="Max_strain_time" value="1.25"/>
        <property name="Sound_start" value="grenade_throw"/>
        <property name="Gravity" value="-5"/>
        <requirement name="CVarCompare" cvar="_underwater" operation="LT" value=".98"/>
      </property>
      <property class="Action1">
        <property name="Class" value="Activate"/>
        <property name="Delay" value="1"/>
        <property name="Sound_start" value="grenade_pullpin"/>
      </property>
      <property name="ThrowableDecoy" value="true" help="explode on hit does not work with decoy right?"/>
      <property name="DistractionTags" value="zombie,requires_contact"/>
      <effect_group name="decoy" tiered="false">
        <passive_effect name="DistractionRadius" operation="base_set" value="50"/>
        <passive_effect name="DistractionLifetime" operation="base_set" value="1"/>
        <passive_effect name="DistractionStrength" operation="base_set" value="100"/>
        <passive_effect name="BlockDamage" operation="base_set" value="0"/>
      </effect_group>
    </item>
    <item name="GlowStickGreenDecoy" help="TODO:not working as decoy yet..">
      <property name="CreativeMode" value="None"/>
      <property name="Extends" value="GlowStickGreen"/>
      <property name="Meshfile" value="@:Other/Items/Crafting/rock_smallPrefab.prefab" help="TODO: distraction only works with small stones mesh?"/>
      <property name="CustomIconTint" value="180,128,128"/>
      <property name="ExplodeOnHit" value="false"/>
    </item>
    <item name="GlowStickGreenDecoyTeleportBeaconSpawn" help="TODO: not spawning anything yet..">
      <property name="CreativeMode" value="None"/>
      <property name="Extends" value="GlowStickGreenDecoy"/>
      <property name="CustomIconTint" value="128,220,220"/>
      <property name="ExplodeOnHit" value="false"/>
      <effect_group name="spawnBeacon" tiered="false">
        <triggered_effect trigger="onProjectileImpact" action="CallGameEvent" event="eventGSKElctrnSpawnBeacon"/>
      </effect_group>
    </item>
    <item name="GlowStickGreenDecoy2">
      <property name="CreativeMode" value="None"/>
      <property name="CustomIcon" value="7dtdGskGlowStickGreen"/>
      <property name="DropScale" value="6"/>
      <property name="EconomicBundleSize" value="50"/>
      <property name="EconomicValue" value="50"/>
      <property name="HoldType" value="40"/>
      <property name="Material" value="MresourceRockSmall"/>
      <property name="MeltTimePerUnit" value=".5"/>
      <property name="ExplodeOnHit" value="false"/>
      <property name="Explosion.Duration" value="300"/>
      <property name="Explosion.ParticleIndex" value="7"/>
      <property name="FuseTime" value="6"/>
      <property name="Meshfile" value="@:Other/Items/Crafting/rock_smallPrefab.prefab"/>
      <property name="RepairAmount" value="300"/>
      <property name="RepairTime" value=".5"/>
      <property name="Stacknumber" value="65535"/>
      <property name="Weight" value="5"/>
      <property class="Action0">
        <property name="Class" value="ThrowAway"/>
        <property name="Delay" value="1.2"/>
        <property name="Throw_strength_default" value="8"/>
        <property name="Throw_strength_max" value="60"/>
        <property name="Max_strain_time" value="1.25"/>
        <property name="Sound_start" value="swoosh"/>
      </property>
      <property class="Action1">
        <property name="Class" value="Activate"/>
        <property name="Delay" value="1"/>
        <property name="Sound_start" value="grenade_pullpin"/>
      </property>
      <property name="ThrowableDecoy" value="true"/>
      <property name="DistractionTags" value="zombie,requires_contact"/>
      <effect_group name="decoy" tiered="false">
        <passive_effect name="DistractionRadius" operation="base_set" value="50"/>
        <passive_effect name="DistractionLifetime" operation="base_set" value="1"/>
        <passive_effect name="DistractionStrength" operation="base_set" value="100"/>
      </effect_group>
      <property name="Group" value="Resources"/>
      <property name="CraftingIngredientTime" value="0"/>
    </item>
  </append>
</GhussakTweaks>
