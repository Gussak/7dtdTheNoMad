<GhussakTweaks>
	<append xpath="/buffs">
		
    <buff name="buffGSKRadiationAura">
      <stack_type value="ignore" />
      <duration value="0" />
      <update_rate value="2.5"/>
      <effect_group>
        <requirement name="CVarCompare" cvar=".iGSKRadiationAuraTimeout" operation="LTE" value="0"/>
        
        <triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffStatusRadiation" operation="add" value="randomFloat(1.50,2.50)" target="selfAOE" range="7.5" target_tags="player" compare_type="or" help="nearby, player must hurry">
<!--
          <requirement name="CVarCompare" cvar="$buffStatusRadiation" operation="LT" value="100" target="other" />
-->
          <requirement name="!IsBloodMoon" help="because during bloodmoon they all know where the player is all the time and it would require hazmat in all biomes to survive"/>
          <requirement name="InBiome" biome="8" help="because you should only stay in wasteland with hazmat suit"/> <!-- HELPGOOD: wasteland -->
        </triggered_effect>
        <triggered_effect help="FixTinyRandomFloat:was $buffStatusRadiation add randomFloat(0.50,1.00)" trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".fGSKFixTinyRandomFloatTmp" operation="set" value="randomInt(500,1000)"/>        <triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".fGSKFixTinyRandomFloatTmp" operation="divide" value="1000" help="FixTinyRandomFloat"/>        <triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffStatusRadiation" operation="add" value="@.fGSKFixTinyRandomFloatTmp" target="selfAOE" range="15" target_tags="player" compare_type="or" help="not too far, player must be cautious;FixTinyRandomFloat: was randomFloat(0.50,1.00)"> <!-- HELPGOOD:FixTinyRandomFloat:OriginalLineData:LineNumber=9164:        <triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffStatusRadiation" operation="add" value="randomFloat(0.50,1.00)" target="selfAOE" range="15" target_tags="player" compare_type="or" help="not too far, player must be cautious"> -->
<!--
          <requirement name="CVarCompare" cvar="$buffStatusRadiation" operation="LT" value="100" target="other" />
-->
          <requirement name="!IsBloodMoon" help="because during bloodmoon they all know where the player is all the time and it would require hazmat in all biomes to survive"/>
          <requirement name="InBiome" biome="8" help="because you should only stay in wasteland with hazmat suit"/> <!-- HELPGOOD: wasteland -->
        </triggered_effect>
        <triggered_effect help="FixTinyRandomFloat:was $buffStatusRadiation add randomFloat(0.10,0.20)" trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".fGSKFixTinyRandomFloatTmp" operation="set" value="randomInt(100,200)"/>        <triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".fGSKFixTinyRandomFloatTmp" operation="divide" value="1000" help="FixTinyRandomFloat"/>        <triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffStatusRadiation" operation="add" value="@.fGSKFixTinyRandomFloatTmp" target="selfAOE" range="30" target_tags="player" help="just a hint distance for the region. Anywhere and anytime also as this is weak;FixTinyRandomFloat: was randomFloat(0.10,0.20)"> <!-- HELPGOOD:FixTinyRandomFloat:OriginalLineData:LineNumber=9171:        <triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar="$buffStatusRadiation" operation="add" value="randomFloat(0.10,0.20)" target="selfAOE" range="30" target_tags="player" help="just a hint distance for the region. Anywhere and anytime also as this is weak"> -->
<!--
          <requirement name="CVarCompare" cvar="$buffStatusRadiation" operation="LT" value="100" target="other" />
-->
        </triggered_effect>
        
        <triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".iGSKHealMonster" operation="set" value="randomInt(15,50)"/>
        <triggered_effect trigger="onSelfBuffUpdate" action="ModifyStats" stat="Health" operation="add" value="@.iGSKHealMonster" target="selfAOE" range="12" target_tags="zombie" help="todo: is this working? the game must be running for some time before this kicks in?">
          <requirement name="!HasBuff" buff="buffRadiatedRegenBlock" target="other" help="if other regen is blocked, wont be regenerated by this zombie"/>
          <requirement name="!HasBuff" buff="buffRadiatedRegenBlock" help="if self regen is blocked wont regen others."/>
        </triggered_effect>
      </effect_group>
      
      <effect_group help="timeout control">
        <requirement name="CVarCompare" cvar=".iGSKRadiationAuraTimeout" operation="LTE" value="0"/>
        
        <triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".iGSKRadiationAuraTimeout" operation="set" value="15" help="must be mult of updrate">
          <requirement name="InBiome" biome="5" help="desert5 snow1 forest3 wasteland8"/>
        </triggered_effect>
        <triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".iGSKRadiationAuraTimeout" operation="set" value="10" help="must be mult of updrate">
          <requirement name="InBiome" biome="1" help="snow"/>
        </triggered_effect>
        <triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".iGSKRadiationAuraTimeout" operation="set" value="7.5" help="must be mult of updrate">
          <requirement name="InBiome" biome="3" help="pineforest (all monsters thrive easier)"/>
        </triggered_effect>
        <triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".iGSKRadiationAuraTimeout" operation="set" value="5.0" help="must be mult of updrate">
          <requirement name="InBiome" biome="8" help="Wasteland (all monsters are empowered by radiation)"/>
        </triggered_effect>
      </effect_group>
      <effect_group>
        <triggered_effect trigger="onSelfBuffUpdate" action="ModifyCVar" cvar=".iGSKRadiationAuraTimeout" operation="add" value="-2.5"/>
      </effect_group>
    </buff>
    
	</append>
</GhussakTweaks>
 
