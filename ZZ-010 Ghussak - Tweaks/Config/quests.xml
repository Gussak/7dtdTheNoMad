<?xml version="1.0"?>
<GhussakTweaks>
  <remove xpath="/quests/quest[@id='quest_whiteRiverCitizen1']/reward"/>
  <remove xpath="/quests/quest[@id='quest_whiteRiverCitizen1']/objective[@type='Goto']/property[@name='biome_filter_type']"/>
  <remove xpath="/quests/quest[@id='quest_whiteRiverCitizen1']/objective[@type='Goto']/property[@name='biome_filter']"/>
  <remove xpath="/quests/quest[@id='quest_BasicSurvival8']/reward[@id='quest_whiteRiverCitizen1']"/>
  <remove xpath="/quests/quest[@id='quest_BasicSurvival8']/reward[@type='SkillPoints']"/>
  <remove xpath="/quests/quest[@id='quest_BasicSurvival1']/action[@value='tutorialTipQuest02']"/>
  <set xpath="/quests/quest[starts-with(@id,'treasure_')]/objective/property[@name='distance']/@value">100-1250</set>
  <append xpath="/quests/quest[starts-with(@id,'treasure_')]">
    <event type="TreasureRadiusReduction" chance="0.75">
      <action type="SpawnGSEnemy" id="SleeperGSList" value="5-10"/>
    </event>
    <event type="TreasureRadiusReduction" chance="0.50">
      <action type="SpawnGSEnemy" id="SleeperGSList" value="5-10"/>
    </event>
    <event type="TreasureRadiusReduction" chance="0.25">
      <action type="SpawnGSEnemy" id="SleeperGSList" value="5-10"/>
    </event>
    <event type="TreasureRadiusReduction" chance="0.05">
      <action type="SpawnGSEnemy" id="SleeperGSList" value="5-10"/>
    </event>
    <!-- HELPGOOD:TODO: random spawn raiders on objective completion, just after player gets stuff from chest -->
  </append>
  <append xpath="/quests/quest[       starts-with(@id,'treasure_') or        starts-with(@id,'tier')     ]">
    <property name="difficulty" value="insane"/>
    <property name="difficulty_tier" value="1" help="!!!IMPORTANT!!! other than 1 prevents interacting with traders! DO NOT CHANGE THIS!"/>
  </append>
  <insertAfter xpath="//objective[@type='ReturnToNPC']" help="the phase must match the objective's phase. it shall happen after opening the chest and getting stuff to retrieve. Dont spawn too many as they also drop good loot. TODO: create a bash script to use the correct phase in case it may differ than 4 in some vanilla update or to fit other player's mods">
    <action type="SpawnGSEnemy" id="NPCBanditsBossHorde" value="1" phase="4" chance="0.10"/>
    <action type="SpawnGSEnemy" id="NPCBanditsRangedHorde" value="1" phase="4"/>
    <action type="SpawnGSEnemy" id="NPCBanditsMeleeHorde" value="1-3" phase="4"/>
  </insertAfter>
  <append xpath="/quests/quest[starts-with(@id,'treasure_')]/objective[@type='TreasureChest']">
    <property name="complete_event" value="eventGSKSpawnBandits" help="TODO: why this doesnt work?"/>
    <property name="block" value="blkGSKburiedTreasure"/>
    <property name="alt_block" value="blkGSKburiedTreasure"/>
  </append>
</GhussakTweaks>
