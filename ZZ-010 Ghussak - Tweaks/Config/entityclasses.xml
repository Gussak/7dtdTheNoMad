<?xml version="1.0"?>
<GhussakTweaks>
  <append xpath="/entity_classes/entity_class[@name='playerMale']/effect_group/triggered_effect[(@trigger='onSelfEnteredGame' or @trigger='onSelfRespawn') and @action='AddBuff' and @target='self']/@buff">,buffPlayerEnhancesNearbyFriendlyNPCs1,buffLeaderLimitsHiredNPCsAmount100,buffDrinkRainWater72,buffGSKRespawnPreventWaterBkp6,buffGSKShowWaterBkp16,buffGSKBkpWaterVal67,buffGSKHazardWeatherMiasmaDirty53,buffGSKDenyGoreHarvest,buffGSKProperSwimming39,buffGSKAllHazardsCheck34,buffGSKRadResistWork28,buffGSKRadRemover27,buffGSKHeatColdProtClothDmgKeep26,buffGSKChemUseSideEffects25,buffGSKBloodmoonZombiesPowerChk23,buffGSKElctrnOverchargeDmg68,buffGSKPermanentGenericCheck15,buffGSKMutant_ChkAndApplyOnMobs15,buffGSKInPineForestBiomeMonstersThrive9,buffGSKCosmicRayStrikeChk8,buffGSKMeleeParry6,buffGSKFallOverLandingHit6</append>
  <append xpath="/entity_classes/entity_class[@name='playerMale']/effect_group/triggered_effect[@trigger='onSelfEnteredGame' and @action='AddBuff' and @target='self']/@buff">,buffGSKDetectEnterGame,buffGSKConfigGeneric,buffGSKGodModeFirstSpawn</append>
  <!-- HELPGOOD: everytime player joins the game. the 1st random teleport to ground MUST be after the enter game detection -->
  <append xpath="/entity_classes/entity_class[@name='playerMale']/effect_group/triggered_effect[@trigger='onSelfRespawn' and @action='AddBuff' and @target='self']/@buff">,buffGSKDetectRespawn,buffGSKRespawnNoMadBundlesAllowCrafting,buffGSKGodModeRespawn</append>
  <!-- HELPGOOD: only after death/resurrect. buffGSKDetectRespawn must be b4 buffGSKRespawnNoMadBundlesAllowCrafting -->
  <append xpath="/entity_classes/entity_class[@name='playerMale']">
    <effect_group>
      <triggered_effect trigger="onOtherDamagedSelf" action="ModifyCVar" cvar=".iGSKMeleeParryOnce" operation="add" value="1" help="TODO: let it parry only melee attacks? despite ranged is actually cool in a ninja sense">
        <requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LTE" value="@iGSKMeleeParryChance"/>
      </triggered_effect>
      <triggered_effect trigger="onSelfAttackedOther" action="AddBuff" buff="buffGSKMarkedForJumpKick" target="selfAOE" range="2.5" target_tags="zombie,animal,bandit">
        <requirement name="CVarCompare" cvar="iGSKMeleeParryChance" operation="GT" value="0" help="used as indicator to holding melee weapon"/>
      </triggered_effect>
      <triggered_effect trigger="onSelfJump" action="Ragdoll" duration="3" force="250" target="selfAOE" range="2.5" target_tags="zombie,animal,bandit" help="TODO: this trigger works here? see buffGSKCheckJumpKick too">
        <requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LT" value="75"/>
        <requirement name="HasBuff" target="other" buff="buffGSKMarkedForJumpKick"/>
      </triggered_effect>
      <!-- HELPGOOD: use the same possible requirements from buffGSKNPCproperSneaking7, just remember this runs on the player and not on the NPC-->
      <triggered_effect trigger="onSelfAttackedOther" action="ModifyCVar" cvar=".iGSKPlayerAttackedDisableNPCSneak" operation="add" value="1">
        <requirement name="IsNight"/>
        <requirement name="!IsIndoors"/>
        <requirement name="!IsBloodMoon"/>
        <requirement name="CVarCompare" cvar="_crouching" operation="Equals" value="1"/>
        <requirement name="IsAlive" target="other"/>
        <requirement name="EntityTagCompare" tags="player"/>
      </triggered_effect>
      <triggered_effect trigger="onSelfAttackedOther" action="ModifyCVar" cvar="iGSKNPCfollowingDenySneakTimer" operation="add" value="5" help="needs to tell NPC to completely stop attacking">
        <requirement name="IsNight"/>
        <requirement name="!IsIndoors"/>
        <requirement name="!IsBloodMoon"/>
        <!-- HELPGOOD: walk crouched is _crouching=0 for NPCs right?
        <requirement name="CVarCompare" cvar="_crouching" operation="Equals" value="1" />
-->
        <requirement name="IsAlive" target="other"/>
        <requirement name="EntityTagCompare" tags="npc"/>
      </triggered_effect>
    </effect_group>
  </append>
  <set xpath="/entity_classes/entity_class[@name='animalBoar']/property[@name='Faction']/@value">aggressiveanimalsmedium</set>
  <append xpath="/entity_classes/entity_class[@name='animalBoar']">
    <property name="AITask-1" value="BreakBlock"/>
    <property name="AITask-2" value="Territorial"/>
    <property name="AITask-3" value="RunawayWhenHurt" data="runChance=0.5;healthPer=0.3;healthPerMax=0.6"/>
    <property name="AITask-4" value="ApproachAndAttackTarget" data="class=EntityPlayer,15,EntityZombie,20,EntityNPC,15"/>
    <property name="AITask-5" value="ApproachSpot"/>
    <property name="AITask-6" value="Look"/>
    <property name="AITask-7" value="Wander"/>
    <property name="AITask-8" value=""/>
    <property name="AITarget-1" value="SetAsTargetIfHurt"/>
    <property name="AITarget-2" value="BlockingTargetTask"/>
    <property name="AITarget-3" value="SetNearestEntityAsTarget" data="class=EntityPlayer,14,8,EntityZombie,0,0,EntityNPC,14,8"/>
    <property name="AITarget-4" value=""/>
    <effect_group name="Attack Buff">
      <triggered_effect trigger="onSelfFirstSpawn" action="AddBuff" target="self" buff="buffNPCModThreat"/>
      <triggered_effect trigger="onSelfAttackedOther" action="AddBuff" target="self" buff="buffNPCModAttacking"/>
    </effect_group>
  </append>
  <append xpath="/entity_classes/entity_class[@name='animalBoar']">
    <property name="MoveSpeedAggro" value="1.35, 1.40"/>
  </append>
  <append xpath="/entity_classes/entity_class[@name='animalBear']">
    <property name="MoveSpeedAggro" value="1.45, 1.50"/>
  </append>
  <append xpath="/entity_classes/entity_class[@name='animalZombieBear']">
    <property name="MoveSpeedAggro" value="1.50, 1.55"/>
  </append>
  <append xpath="/entity_classes/entity_class[@name='animalBossGrace']">
    <property name="MoveSpeedAggro" value="1.45, 1.50"/>
  </append>
  <append xpath="/entity_classes/entity_class[@name='animalWolf']">
    <property name="MoveSpeedAggro" value="1.50, 1.55"/>
  </append>
  <append xpath="/entity_classes/entity_class[@name='animalZombieDog']">
    <property name="MoveSpeedAggro" value="1.55, 1.60"/>
  </append>
  <append xpath="/entity_classes/entity_class[@name='animalDireWolf']">
    <property name="MoveSpeedAggro" value="1.55, 1.60"/>
  </append>
  <append xpath="/entity_classes/entity_class[@name='animalDoe']">
    <property name="MoveSpeedPanic" value="1.80"/>
  </append>
  <append xpath="/entity_classes/entity_class[@name='animalStag']">
    <property name="MoveSpeedPanic" value="1.85"/>
  </append>
  <append xpath="/entity_classes/entity_class[@name='animalMountainLion']">
    <property name="MoveSpeedAggro" value="3.1, 3.3"/>
  </append>
  <append xpath="/entity_classes/entity_class[       @name='animalWolf' or       @name='animalBear' or       @name='animalZombieBear' or       @name='animalBossGrace' or       @name='animalDireWolf' or       @name='animalMountainLion'     ]">
    <property name="AITarget-1" value="SetAsTargetIfHurt"/>
    <property name="AITarget-2" value="BlockingTargetTask"/>
    <property name="AITarget-3" value="SetNearestCorpseAsTarget" data="class=EntityPlayer"/>
    <property name="AITarget-4" value="SetNearestEntityAsTarget" data="class=EntityPlayer,22,20,EntityAnimalStag,0,0,EntityNPC,18,13"/>
    <property name="AITarget-5" value=""/>
  </append>
  <!-- HELPGOOD: mute companion wolf when not in combat, so it's sounds become actually useful! -->
  <append xpath="/entity_classes/entity_class[@name='npcAnimalMeleeTemplate']">
    <property name="SoundRandom" value=""/>
  </append>
  <!-- HELPGOOD: this delay is nice! :) -->
  <set xpath="/entity_classes/entity_class[starts-with(@name, 'npc')]/property[contains(@name, 'SoundRandomTime')]/@value">600</set>
  <set xpath="/entity_classes/entity_class[starts-with(@name, 'animal')]/property[contains(@name, 'SoundRandomTime')]/@value">60</set>
  <append xpath="/entity_classes/entity_class[       (starts-with(@name, 'npc') and not(starts-with(@name,'npcHarley'))) or       starts-with(@name, 'survivor')     ]/effect_group[@name='Base Effects']">
    <passive_effect name="HealthMax" operation="base_set" value="75"/>
  </append>
  <append xpath="/entity_classes">
    <entity_class name="npcCosplayerAShotgun" extends="npcAdvancedAShotgunTemplate">
      <property name="LookAtAngle" value="0"/>
      <property name="SizeScale" value="1.1"/>
      <property name="Tags" value="entity,female,npc,ranged,cp,DRMid,UMA2"/>
      <property name="Faction" value="whiteriver"/>
      <property name="Names" value="Thalia,Amedee,Myriani,Dilya,Ilyrana,Saria,Aerith,Rina,Lyeecia,Maggwyn,Viessa,Tisha,Naexi,Lithoniel,Shaerra,Alyndra"/>
      <property name="DanceType" value="2"/>
      <property name="Mesh" value="#@modfolder(1-SurvivorzPack):Resources/Survivorz.unity3d?FemaleElvenArcherDark"/>
      <property name="SoundHurt" value="Player_Female/player2painlg"/>
      <property name="SoundHurtSmall" value="Player_Female/player2painsm"/>
      <property name="SoundDeath" value="Player_Female/player2death"/>
      <property name="SoundStamina" value="Player_Female/player2stamina"/>
      <property name="SoundDrownPain" value="Player_Female/player2drownpain"/>
      <property name="SoundWaterSurface" value="Player_Female/player2drownsurface"/>
      <property name="SoundDrownDeath" value="Player_Female/player2drowndeath"/>
      <property name="SoundJump" value="Player_Male/player2Jump"/>
      <property name="SoundLandSoft" value="Player_Male/player2LandSoft"/>
      <property name="SoundLandHard" value="Player_Male/player2LandHard"/>
      <property name="SoundPlayerLandThump" value="PlayerLandThump"/>
      <property name="SoundRandom" value="GurlzChatterRandom"/>
      <property name="SoundRandomTime" value="600"/>
      <property name="SoundAlert" value="Player_Female/player2stamina"/>
      <property name="SoundAttack" value="Player_Female/player2stamina"/>
      <property name="SoundSense" value="Player_Female/player2stamina"/>
      <property name="LootDropProb" value="0.33"/>
      <property name="LootDropEntityClass" value="EntityLootContainerRegularWithShotgun"/>
      <property name="HireCost" value="337"/>
      <effect_group name="Base Effects">
        <passive_effect name="PhysicalDamageResist" operation="base_set" value="10"/>
        <passive_effect name="HealthMax" operation="base_set" value="75"/>
      </effect_group>
    </entity_class>
  </append>
  <remove xpath="/entity_classes/entity_class[starts-with(@name,'animalSpider')]/property[@name='LootDropProb']"/>
  <remove xpath="/entity_classes/entity_class[starts-with(@name,'animalSpider')]/property[@name='LootDropEntityClass']"/>
  <append xpath="/entity_classes/entity_class[contains(@name, 'zombie')]" help="this prevents a huge lot of drop bags, to compensate, upped the item count on loot.xml, the idea is to loot less often and each be more rewarding">
    <property name="LootDropProb" value="0.05"/>
  </append>
  <append xpath="/entity_classes/entity_class[starts-with(@name, 'npc')]" help="was 0.33. but a friendly npc shall not drop stuff so easily, only by luck. This is also good for a hired NPC following you or patrolling or waiting.">
    <property name="LootDropProb" value="0.05"/>
  </append>
  <append xpath="/entity_classes/entity_class[starts-with(@name, 'Raider') or starts-with(@name,'npcHarley')]" help="bandits shall always drop something, they are somehow rare and provide a good challenge TODO: but would be better if only drops stuff when a player kills it, not by another NPC.  only npcHarley is set as bandit, must be set after 'npc' (pre-patching npcHarley to RaiderHarley may mess other devs mods)">
    <property name="LootDropProb" value="1.00"/>
  </append>
  <append xpath="/entity_classes/entity_class[contains(@name, 'survivor')]" help="no easy loot from friendlies">
    <property name="LootDropProb" value="0.05"/>
  </append>
  <append xpath="/entity_classes/entity_class[contains(@name,'animal')]" help="animals are to harvest only">
    <property name="LootDropProb" value="0.0"/>
  </append>
  <append xpath="/entity_classes/entity_class[contains(@name, 'animal')]">
    <property name="TimeStayAfterDeath" value="3600"/>
  </append>
  <append xpath="/entity_classes/entity_class[contains(@name, 'animalZombie')]" help="their flesh is contamined by zombie virus and will last longer">
    <property name="TimeStayAfterDeath" value="7200"/>
  </append>
  <append xpath="/entity_classes">
    <entity_class name="entContainerGSKGuardedTreasure" extends="DroppedLootContainer">
      <property name="LootListAlive" value="buriedTreasure"/>
      <property name="LootListOnDeath" value="buriedTreasure"/>
      <property name="TimeStayAfterDeath" value="72000"/>
      <property name="Model" value="#Entities/LootContainers?tier3LootChestPrefab.prefab"/>
    </entity_class>
  </append>
  <set xpath="/entity_classes/entity_class[contains(@name, 'EntityLootContainerRegular')]/property[contains(@name, 'Mesh')]/@value">#Entities/LootContainers?zpackBluePrefab.prefab</set>
  <set xpath="/entity_classes/entity_class[contains(@name, 'EntityLootContainerStrong')]/property[contains(@name, 'Mesh')]/@value">#Entities/LootContainers?zpackRedPrefab.prefab</set>
  <set xpath="/entity_classes/entity_class[contains(@name, 'EntityLootContainerBoss')]/property[contains(@name, 'Mesh')]/@value">#Entities/LootContainers?zpackPrefab.prefab</set>
  <append xpath="/entity_classes">
    <entity_class name="EntityLootContainerRegularWithLBow" extends="EntityLootContainerRegular">
      <property name="Mesh" value="#Entities/LootContainers?zpackPrefab.prefab"/>
      <property name="LootListOnDeath" value="lootPackRegularWithLBow"/>
    </entity_class>
    <entity_class name="EntityLootContainerRegularWithXBow" extends="EntityLootContainerRegular">
      <property name="Mesh" value="#Entities/LootContainers?zpackPrefab.prefab"/>
      <property name="LootListOnDeath" value="lootPackRegularWithXBow"/>
    </entity_class>
    <entity_class name="EntityLootContainerRegularWithRifle" extends="EntityLootContainerRegular">
      <property name="Mesh" value="#Entities/LootContainers?zpackPrefab.prefab"/>
      <property name="LootListOnDeath" value="lootPackRegularWithRifle"/>
    </entity_class>
    <entity_class name="EntityLootContainerRegularWithPistol" extends="EntityLootContainerRegular">
      <property name="Mesh" value="#Entities/LootContainers?zpackPrefab.prefab"/>
      <property name="LootListOnDeath" value="lootPackRegularWithPistol"/>
    </entity_class>
    <entity_class name="EntityLootContainerRegularWithShotgun" extends="EntityLootContainerRegular">
      <property name="Mesh" value="#Entities/LootContainers?zpackPrefab.prefab"/>
      <property name="LootListOnDeath" value="lootPackRegularWithShotgun"/>
    </entity_class>
    <entity_class name="EntityLootContainerRegularWithAK47" extends="EntityLootContainerRegular">
      <property name="Mesh" value="#Entities/LootContainers?zpackPrefab.prefab"/>
      <property name="LootListOnDeath" value="lootPackRegularWithAK47"/>
    </entity_class>
    <entity_class name="EntityLootContainerRegularWithRocket" extends="EntityLootContainerRegular">
      <property name="Mesh" value="#Entities/LootContainers?zpackPrefab.prefab"/>
      <property name="LootListOnDeath" value="lootPackRegularWithRocket"/>
    </entity_class>
  </append>
  <append xpath="/entity_classes/entity_class[contains(@name, 'Raider') or starts-with(@name,'npcHarley')]">
    <property name="LootDropEntityClass" value="EntityLootContainerBandit"/>
  </append>
  <append xpath="/entity_classes/entity_class[contains(@name, 'LBow')]">
    <property name="LootDropEntityClass" value="EntityLootContainerRegularWithLBow"/>
  </append>
  <append xpath="/entity_classes/entity_class[contains(@name, 'XBow')]">
    <property name="LootDropEntityClass" value="EntityLootContainerRegularWithXBow"/>
  </append>
  <append xpath="/entity_classes/entity_class[contains(@name, 'Pistol') or contains(@name, 'SMG')]">
    <property name="LootDropEntityClass" value="EntityLootContainerRegularWithPistol"/>
  </append>
  <append xpath="/entity_classes/entity_class[contains(@name, 'Shotgun')]">
    <property name="LootDropEntityClass" value="EntityLootContainerRegularWithShotgun"/>
  </append>
  <append xpath="/entity_classes/entity_class[contains(@name, 'Rifle')]">
    <property name="LootDropEntityClass" value="EntityLootContainerRegularWithRifle"/>
  </append>
  <append xpath="/entity_classes/entity_class[contains(@name, 'AK47') or contains(@name, 'PipeMG') or contains(@name, 'M60')]">
    <property name="LootDropEntityClass" value="EntityLootContainerRegularWithAK47"/>
  </append>
  <append xpath="/entity_classes/entity_class[contains(@name, 'Rocket')]">
    <property name="LootDropEntityClass" value="EntityLootContainerRegularWithRocket"/>
  </append>
  <set xpath="/entity_classes/entity_class[contains(@name, 'EntityLoot')]/property[contains(@name, 'TimeStayAfterDeath')]/@value">36000</set>
  <set xpath="/entity_classes/entity_class[contains(@name, 'Backpack')]/property[contains(@name, 'TimeStayAfterDeath')]/@value">72000</set>
  <set xpath="/entity_classes/entity_class[@name='playerMale']/effect_group/passive_effect[@name='JumpStrength' and @tags='crouching']/@value">0.16</set>
  <set xpath="/entity_classes/entity_class[@name='playerMale']/property[     @name='ItemsOnEnterGame.GameModeSurvival'   or     @name='ItemsOnEnterGame.GameModeSurvivalSP' or     @name='ItemsOnEnterGame.GameModeSurvivalMP'    ]/@value">GSKCFGTeleUndergroundFreeDelay,GSKElctrnTeleportUndergroundFreeAndSafeCall,GSKElctrnTeleportToBiomeFreeAndSafeCall,GSKTRFirstSpawnBundle</set>
  <append xpath="/entity_classes/entity_class[@name='sc_General']">
    <property name="Buffs" value="buffGSKAirDropHighlight"/>
    <property name="Tags" value="perkAT01,perkAT02,perkAT03"/>
    <property name="TrackerIcon" value="map_supply_crate"/>
  </append>
  <append xpath="/entity_classes/entity_class[@name='sc_General']">
    <property name="Buffs" value="buffGSKAirDropHighlight"/>
    <property name="Tags" value="perkAT01,perkAT02,perkAT03"/>
    <property name="TrackerIcon" value="map_supply_crate"/>
  </append>
  <append xpath="/entity_classes/entity_class[contains(@name,'Radiated')]/property[@name='Tags']/@value">,perkAT01,perkAT02,perkAT03</append>
  <append xpath="/entity_classes/entity_class[contains(@name,'Radiated')]">
    <property name="NavObject" value="radiationSource"/>
  </append>
  <append xpath="/entity_classes/entity_class[@name='npcRocketLTemplate']">
    <property name="ItemsOnEnterGame.GameModeSurvival" value="gunNPCRocketLauncher,ammoNPCRocketFragFriendly"/>
    <property name="ItemsOnEnterGame.GameModeSurvivalSP" value="gunNPCRocketLauncher,ammoNPCRocketFragFriendly"/>
    <property name="ItemsOnEnterGame.GameModeSurvivalMP" value="gunNPCRocketLauncher,ammoNPCRocketFragFriendly"/>
  </append>
  <append xpath="/entity_classes/entity_class[@name='RaiderSluggerRocketL' or @name='npcHarleyRocketL']">
    <property name="ItemsOnEnterGame.GameModeSurvival" value="gunNPCRocketLauncher,ammoNPCRocketHE"/>
    <property name="ItemsOnEnterGame.GameModeSurvivalSP" value="gunNPCRocketLauncher,ammoNPCRocketHE"/>
    <property name="ItemsOnEnterGame.GameModeSurvivalMP" value="gunNPCRocketLauncher,ammoNPCRocketHE"/>
  </append>
  <set xpath="/entity_classes/entity_class[starts-with(@name,'zombie')]/property[@name='TimeStayAfterDeath']/@value">6</set>
  <!-- HELPGOOD: A patch to friendly raiders to show up in the hired followers list 
    ex.: the idea is to upgrade from npcClubTemplate to npcAdvancedClubTemplate
      originally:
        <entity_class name="RaiderJayneClub" extends="npcClubTemplate"> 
        <entity_class name="npcRaiderJayneClub" extends="RaiderJayneClub"> 
      final: this was is important to keep the model
        <entity_class name="RaiderJayneClub" extends="npcAdvancedClubTemplate"> 
        <entity_class name="npcRaiderJayneClub" extends="RaiderJayneClub"> 
      so the "npc" (friendly) is further patched in the last line with the missing tags
  -->
  <set xpath="/entity_classes/entity_class[starts-with(@name,'Raider') and contains(@name,'Club')]/@extends">npcAdvancedClubTemplate</set>
  <set xpath="/entity_classes/entity_class[starts-with(@name,'Raider') and contains(@name,'Knife')]/@extends">npcAdvancedKnifeTemplate</set>
  <set xpath="/entity_classes/entity_class[starts-with(@name,'Raider') and contains(@name,'Bat')]/@extends">npcAdvancedBatTemplate</set>
  <set xpath="/entity_classes/entity_class[starts-with(@name,'Raider') and contains(@name,'Axe')]/@extends">npcAdvancedAxeTemplate</set>
  <set xpath="/entity_classes/entity_class[starts-with(@name,'Raider') and contains(@name,'Machete')]/@extends">npcAdvancedMacheteTemplate</set>
  <set xpath="/entity_classes/entity_class[starts-with(@name,'Raider') and contains(@name,'AK47')]/@extends">npcAdvancedAK47Template</set>
  <set xpath="/entity_classes/entity_class[starts-with(@name,'Raider') and contains(@name,'SMG')]/@extends">npcAdvancedSMGTemplate</set>
  <set xpath="/entity_classes/entity_class[starts-with(@name,'Raider') and contains(@name,'DPistol')]/@extends">npcAdvancedDPistolTemplate</set>
  <set xpath="/entity_classes/entity_class[starts-with(@name,'Raider') and contains(@name,'TRifle')]/@extends">npcAdvancedTRifleTemplate</set>
  <set xpath="/entity_classes/entity_class[starts-with(@name,'Raider') and contains(@name,'PipeMG')]/@extends">npcAdvancedPipeMGTemplate</set>
  <set xpath="/entity_classes/entity_class[starts-with(@name,'Raider') and contains(@name,'M60')]/@extends">npcAdvancedM60Template</set>
  <set xpath="/entity_classes/entity_class[starts-with(@name,'Raider') and contains(@name,'RocketL')]/@extends">npcAdvancedRocketLTemplate</set>
  <append xpath="/entity_classes/entity_class[starts-with(@name,'npcRaider')]/property[@name='Tags']/@value">,cp,DRMid</append>
  <!-- HELPGOOD: ambushers BELOW the friendly patch above to keep the correct extends value below, or add above a not(name has ambush) there -->
  <append xpath="/entity_classes" help="treasure Ambushers have very low loot drop chance, just flee is better as you were there for the treasure (and they too)">
    <!-- HELPGOOD: for treasure AMBUSH: extended raiders that drop prob 0.10 only for treasure ambushers, a simple script to create it:CODEGEN:
    clear;egrep '<entity_class name="(Raider|npcHarley)[^>]*>' -o _NewestSavegamePath.IgnoreOnBackup/ConfigsDump/entityclasses.xml |egrep -v Ambush|sort |sed -r -e 's@(.*)name="([^"]*)" *extends="([^"]*)"(.*)@    \1 name="\2Ambush" extends="\2"><property name="LootDropProb" value="0.01"/></entity_class>@'
    -->
    <entity_class name="npcHarleyAK47Ambush" extends="npcHarleyAK47">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleyAShotgunAmbush" extends="npcHarleyAShotgun">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleyAxeAmbush" extends="npcHarleyAxe">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleyBatAmbush" extends="npcHarleyBat">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleyBMEmptyHandAmbush" extends="npcHarleyBMEmptyHand">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleyClubAmbush" extends="npcHarleyClub">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleyDPistolAmbush" extends="npcHarleyDPistol">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleyEmptyHandAmbush" extends="npcHarleyEmptyHand">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleyHRifleAmbush" extends="npcHarleyHRifle">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleyKnifeAmbush" extends="npcHarleyKnife">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleyLBowAmbush" extends="npcHarleyLBow">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleyM60Ambush" extends="npcHarleyM60">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleyMacheteAmbush" extends="npcHarleyMachete">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleyPipeMGAmbush" extends="npcHarleyPipeMG">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleyPipePistolAmbush" extends="npcHarleyPipePistol">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleyPipeRifleAmbush" extends="npcHarleyPipeRifle">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleyPipeShotgunAmbush" extends="npcHarleyPipeShotgun">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleyPistolAmbush" extends="npcHarleyPistol">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleyPShotgunAmbush" extends="npcHarleyPShotgun">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleyRocketLAmbush" extends="npcHarleyRocketL">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleySMGAmbush" extends="npcHarleySMG">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleySpearAmbush" extends="npcHarleySpear">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleySRifleAmbush" extends="npcHarleySRifle">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleyTRifleAmbush" extends="npcHarleyTRifle">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleyVomitHandAmbush" extends="npcHarleyVomitHand">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleyXBowAmbush" extends="npcHarleyXBow">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderBeatzAK47Ambush" extends="RaiderBeatzAK47">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderBeatzBatAmbush" extends="RaiderBeatzBat">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderBeatzClubAmbush" extends="RaiderBeatzClub">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderBeatzDPistolAmbush" extends="RaiderBeatzDPistol">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderBeatzSMGAmbush" extends="RaiderBeatzSMG">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderBettyAxeAmbush" extends="RaiderBettyAxe">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderBettyBatAmbush" extends="RaiderBettyBat">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderBettyClubAmbush" extends="RaiderBettyClub">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderBettyDPistolAmbush" extends="RaiderBettyDPistol">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderBettyKnifeAmbush" extends="RaiderBettyKnife">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderBettyMacheteAmbush" extends="RaiderBettyMachete">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderBettySMGAmbush" extends="RaiderBettySMG">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderBettyTRifleAmbush" extends="RaiderBettyTRifle">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderGinaAxeAmbush" extends="RaiderGinaAxe">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderGinaBatAmbush" extends="RaiderGinaBat">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderGinaClubAmbush" extends="RaiderGinaClub">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderGinaDPistolAmbush" extends="RaiderGinaDPistol">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderGinaKnifeAmbush" extends="RaiderGinaKnife">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderGinaMacheteAmbush" extends="RaiderGinaMachete">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderGinaSMGAmbush" extends="RaiderGinaSMG">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderGinaTRifleAmbush" extends="RaiderGinaTRifle">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderGypsyAxeAmbush" extends="RaiderGypsyAxe">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderGypsyBatAmbush" extends="RaiderGypsyBat">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderGypsyClubAmbush" extends="RaiderGypsyClub">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderGypsyDPistolAmbush" extends="RaiderGypsyDPistol">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderGypsyKnifeAmbush" extends="RaiderGypsyKnife">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderGypsyMacheteAmbush" extends="RaiderGypsyMachete">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderGypsySMGAmbush" extends="RaiderGypsySMG">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderGypsyTRifleAmbush" extends="RaiderGypsyTRifle">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderHedyAxeAmbush" extends="RaiderHedyAxe">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderHedyBatAmbush" extends="RaiderHedyBat">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderHedyClubAmbush" extends="RaiderHedyClub">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderHedyDPistolAmbush" extends="RaiderHedyDPistol">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderHedyKnifeAmbush" extends="RaiderHedyKnife">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderHedyMacheteAmbush" extends="RaiderHedyMachete">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderHedySMGAmbush" extends="RaiderHedySMG">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderHedyTRifleAmbush" extends="RaiderHedyTRifle">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderJayneAxeAmbush" extends="RaiderJayneAxe">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderJayneBatAmbush" extends="RaiderJayneBat">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderJayneClubAmbush" extends="RaiderJayneClub">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderJayneDPistolAmbush" extends="RaiderJayneDPistol">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderJayneKnifeAmbush" extends="RaiderJayneKnife">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderJayneMacheteAmbush" extends="RaiderJayneMachete">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderJayneSMGAmbush" extends="RaiderJayneSMG">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderJayneTRifleAmbush" extends="RaiderJayneTRifle">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderMercAK47Ambush" extends="RaiderMercAK47">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderMercClubAmbush" extends="RaiderMercClub">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderMercDPistolAmbush" extends="RaiderMercDPistol">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderMercKnifeAmbush" extends="RaiderMercKnife">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderMercMacheteAmbush" extends="RaiderMercMachete">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderMercTRifleAmbush" extends="RaiderMercTRifle">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderMotoAK47Ambush" extends="RaiderMotoAK47">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderMotoAxeAmbush" extends="RaiderMotoAxe">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderMotoBatAmbush" extends="RaiderMotoBat">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderMotoDPistolAmbush" extends="RaiderMotoDPistol">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderMotoTRifleAmbush" extends="RaiderMotoTRifle">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderPestAxeAmbush" extends="RaiderPestAxe">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderPestBatAmbush" extends="RaiderPestBat">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderPestClubAmbush" extends="RaiderPestClub">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderPestDPistolAmbush" extends="RaiderPestDPistol">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderPestKnifeAmbush" extends="RaiderPestKnife">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderPestMacheteAmbush" extends="RaiderPestMachete">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderPestPipeMGAmbush" extends="RaiderPestPipeMG">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderPestSMGAmbush" extends="RaiderPestSMG">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderSluggerAK47Ambush" extends="RaiderSluggerAK47">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderSluggerAxeAmbush" extends="RaiderSluggerAxe">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderSluggerBatAmbush" extends="RaiderSluggerBat">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderSluggerM60Ambush" extends="RaiderSluggerM60">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderSluggerRocketLAmbush" extends="RaiderSluggerRocketL">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
  </append>
  <append xpath="/entity_classes/entity_class[@name='animalSnake' or starts-with(@name,'animalSpider')]">
    <drop event="Harvest" name="GSKsnakePoison" count="1,5" tag="butcherHarvest"/>
  </append>
  <append xpath="/entity_classes/entity_class[starts-with(@name,'animalSpider')]">
    <property name="AITask-1" value="BreakBlock"/>
    <property name="AITask-2" value="Territorial"/>
    <property name="AITask-3" value="RangedAttackTarget" data="itemType=1;cooldown=4;duration=3;minRange=1;maxRange=25"/>
    <property name="AITask-4" value="Leap"/>
    <property name="AITask-5" value="ApproachAndAttackTarget" data="class=EntityAlive,0,EntityZombie,0,EntityNPC,0,EntityPlayer,0,EntitySurvivor,0,EntityBandit,0,EntityAnimalRabbit,8"/>
    <property name="AITask-6" value="ApproachSpot"/>
    <property name="AITask-7" value="Look"/>
    <property name="AITask-8" value="Wander"/>
    <property name="AITask-9" value=""/>
    <property name="CanClimbVertical" value="true"/>
    <property name="JumpMaxDistance" value="10, 13"/>
  </append>
  <append xpath="/entity_classes/entity_class[starts-with(@name,'animalSpider') or @name='zombieSpider']">
    <property name="Buffs" value="buffGSKNPCLeapHit,buffGSKNPCSpiderTouchNet"/>
  </append>
  <append xpath="/entity_classes/entity_class[starts-with(@name,'zombieMutated')]/property[@name='Tags']/@value">,mutant</append>
  <append xpath="/entity_classes/entity_class[@name='animalRabbit' or @name='zombieMutated' or @name='animalZombieVultureRadiated']">
    <property name="Buffs" value="buffGSKMutantRabbits"/>
    <property name="ParticleOnSpawn" value="ParticleEffects/RadiatedParticlesOnMesh" param1="SetShapeToMesh0" help="ISSUE: this particle here will error on log, but only once! so not a problem..."/>
    <drop event="Harvest" name="drugGSKAntiRadiation" count="7,28" tag="butcherHarvest"/>
    <drop event="Harvest" name="GSKsnakePoison" count="0,2" tag="butcherHarvest"/>
    <drop event="Harvest" name="drugGSKPsyonicsResist" count="0,3" tag="butcherHarvest"/>
  </append>
  <append xpath="/entity_classes/entity_class[@name='zombieMutated']">
    <property name="Buffs" value="buffGSKMutantZombies"/>
  </append>
  <append xpath="/entity_classes/entity_class[contains(@name,'Radiated')]">
    <property name="Buffs" value="buffGSKRadiationAura"/>
  </append>
  <append xpath="/entity_classes/entity_class[@name='zombieMutatedRadiated']">
    <property name="Buffs" value="buffGSKMutantZombies,buffGSKRadiationAura"/>
  </append>
  <set xpath="/entity_classes/entity_class[@name='zombieArlene']/property[@name='DanceType']/@value">1</set>
  <append xpath="/entity_classes/entity_class[@name='zombieWightFeral']">
    <property name="MoveSpeedAggro" value="0.6, 8.0"/>
  </append>
  <append xpath="/entity_classes/entity_class[@name='zombieWightRadiated']">
    <property name="MoveSpeedAggro" value="0.6, 12.0"/>
  </append>
  <append xpath="/entity_classes/entity_class[@name='zombieDemolition']">
    <property name="Explosion.Buff" value="buffGSKRadExplosionA"/>
    <property name="Explosion.RadiusBlocks" value="10"/>
  </append>
  <append xpath="/entity_classes/entity_class[@name='zombieFatCop']">
    <property name="Explosion.Buff" value="buffGSKRadExplosionA"/>
    <property name="Explosion.RadiusBlocks" value="5"/>
  </append>
  <append xpath="/entity_classes/entity_class[@name='zombieFatCopFeral']">
    <property name="Explosion.Buff" value="buffGSKRadExplosionA"/>
    <property name="Explosion.RadiusBlocks" value="6"/>
  </append>
  <append xpath="/entity_classes/entity_class[@name='zombieFatCopRadiated']">
    <property name="Explosion.Buff" value="buffGSKRadExplosionB"/>
    <property name="Explosion.RadiusBlocks" value="8"/>
  </append>
  <append xpath="/entity_classes/entity_class[       starts-with(@name,'npc') and        (         contains(@name,'Baker') or          contains(@name,'Male') or          contains(@name,'MrFriendly') or          contains(@name,'Officer') or          contains(@name,'Soldier') or          contains(@name,'VaultBoss') or          contains(@name,'Wrestler')       ) and       not(contains(@name,'Female'))     ]" help="default sounds to male NPCs so if you hired one you will know it is being hit">
    <property name="SoundHurt" value="Player_Male/player1painlg"/>
    <property name="SoundHurtSmall" value="Player_Male/player1painsm"/>
    <property name="SoundDeath" value="Player_Male/player1death"/>
    <property name="SoundStamina" value="Player_Male/player1stamina"/>
    <property name="SoundDrownPain" value="Player_Male/player1drownpain"/>
    <property name="SoundWaterSurface" value="Player_Male/player1drownsurface"/>
    <property name="SoundDrownDeath" value="Player_Male/player1drowndeath"/>
    <property name="SoundJump" value="Player_Male/player1Jump"/>
    <property name="SoundLandSoft" value="Player_Male/player1LandSoft"/>
    <property name="SoundLandHard" value="Player_Male/player1LandHard"/>
    <property name="SoundPlayerLandThump" value="PlayerLandThump"/>
  </append>
  <append xpath="/entity_classes/entity_class[         @name='zombieDemolition' or         starts-with(@name,'zombieUtilityWorker') or         starts-with(@name,'zombieSoldier') or         starts-with(@name,'zombieBiker')       ]">
    <effect_group help="patch for TSBX_Headshot_100: all that have helmet">
      <passive_effect name="DamageModifier" operation="perc_set" value="0.5" tags="head">
        <requirement name="CVarCompare" cvar="_difficulty" operation="Equals" value="2"/>
      </passive_effect>
      <passive_effect name="DamageModifier" operation="perc_set" value="0.5" tags="head">
        <requirement name="CVarCompare" cvar="_difficulty" operation="Equals" value="3"/>
      </passive_effect>
      <passive_effect name="DamageModifier" operation="perc_set" value="0.5" tags="head">
        <requirement name="CVarCompare" cvar="_difficulty" operation="Equals" value="4"/>
      </passive_effect>
      <passive_effect name="DamageModifier" operation="perc_set" value="0.5" tags="head">
        <requirement name="CVarCompare" cvar="_difficulty" operation="Equals" value="5"/>
      </passive_effect>
    </effect_group>
  </append>
</GhussakTweaks>
