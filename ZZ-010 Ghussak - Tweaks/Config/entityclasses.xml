<?xml version="1.0"?>
<GhussakTweaks>
  <!-- HELPGOOD: tech tips
  BUFFS: instead of (that may not work)
      <property name="Buffs" value="buffSomeBuff,buffSomeOtherBuff" /> 
    use (that seems to always work)
      <triggered_effect trigger="onSelfFirstSpawn" action="AddBuff" target="self" buff="buffSomeBuff" />
      <triggered_effect trigger="onSelfFirstSpawn" action="AddBuff" target="self" buff="buffSomeOtherBuff" />
  ISSUE:target_tags: ex.: target_tags="zombie,animal,bandit" may not work well on triggers like onSelfAttackedOther all the time (it may cause errors on log), better just use ex.:
    <requirement name="EntityTagCompare" target="other" tags="zombie,animal,bandit"/>
-->
  <append xpath="/entity_classes/entity_class[@name='playerMale']/effect_group/triggered_effect[(@trigger='onSelfEnteredGame' or @trigger='onSelfRespawn') and @action='AddBuff' and @target='self']/@buff">,buffPlayerEnhancesNearbyFriendlyNPCs2,buffLeaderLimitsHiredNPCsAmount106,buffDrinkRainWater78,buffGSKRespawnPreventWaterBkp12,buffGSKShowWaterBkp22,buffGSKBkpWaterVal73,buffGSKHazardWeatherMiasmaDirty59,buffGSKDenyGoreHarvest,buffGSKProperSwimming45,buffGSKAllHazardsCheck40,buffGSKRadResistWork34,buffGSKRadRemover33,buffGSKHeatColdProtClothDmgKeep32,buffGSKChemUseSideEffects31,buffGSKBloodmoonZombiesPowerChk29,buffGSKElctrnOverchargeDmg74,buffGSKPermanentGenericCheck21,buffGSKMutant_ChkAndApplyOnMobs21,buffGSKInPineForestBiomeMonstersThrive15,buffGSKCosmicRayStrikeChk14,buffGSKMeleeParry12,buffGSKFallOverLandingHit12,buffGSKRespawnDeusExFriendlyIfPossible</append>
  <append xpath="/entity_classes/entity_class[@name='playerMale']/effect_group/triggered_effect[@trigger='onSelfEnteredGame' and @action='AddBuff' and @target='self']/@buff">,buffGSKDetectEnterGame,buffGSKConfigGeneric,buffGSKGodModeFirstSpawn</append>
  <!-- HELPGOOD: everytime player joins the game. the 1st random teleport to ground MUST be after the enter game detection -->
  <append xpath="/entity_classes/entity_class[@name='playerMale']/effect_group/triggered_effect[@trigger='onSelfRespawn' and @action='AddBuff' and @target='self']/@buff">,buffGSKDetectRespawn,buffGSKRespawnNoMadBundlesAllowCrafting,buffGSKGodModeRespawn</append>
  <!-- HELPGOOD: only after death/resurrect. buffGSKDetectRespawn must be b4 buffGSKRespawnNoMadBundlesAllowCrafting -->
  <append xpath="/entity_classes/entity_class[@name='playerMale']">
    <effect_group>
      <triggered_effect trigger="onOtherDamagedSelf" action="ModifyCVar" cvar=".iGSKMeleeParryOnce" operation="add" value="1" help="MeleeBuild:">
        <requirement name="CVarCompare" cvar="iGSKMeleeParryChance" operation="GT" value="0" help="used as indicator to holding melee weapon"/>
        <requirement name="HoldingItemHasTags" target="other" tags="melee" help="can only normally parry melee attacks"/>
      </triggered_effect>
      <triggered_effect trigger="onOtherDamagedSelf" action="ModifyCVar" cvar=".iGSKMeleeParryOnce" operation="add" value="1" help="MeleeBuild: just a overall small chance against ranged attacks, but not too little so it can be fun and somewhat useful">
        <requirement name="CVarCompare" cvar="iGSKMeleeParryChance" operation="GT" value="0" help="used as indicator to holding melee weapon"/>
        <requirement name="HoldingItemHasTags" target="other" tags="ranged"/>
        <requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LT" value="33"/>
      </triggered_effect>
      <triggered_effect trigger="onSelfJump" action="ModifyCVar" cvar=".iGSKDodgeOnce" operation="add" value="1" help="MeleeBuild:"/>
      <triggered_effect trigger="onSelfCrouch" action="ModifyCVar" cvar=".iGSKDodgeOnce" operation="add" value="1" help="MeleeBuild:"/>
      <triggered_effect trigger="onSelfStand" action="ModifyCVar" cvar=".iGSKDodgeOnce" operation="add" value="1" help="MeleeBuild:"/>
      <triggered_effect trigger="onSelfKilledOther" action="ModifyCVar" cvar="iGSKDeusExKillCount" operation="add" value="1" help="this would be in case player find another way to kill than teleport disintegration">
        <requirement name="EntityTagCompare" target="other" tags="DeusEx"/>
      </triggered_effect>
      <triggered_effect trigger="onSelfDamagedOther" action="ModifyStats" stat="Health" operation="add" value="-1000" target="other" help="MeleeBuild: always critical if enemy in ragdoll mode">
        <requirement name="CVarCompare" cvar="Ragdoll" operation="Equals" value="1" target="other"/>
        <requirement name="IsAlive" target="other"/>
        <requirement name="EntityTagCompare" target="other" tags="zombie,animal,bandit,mech"/>
        <requirement name="CVarCompare" cvar="iGSKMeleeParryChance" operation="GT" value="0" help="used as indicator to holding melee weapon"/>
      </triggered_effect>
    </effect_group>
    <effect_group help="Headshot and limb shot cripple">
      <triggered_effect trigger="onSelfAttackedOther" action="ModifyCVar" target="other" target_tags="zombie,animal,bandit,mech" cvar=".iGSKShotByArmorPiercing" operation="add" value="1">
        <!-- HELPGOOD: could work with ProjectileHasTags ? 
        <requirement name="HoldingItemHasTags" tags="armorPiercing" help="ISSUE: This does not work for loaded ammo"/>
-->
        <requirement name="HasBuff" buff="buffGSKEquippedArmorPiercingAmmo"/>
        <requirement name="HitLocation" body_parts="Head"/>
      </triggered_effect>
      <triggered_effect trigger="onSelfAttackedOther" action="ModifyCVar" target="other" target_tags="zombie,animal,bandit,mech" cvar=".iGSKShotByArmorPiercing" operation="add" value="3">
        <requirement name="HoldingItemHasTags" tags="armorPiercingAdd3"/>
        <requirement name="HasBuff" buff="buffGSKEquippedArmorPiercingAmmo"/>
        <requirement name="HitLocation" body_parts="Head"/>
      </triggered_effect>
      <triggered_effect trigger="onSelfAttackedOther" action="ModifyCVar" target="other" target_tags="zombie,animal,bandit,mech" cvar=".iGSKShotByArmorPiercing" operation="add" value="2">
        <requirement name="HoldingItemHasTags" tags="armorPiercingAdd2"/>
        <requirement name="HasBuff" buff="buffGSKEquippedArmorPiercingAmmo"/>
        <requirement name="HitLocation" body_parts="Head"/>
      </triggered_effect>
      <triggered_effect trigger="onSelfAttackedOther" action="ModifyCVar" target="other" target_tags="zombie,animal,bandit,mech" cvar=".iGSKShotByArmorPiercing" operation="add" value="1">
        <requirement name="HoldingItemHasTags" tags="armorPiercingAdd1"/>
        <requirement name="HasBuff" buff="buffGSKEquippedArmorPiercingAmmo"/>
        <requirement name="HitLocation" body_parts="Head"/>
      </triggered_effect>
      <triggered_effect trigger="onSelfAttackedOther" action="AddBuff" target="other" target_tags="zombie,animal,bandit,mech" buff="buffGSKHeadShot">
        <requirement name="HitLocation" body_parts="Head" help="this is about where the player is aiming and not where the target is receiving the hit right?"/>
        <requirement name="!HoldingItemHasTags" tags="shotgun"/>
      </triggered_effect>
      <triggered_effect trigger="onSelfAttackedOther" action="AddBuff" target="other" target_tags="zombie,animal,bandit,mech" buff="buffGSKHeadShot">
        <requirement name="HitLocation" body_parts="Head"/>
        <requirement name="HoldingItemHasTags" tags="shotgun"/>
        <requirement name="CVarCompare" cvar="iEWPelletHitCount" operation="GTE" value="5" help="This is from the EffectiveAndImmersiveWeaponsOverhaul. max is 20 pellets"/>
        <requirement name="CVarCompare" cvar="iEWPelletHitCount" operation="LT" value="10"/>
      </triggered_effect>
      <triggered_effect trigger="onSelfAttackedOther" action="AddBuff" target="other" target_tags="zombie,animal,bandit,mech" buff="buffGSKHeadShot">
        <requirement name="HitLocation" body_parts="Head"/>
        <requirement name="HoldingItemHasTags" tags="shotgun"/>
        <requirement name="CVarCompare" cvar="iEWPelletHitCount" operation="GTE" value="10"/>
        <requirement name="CVarCompare" cvar="iEWPelletHitCount" operation="LT" value="15"/>
      </triggered_effect>
      <triggered_effect trigger="onSelfAttackedOther" action="AddBuff" target="other" target_tags="zombie,animal,bandit,mech" buff="buffGSKHeadShot">
        <requirement name="HitLocation" body_parts="Head"/>
        <requirement name="HoldingItemHasTags" tags="shotgun"/>
        <requirement name="CVarCompare" cvar="iEWPelletHitCount" operation="GTE" value="15"/>
        <requirement name="CVarCompare" cvar="iEWPelletHitCount" operation="LT" value="20"/>
      </triggered_effect>
      <triggered_effect trigger="onSelfAttackedOther" action="AddBuff" target="other" target_tags="zombie,animal,bandit,mech" buff="buffGSKHeadShot">
        <requirement name="HitLocation" body_parts="Head"/>
        <requirement name="HoldingItemHasTags" tags="shotgun"/>
        <requirement name="CVarCompare" cvar="iEWPelletHitCount" operation="Equals" value="20"/>
      </triggered_effect>
      <triggered_effect trigger="onSelfAttackedOther" action="AddBuff" target="other" target_tags="zombie,animal,bandit,mech" buff="buffGSKLegArmShot">
        <requirement name="HitLocation" body_parts="LeftUpperLeg,RightUpperLeg,LeftLowerLeg,RightLowerLeg,LeftUpperArm,RightUpperArm,LeftLowerArm,RightLowerArm"/>
      </triggered_effect>
      <triggered_effect trigger="onSelfAttackedOther" action="ModifyCVar" cvar=".iGSKShotLeftUpperLeg" operation="add" value="@.fGSKLimbShotDebuff" target="other" target_tags="zombie,animal,bandit,mech">
        <requirement name="HitLocation" body_parts="LeftUpperLeg"/>
      </triggered_effect>
      <triggered_effect trigger="onSelfAttackedOther" action="ModifyCVar" cvar=".iGSKShotRightUpperLeg" operation="add" value="@.fGSKLimbShotDebuff" target="other" target_tags="zombie,animal,bandit,mech">
        <requirement name="HitLocation" body_parts="RightUpperLeg"/>
      </triggered_effect>
      <triggered_effect trigger="onSelfAttackedOther" action="ModifyCVar" cvar=".iGSKShotLeftLowerLeg" operation="add" value="@.fGSKLimbShotDebuff" target="other" target_tags="zombie,animal,bandit,mech">
        <requirement name="HitLocation" body_parts="LeftLowerLeg"/>
      </triggered_effect>
      <triggered_effect trigger="onSelfAttackedOther" action="ModifyCVar" cvar=".iGSKShotRightLowerLeg" operation="add" value="@.fGSKLimbShotDebuff" target="other" target_tags="zombie,animal,bandit,mech">
        <requirement name="HitLocation" body_parts="RightLowerLeg"/>
      </triggered_effect>
      <triggered_effect trigger="onSelfAttackedOther" action="ModifyCVar" cvar=".iGSKShotLeftUpperArm" operation="add" value="@.fGSKLimbShotDebuff" target="other" target_tags="zombie,animal,bandit,mech">
        <requirement name="HitLocation" body_parts="LeftUpperArm"/>
      </triggered_effect>
      <triggered_effect trigger="onSelfAttackedOther" action="ModifyCVar" cvar=".iGSKShotRightUpperArm" operation="add" value="@.fGSKLimbShotDebuff" target="other" target_tags="zombie,animal,bandit,mech">
        <requirement name="HitLocation" body_parts="RightUpperArm"/>
      </triggered_effect>
      <triggered_effect trigger="onSelfAttackedOther" action="ModifyCVar" cvar=".iGSKShotLeftLowerArm" operation="add" value="@.fGSKLimbShotDebuff" target="other" target_tags="zombie,animal,bandit,mech">
        <requirement name="HitLocation" body_parts="LeftLowerArm"/>
      </triggered_effect>
      <triggered_effect trigger="onSelfAttackedOther" action="ModifyCVar" cvar=".iGSKShotRightLowerArm" operation="add" value="@.fGSKLimbShotDebuff" target="other" target_tags="zombie,animal,bandit,mech">
        <requirement name="HitLocation" body_parts="RightLowerArm"/>
      </triggered_effect>
    </effect_group>
    <effect_group>
      <triggered_effect trigger="onSelfAttackedOther" action="AddBuff" buff="buffGSKMarkedForJumpKick" target="other" help="MeleeBuild:">
        <requirement name="IsAlive" target="other"/>
        <requirement name="EntityTagCompare" target="other" tags="zombie,animal,bandit,mech"/>
        <requirement name="CVarCompare" cvar="iGSKMeleeParryChance" operation="GT" value="0" help="used as indicator to holding melee weapon"/>
      </triggered_effect>
      <triggered_effect trigger="onSelfAttackedOther" action="AddBuff" buff="buffGSKCheckJumpKick" help="MeleeBuild:">
        <requirement name="IsAlive" target="other"/>
        <requirement name="CVarCompare" cvar="iGSKMeleeParryChance" operation="GT" value="0" help="used as indicator to holding melee weapon"/>
      </triggered_effect>
      <triggered_effect trigger="onSelfAttackedOther" action="Ragdoll" duration="9" force="5" target="other" help="MeleeBuild:">
        <requirement name="IsAlive" target="other"/>
        <requirement name="CVarCompare" cvar="iGSKMeleeParryChance" operation="GT" value="0" help="used as indicator to holding melee weapon"/>
        <requirement name="CVarCompare" cvar="_crouching" operation="Equals" value="1" help="improved melee sneak attacks"/>
        <requirement name="CVarCompare" cvar="_notAlerted" operation="GT" value="0" target="other"/>
        <requirement name="CVarCompare" cvar="Ragdoll" operation="Equals" value="0" target="other"/>
        <requirement name="EntityTagCompare" target="other" tags="zombie,animal,bandit,mech"/>
        <requirement name="!EntityTagCompare" target="other" tags="animalSpider01,animalSpider02,animalSpider03"/>
      </triggered_effect>
      <triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar=".iGSKPlayerVampireStrikeCount" operation="add" value="3">
        <requirement name="!EntityTagCompare" target="other" tags="zombie" help="only the living provides proper healing for the player"/>
        <requirement name="!EntityTagCompare" target="other" tags="mech"/>
        <requirement name="IsAlive" target="other" help="cuz shall not allow easy heal from fresh corpse"/>
        <requirement name="HasBuff" buff="buffGSKVampireEssence"/>
        <requirement name="CVarCompare" cvar="iGSKMeleeParryChance" operation="GT" value="0" help="used as indicator to holding melee weapon"/>
        <requirement name="HoldingItemHasTags" tags="perkDeepCuts,perkJavelinMaster" help="only weapons that can pierce or cut, spears will work on melee only"/>
      </triggered_effect>
      <triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar=".iGSKPlayerVampireStrikeCount" operation="add" value="1" help="zombies provide minor healing only (this is mainly to make the essence actually useful as there are not many living beings around anymore, tho it lacks reasoning ;)), their vital force is corrupted and so is the health drain (could work? ;), or explaing thru magic means..)">
        <requirement name="EntityTagCompare" target="other" tags="zombie" help="heals only a bit from zombies"/>
        <requirement name="!EntityTagCompare" target="other" tags="mech"/>
        <requirement name="IsAlive" target="other" help="cuz shall not allow easy heal from fresh corpse"/>
        <requirement name="HasBuff" buff="buffGSKVampireEssence"/>
        <requirement name="CVarCompare" cvar="iGSKMeleeParryChance" operation="GT" value="0" help="used as indicator to holding melee weapon"/>
        <requirement name="HoldingItemHasTags" tags="perkDeepCuts,perkJavelinMaster" help="only weapons that can pierce or cut, spears will work on melee only"/>
      </triggered_effect>
      <!-- HELPGOOD:
      <triggered_effect trigger="onSelfLandJump" action="AddBuff" buff="buffGSKPlayerFallLandingHit" help="this is never triggered here?"/>
-->
      <triggered_effect trigger="onSelfAttackedOther" action="ModifyCVar" cvar=".iGSKPlayerAttackedDisableNPCSneak" operation="add" value="1" help="use the same possible requirements from buffGSKNPCproperSneaking10, just remember this runs on the player and not on the NPC">
        <requirement name="IsAlive" target="other"/>
        <requirement name="EntityTagCompare" target="other" tags="zombie,animal,bandit"/>
        <requirement name="IsNight"/>
        <requirement name="CVarCompare" cvar="_sheltered" operation="Equals" value="0" help="like NotIsIndoors !IsIndoors ?"/>
        <requirement name="!IsIndoors"/>
        <requirement name="!IsBloodMoon"/>
        <requirement name="CVarCompare" cvar="_crouching" operation="Equals" value="1"/>
        <requirement name="EntityTagCompare" tags="player"/>
      </triggered_effect>
      <!-- HELPGOOD: this is an alternative to buffGSKCheckJumpKick
      <triggered_effect trigger="onSelfJump" action="Ragdoll" duration="6" force="250" target="selfAOE" range="2.5" target_tags="zombie,animal,bandit" help="TODO: this trigger works here? see buffGSKCheckJumpKick too">
        <requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LT" value="75"/>
        <requirement name="HasBuff" target="other" buff="buffGSKMarkedForJumpKick" />
        <requirement name="!EntityTagCompare" target="other" tags="animalSpider01" />
        <requirement name="!EntityTagCompare" target="other" tags="animalSpider02" />
        <requirement name="!EntityTagCompare" target="other" tags="animalSpider03" />
      </triggered_effect>
-->
      <!-- HELPGOOD: review?
      <triggered_effect trigger="onSelfAttackedOther" action="ModifyCVar" cvar="iGSKNPCfollowingDenySneakTimer" operation="add" value="5" help="needs to tell NPC to completely stop attacking. TODO: this should be on the NPC, but... may be not using this is better to not depend so much on the AI. So only the player attacks/action counts">
        <requirement name="IsNight"/>
        <requirement name="!IsIndoors"/>
        <requirement name="!IsBloodMoon"/>
        <requirement name="IsAlive" target="other"/>
        <requirement name="EntityTagCompare" tags="npc"/>
      </triggered_effect>
-->
    </effect_group>
  </append>
  <set xpath="/entity_classes/entity_class[@name='animalBoar']/property[@name='Faction']/@value">aggressiveanimalsmedium</set>
  <append xpath="/entity_classes/entity_class[@name='animalBoar']">
    <property name="AITask-1" value="BreakBlock"/>
    <property name="AITask-2" value="Territorial"/>
    <property name="AITask-3" value="RunawayWhenHurt" data="runChance=0.5;healthPer=0.3;healthPerMax=0.6"/>
    <property name="AITask-4" value="ApproachAndAttackTarget" data="class=EntityPlayer,15,EntityZombie,20,EntityNPC,15"/>
    <property name="AITask-5" value="ApproachSpot"/>
    <property name="AITask-6" value="Look"/>
    <property name="AITask-7" value="Wander"/>
    <property name="AITask-8" value=""/>
    <property name="AITarget-1" value="SetAsTargetIfHurt"/>
    <property name="AITarget-2" value="BlockingTargetTask"/>
    <property name="AITarget-3" value="SetNearestEntityAsTarget" data="class=EntityPlayer,14,8,EntityZombie,0,0,EntityNPC,14,8"/>
    <property name="AITarget-4" value=""/>
    <effect_group name="Attack Buff">
      <triggered_effect trigger="onSelfFirstSpawn" action="AddBuff" target="self" buff="buffNPCModThreat"/>
      <triggered_effect trigger="onSelfAttackedOther" action="AddBuff" target="self" buff="buffNPCModAttacking"/>
    </effect_group>
  </append>
  <append xpath="/entity_classes/entity_class[@name='animalBear']">
    <property name="MoveSpeedAggro" value="1.45, 1.50"/>
  </append>
  <append xpath="/entity_classes/entity_class[@name='animalBoar']">
    <property name="MoveSpeedAggro" value="1.35, 1.40"/>
  </append>
  <append xpath="/entity_classes/entity_class[@name='animalBossGrace']">
    <property name="MoveSpeedAggro" value="1.45, 1.50"/>
  </append>
  <append xpath="/entity_classes/entity_class[@name='animalDireWolf']">
    <property name="MoveSpeedAggro" value="1.55, 1.60"/>
  </append>
  <append xpath="/entity_classes/entity_class[@name='animalDoe']">
    <property name="MoveSpeedPanic" value="1.80"/>
  </append>
  <append xpath="/entity_classes/entity_class[@name='animalMountainLion']">
    <property name="MoveSpeedAggro" value="3.1, 3.3"/>
  </append>
  <append xpath="/entity_classes/entity_class[@name='animalStag']">
    <property name="MoveSpeedPanic" value="1.85"/>
  </append>
  <append xpath="/entity_classes/entity_class[@name='animalWolf']">
    <property name="MoveSpeedAggro" value="1.50, 1.55"/>
  </append>
  <append xpath="/entity_classes/entity_class[@name='animalZombieBear']">
    <property name="MoveSpeedAggro" value="1.50, 1.55"/>
  </append>
  <append xpath="/entity_classes/entity_class[@name='animalZombieDog']">
    <property name="MoveSpeedAggro" value="1.55, 1.60"/>
  </append>
  <append xpath="/entity_classes/entity_class[       @name='animalBear' or       @name='animalBoar' or       @name='animalBossGrace' or       @name='animalDireWolf' or       @name='animalMountainLion' or       @name='animalWolf' or       @name='animalZombieBear' or       @name='animalZombieDog'      ]">
    <property name="AITarget-1" value="SetAsTargetIfHurt" data="class=EntityAlive,0,EntityNPC,0,EntityPlayer,0,EntitySurvivor,0,EntityBandit,0"/>
    <property name="AITarget-2" value="BlockingTargetTask" help="is like parrying? or is about breaking blocks? or is about blocking other entities movement?"/>
    <property name="AITarget-3" value="SetNearestCorpseAsTarget" data="class=EntityPlayer" help="ISSUE: only works with player? trying others will error a lot on the log. TODO: class=EntityAlive,EntityPlayer,EntityAnimalStag,EntityNPC,EntityAnimalRabbit,EntitySurvivor,EntityBandit this is to keep them busy and easy targets. TODO:CHK: do they destroy the corpse? if so will be a good challenge vs trying to harvest it.. EntityAlive means it is alive or is the alive (not zombie) kind?"/>
    <property name="AITarget-4" value="SetNearestEntityAsTarget" data="class=EntityPlayer,22,20,EntityAnimalStag,0,0,EntityNPC,18,13,EntityAnimalRabbit,8,5" help="TODOA: what these 2 numbers after class name mean?"/>
    <property name="AITarget-5" value=""/>
  </append>
  <!-- HELPGOOD: mute companion wolf when not in combat, so it's combat sounds become the alert to the player.
  this emptier set gives error: <set xpath="/entity_classes/entity_class[@name='npcAnimalMeleeTemplate']/property[@name='SoundRandom']/@value"></set>
-->
  <remove xpath="/entity_classes/entity_class[@name='npcAnimalMeleeTemplate']/property[@name='SoundRandom']"/>
  <remove xpath="/entity_classes/entity_class[@name='npcAnimalMeleeTemplate']/property[@name='SoundAlert']"/>
  <remove xpath="/entity_classes/entity_class[@name='npcAnimalMeleeTemplate']/property[@name='SoundSense']"/>
  <append xpath="/entity_classes/entity_class[@name='npcAnimalMeleeTemplate']">
    <property name="SoundRandom" value="" help="todo: this empty override seems to not work?"/>
  </append>
  <!-- HELPGOOD: this delay is nice! :) -->
  <append xpath="/entity_classes/entity_class[starts-with(@name, 'npc')]">
    <property name="SoundRandomTime" value="600"/>
  </append>
  <append xpath="/entity_classes/entity_class[starts-with(@name, 'animal')]">
    <property name="SoundRandomTime" value="60"/>
  </append>
  <append xpath="/entity_classes/entity_class[       (starts-with(@name, 'npc') and not(starts-with(@name,'npcHarley'))) or       starts-with(@name, 'survivor')     ]/effect_group[@name='Base Effects']">
    <passive_effect name="HealthMax" operation="base_set" value="75"/>
  </append>
  <append xpath="/entity_classes">
    <entity_class name="npcCosplayerAShotgun" extends="npcAdvancedAShotgunTemplate">
      <property name="LookAtAngle" value="0"/>
      <property name="SizeScale" value="1.1"/>
      <property name="Tags" value="entity,female,npc,ranged,cp,DRMid,UMA2"/>
      <property name="Faction" value="whiteriver"/>
      <property name="Names" value="Thalia,Amedee,Myriani,Dilya,Ilyrana,Saria,Aerith,Rina,Lyeecia,Maggwyn,Viessa,Tisha,Naexi,Lithoniel,Shaerra,Alyndra"/>
      <property name="DanceType" value="2"/>
      <property name="Mesh" value="#@modfolder(1-SurvivorzPack):Resources/Survivorz.unity3d?FemaleElvenArcherDark"/>
      <property name="SoundHurt" value="Player_Female/player2painlg"/>
      <property name="SoundHurtSmall" value="Player_Female/player2painsm"/>
      <property name="SoundDeath" value="Player_Female/player2death"/>
      <property name="SoundStamina" value="Player_Female/player2stamina"/>
      <property name="SoundDrownPain" value="Player_Female/player2drownpain"/>
      <property name="SoundWaterSurface" value="Player_Female/player2drownsurface"/>
      <property name="SoundDrownDeath" value="Player_Female/player2drowndeath"/>
      <property name="SoundJump" value="Player_Male/player2Jump"/>
      <property name="SoundLandSoft" value="Player_Male/player2LandSoft"/>
      <property name="SoundLandHard" value="Player_Male/player2LandHard"/>
      <property name="SoundPlayerLandThump" value="PlayerLandThump"/>
      <property name="SoundRandom" value="GurlzChatterRandom"/>
      <property name="SoundRandomTime" value="600"/>
      <property name="SoundAlert" value="Player_Female/player2stamina"/>
      <property name="SoundAttack" value="Player_Female/player2stamina"/>
      <property name="SoundSense" value="Player_Female/player2stamina"/>
      <property name="LootDropProb" value="0.33"/>
      <property name="LootDropEntityClass" value="EntityLootContainerRegularWithShotgun"/>
      <property name="HireCost" value="337"/>
      <effect_group name="Base Effects">
        <passive_effect name="PhysicalDamageResist" operation="base_set" value="10"/>
        <passive_effect name="HealthMax" operation="base_set" value="75"/>
      </effect_group>
    </entity_class>
  </append>
  <remove xpath="/entity_classes/entity_class[starts-with(@name,'animalSpider')]/property[@name='LootDropProb']"/>
  <remove xpath="/entity_classes/entity_class[starts-with(@name,'animalSpider')]/property[@name='LootDropEntityClass']"/>
  <append xpath="/entity_classes/entity_class[contains(@name, 'zombie')]" help="this prevents a huge lot of drop bags, to compensate, upped the item count on loot.xml, the idea is to loot less often and each be more rewarding">
    <property name="LootDropProb" value="0.05"/>
  </append>
  <append xpath="/entity_classes/entity_class[starts-with(@name, 'npc')]" help="was 0.33. but a friendly npc shall not drop stuff so easily, only by luck. This is also good for a hired NPC following you or patrolling or waiting.">
    <property name="LootDropProb" value="0.05"/>
  </append>
  <append xpath="/entity_classes/entity_class[starts-with(@name, 'npcAnimal')]" help="animals carry nothing beyond what we place in their backpack">
    <property name="LootDropProb" value="0.00" help="I tested with 200 npc fox hirable and had no problem (nothing dropped)."/>
    <property name="LootListAlive" value="traderNPCanimal"/>
  </append>
  <append xpath="/entity_classes/entity_class[starts-with(@name, 'Raider') or starts-with(@name,'npcHarley')]" help="bandits shall always drop something, they are somehow rare and provide a good challenge TODO: but would be better if only drops stuff when a player kills it, not by another NPC.  only npcHarley is set as bandit, must be set after 'npc' (pre-patching npcHarley to RaiderHarley may mess other devs mods)">
    <property name="LootDropProb" value="1.00"/>
  </append>
  <append xpath="/entity_classes/entity_class[starts-with(@name, 'npc')]/property[@name='Tags' and not(contains(@value,'bandit'))]/@value" help="TODO: could the hirecost property be read instead to add this tag?">,hireable</append>
  <append xpath="/entity_classes/entity_class[contains(@name, 'survivor')]" help="no easy loot from friendlies">
    <property name="LootDropProb" value="0.05"/>
  </append>
  <append xpath="/entity_classes/entity_class[contains(@name,'animal')]" help="animals are to harvest only">
    <property name="LootDropProb" value="0.0"/>
  </append>
  <append xpath="/entity_classes/entity_class[contains(@name, 'animal')]">
    <property name="TimeStayAfterDeath" value="3600"/>
  </append>
  <append xpath="/entity_classes/entity_class[contains(@name, 'animalZombie')]" help="their flesh is contamined by zombie virus and will last longer">
    <property name="TimeStayAfterDeath" value="7200"/>
  </append>
  <append xpath="/entity_classes">
    <entity_class name="entContainerGSKGuardedTreasure" extends="DroppedLootContainer">
      <property name="LootListAlive" value="buriedTreasure"/>
      <property name="LootListOnDeath" value="buriedTreasure"/>
      <property name="TimeStayAfterDeath" value="72000"/>
      <property name="Model" value="#Entities/LootContainers?tier3LootChestPrefab.prefab"/>
    </entity_class>
  </append>
  <!--HELPGOOD: change loot bags colors for visibility based on relevance lower to high: blue,red,yellow-->
  <set xpath="/entity_classes/entity_class[contains(@name, 'EntityLootContainerRegular')]/property[contains(@name, 'Mesh')]/@value">#Entities/LootContainers?zpackBluePrefab.prefab</set>
  <set xpath="/entity_classes/entity_class[contains(@name, 'EntityLootContainerStrong')]/property[contains(@name, 'Mesh')]/@value">#Entities/LootContainers?zpackRedPrefab.prefab</set>
  <!--HELPGOOD    yellow one, also used for NPCs and raiders that have good drops -->
  <set xpath="/entity_classes/entity_class[contains(@name, 'EntityLootContainerBoss')]/property[contains(@name, 'Mesh')]/@value">#Entities/LootContainers?zpackPrefab.prefab</set>
  <append xpath="/entity_classes">
    <entity_class name="EntityLootContainerRegularWithLBow" extends="EntityLootContainerRegular">
      <property name="Mesh" value="#Entities/LootContainers?zpackPrefab.prefab"/>
      <property name="LootListOnDeath" value="lootPackRegularWithLBow"/>
    </entity_class>
    <entity_class name="EntityLootContainerRegularWithXBow" extends="EntityLootContainerRegular">
      <property name="Mesh" value="#Entities/LootContainers?zpackPrefab.prefab"/>
      <property name="LootListOnDeath" value="lootPackRegularWithXBow"/>
    </entity_class>
    <entity_class name="EntityLootContainerRegularWithRifle" extends="EntityLootContainerRegular">
      <property name="Mesh" value="#Entities/LootContainers?zpackPrefab.prefab"/>
      <property name="LootListOnDeath" value="lootPackRegularWithRifle"/>
    </entity_class>
    <entity_class name="EntityLootContainerRegularWithPistol" extends="EntityLootContainerRegular">
      <property name="Mesh" value="#Entities/LootContainers?zpackPrefab.prefab"/>
      <property name="LootListOnDeath" value="lootPackRegularWithPistol"/>
    </entity_class>
    <entity_class name="EntityLootContainerRegularWithShotgun" extends="EntityLootContainerRegular">
      <property name="Mesh" value="#Entities/LootContainers?zpackPrefab.prefab"/>
      <property name="LootListOnDeath" value="lootPackRegularWithShotgun"/>
    </entity_class>
    <entity_class name="EntityLootContainerRegularWithAK47" extends="EntityLootContainerRegular">
      <property name="Mesh" value="#Entities/LootContainers?zpackPrefab.prefab"/>
      <property name="LootListOnDeath" value="lootPackRegularWithAK47"/>
    </entity_class>
    <entity_class name="EntityLootContainerRegularWithRocket" extends="EntityLootContainerRegular">
      <property name="Mesh" value="#Entities/LootContainers?zpackPrefab.prefab"/>
      <property name="LootListOnDeath" value="lootPackRegularWithRocket"/>
    </entity_class>
    <entity_class name="EntityLootContainerDeusEx" extends="EntityLootContainerRegular">
      <property name="Tags" value="DeusExDroppedLoot"/>
      <property name="Mesh" value="#Entities/LootContainers?tier4LootChestPrefab.prefab" help="looks nice"/>
      <property name="LootListOnDeath" value="lootDeusExMachina"/>
    </entity_class>
  </append>
  <append xpath="/entity_classes/entity_class[contains(@name, 'Raider') or starts-with(@name,'npcHarley')]">
    <property name="LootDropEntityClass" value="EntityLootContainerBandit"/>
  </append>
  <append xpath="/entity_classes/entity_class[contains(@name, 'LBow')]">
    <property name="LootDropEntityClass" value="EntityLootContainerRegularWithLBow"/>
  </append>
  <append xpath="/entity_classes/entity_class[contains(@name, 'XBow')]">
    <property name="LootDropEntityClass" value="EntityLootContainerRegularWithXBow"/>
  </append>
  <append xpath="/entity_classes/entity_class[contains(@name, 'Pistol') or contains(@name, 'SMG')]">
    <property name="LootDropEntityClass" value="EntityLootContainerRegularWithPistol"/>
  </append>
  <append xpath="/entity_classes/entity_class[contains(@name, 'Shotgun')]">
    <property name="LootDropEntityClass" value="EntityLootContainerRegularWithShotgun"/>
  </append>
  <append xpath="/entity_classes/entity_class[contains(@name, 'Rifle')]">
    <property name="LootDropEntityClass" value="EntityLootContainerRegularWithRifle"/>
  </append>
  <append xpath="/entity_classes/entity_class[contains(@name, 'AK47') or contains(@name, 'PipeMG') or contains(@name, 'M60')]">
    <property name="LootDropEntityClass" value="EntityLootContainerRegularWithAK47"/>
  </append>
  <append xpath="/entity_classes/entity_class[contains(@name, 'Rocket')]">
    <property name="LootDropEntityClass" value="EntityLootContainerRegularWithRocket"/>
  </append>
  <set xpath="/entity_classes/entity_class[contains(@name, 'EntityLoot')]/property[contains(@name, 'TimeStayAfterDeath')]/@value">36000</set>
  <set xpath="/entity_classes/entity_class[contains(@name, 'Backpack')]/property[contains(@name, 'TimeStayAfterDeath')]/@value">72000</set>
  <set xpath="/entity_classes/entity_class[@name='playerMale']/effect_group/passive_effect[@name='JumpStrength' and @tags='crouching']/@value">0.16</set>
  <set xpath="/entity_classes/entity_class[@name='playerMale']/property[     @name='ItemsOnEnterGame.GameModeSurvival'   or     @name='ItemsOnEnterGame.GameModeSurvivalSP' or     @name='ItemsOnEnterGame.GameModeSurvivalMP'    ]/@value">GSKElctrnTeleportUndergroundFreeAndSafeCall,GSKCFGTeleUndergroundFreeDelay,GSKElctrnTeleportToBiomeFreeAndSafeCall,GSKNoteResurrectTips,GSKTRFirstSpawnBundle</set>
  <append xpath="/entity_classes/entity_class[@name='sc_General']">
    <effect_group>
      <triggered_effect trigger="onSelfFirstSpawn" action="AddBuff" target="self" buff="buffGSKAirDropHighlight"/>
    </effect_group>
    <property name="Tags" value="perkAT01,perkAT02,perkAT03"/>
    <property name="TrackerIcon" value="map_supply_crate"/>
  </append>
  <append xpath="/entity_classes/entity_class[contains(@name,'Radiated')]/property[@name='Tags']/@value">,perkAT01,perkAT02,perkAT03</append>
  <append xpath="/entity_classes/entity_class[contains(@name,'Radiated')]">
    <property name="NavObject" value="radiationSource"/>
  </append>
  <append xpath="/entity_classes/entity_class[@name='npcRocketLTemplate']">
    <property name="ItemsOnEnterGame.GameModeSurvival" value="gunNPCRocketLauncher,ammoNPCRocketFragFriendly"/>
    <property name="ItemsOnEnterGame.GameModeSurvivalSP" value="gunNPCRocketLauncher,ammoNPCRocketFragFriendly"/>
    <property name="ItemsOnEnterGame.GameModeSurvivalMP" value="gunNPCRocketLauncher,ammoNPCRocketFragFriendly"/>
  </append>
  <append xpath="/entity_classes/entity_class[@name='RaiderSluggerRocketL' or @name='npcHarleyRocketL']">
    <property name="ItemsOnEnterGame.GameModeSurvival" value="gunNPCRocketLauncher,ammoNPCRocketHE"/>
    <property name="ItemsOnEnterGame.GameModeSurvivalSP" value="gunNPCRocketLauncher,ammoNPCRocketHE"/>
    <property name="ItemsOnEnterGame.GameModeSurvivalMP" value="gunNPCRocketLauncher,ammoNPCRocketHE"/>
  </append>
  <set xpath="/entity_classes/entity_class[starts-with(@name,'zombie')]/property[@name='TimeStayAfterDeath']/@value">6</set>
  <append xpath="/entity_classes/entity_class[       @name='npcTattooGurlTRifle' or        @name='npcAirForceTRifle'     ]" help="this fix copes with ranged NPC follower limiter. had to be a full property append because had to remove melee from it TODO: find other rangeds that require fixing thru bash script xmlstarlet, or use contains npc TRifle and any other ranged suffixes and append to them even if it ends up dupped">
    <property name="Tags" value="entity,female,npc,UMA2,ranged"/>
  </append>
  <append xpath="/entity_classes/entity_class[       @name='npcReconFemaleClub'     ]" help="this fix copes with ranged NPC follower limiter. had to be a full property append because had to remove ranged from it">
    <property name="Tags" value="UMA2,entity,female,npc,melee"/>
  </append>
  <append xpath="/entity_classes/entity_class[starts-with(@name,'npc') and       (         contains(@name,'Club') or         contains(@name,'Knife') or         contains(@name,'Axe') or         contains(@name,'Spear') or         contains(@name,'Bat') or         contains(@name,'Machete')       )     ]/property[@name='Tags' and contains(@value,'ranged')]/@value" help="this patch failing to apply is a good thing. TODO?: melee wont override ranged, but is simple to prioritize melee over ranged when limiting NPCs. This is just a quick workaround, all melee NPCs should be properly fixed to remove ranged tag tho.">,melee,FIXME_HasBothRangedAndMelee</append>
  <!-- HELPGOOD: A patch to friendly raiders to show up in the hired followers list 
    ex.: the idea is to upgrade from npcClubTemplate to npcAdvancedClubTemplate
      originally:
        <entity_class name="RaiderJayneClub" extends="npcClubTemplate"> 
        <entity_class name="npcRaiderJayneClub" extends="RaiderJayneClub"> 
      final: this was is important to keep the model
        <entity_class name="RaiderJayneClub" extends="npcAdvancedClubTemplate"> 
        <entity_class name="npcRaiderJayneClub" extends="RaiderJayneClub"> 
      so the "npc" (friendly) is further patched in the last line with the missing tags
  -->
  <set xpath="/entity_classes/entity_class[starts-with(@name,'Raider') and contains(@name,'Club')]/@extends">npcAdvancedClubTemplate</set>
  <set xpath="/entity_classes/entity_class[starts-with(@name,'Raider') and contains(@name,'Knife')]/@extends">npcAdvancedKnifeTemplate</set>
  <set xpath="/entity_classes/entity_class[starts-with(@name,'Raider') and contains(@name,'Bat')]/@extends">npcAdvancedBatTemplate</set>
  <set xpath="/entity_classes/entity_class[starts-with(@name,'Raider') and contains(@name,'Axe')]/@extends">npcAdvancedAxeTemplate</set>
  <set xpath="/entity_classes/entity_class[starts-with(@name,'Raider') and contains(@name,'Machete')]/@extends">npcAdvancedMacheteTemplate</set>
  <set xpath="/entity_classes/entity_class[starts-with(@name,'Raider') and contains(@name,'AK47')]/@extends">npcAdvancedAK47Template</set>
  <set xpath="/entity_classes/entity_class[starts-with(@name,'Raider') and contains(@name,'SMG')]/@extends">npcAdvancedSMGTemplate</set>
  <set xpath="/entity_classes/entity_class[starts-with(@name,'Raider') and contains(@name,'DPistol')]/@extends">npcAdvancedDPistolTemplate</set>
  <set xpath="/entity_classes/entity_class[starts-with(@name,'Raider') and contains(@name,'TRifle')]/@extends">npcAdvancedTRifleTemplate</set>
  <set xpath="/entity_classes/entity_class[starts-with(@name,'Raider') and contains(@name,'PipeMG')]/@extends">npcAdvancedPipeMGTemplate</set>
  <set xpath="/entity_classes/entity_class[starts-with(@name,'Raider') and contains(@name,'M60')]/@extends">npcAdvancedM60Template</set>
  <set xpath="/entity_classes/entity_class[starts-with(@name,'Raider') and contains(@name,'RocketL')]/@extends">npcAdvancedRocketLTemplate</set>
  <append xpath="/entity_classes/entity_class[starts-with(@name,'npcRaider')]/property[@name='Tags']/@value">,cp,DRMid</append>
  <!-- HELPGOOD: ambushers BELOW the friendly patch above to keep the correct extends value below, or add above a not(name has ambush) there -->
  <append xpath="/entity_classes" help="treasure Ambushers have very low loot drop chance, just flee is better as you were there for the treasure (and they too)">
    <!-- HELPGOOD: for treasure AMBUSH: extended raiders that drop prob 0.10 only for treasure ambushers, a simple script to create it:CODEGEN:
    clear;egrep '<entity_class name="(Raider|npcHarley)[^>]*>' -o _NewestSavegamePath.IgnoreOnBackup/ConfigsDump/entityclasses.xml |egrep -v Ambush|sort |sed -r -e 's@(.*)name="([^"]*)" *extends="([^"]*)"(.*)@    \1 name="\2Ambush" extends="\2"><property name="LootDropProb" value="0.01"/></entity_class>@'
    -->
    <entity_class name="npcHarleyAK47Ambush" extends="npcHarleyAK47">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleyAShotgunAmbush" extends="npcHarleyAShotgun">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleyAxeAmbush" extends="npcHarleyAxe">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleyBatAmbush" extends="npcHarleyBat">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleyBMEmptyHandAmbush" extends="npcHarleyBMEmptyHand">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleyClubAmbush" extends="npcHarleyClub">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleyDPistolAmbush" extends="npcHarleyDPistol">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleyEmptyHandAmbush" extends="npcHarleyEmptyHand">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleyHRifleAmbush" extends="npcHarleyHRifle">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleyKnifeAmbush" extends="npcHarleyKnife">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleyLBowAmbush" extends="npcHarleyLBow">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleyM60Ambush" extends="npcHarleyM60">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleyMacheteAmbush" extends="npcHarleyMachete">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleyPipeMGAmbush" extends="npcHarleyPipeMG">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleyPipePistolAmbush" extends="npcHarleyPipePistol">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleyPipeRifleAmbush" extends="npcHarleyPipeRifle">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleyPipeShotgunAmbush" extends="npcHarleyPipeShotgun">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleyPistolAmbush" extends="npcHarleyPistol">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleyPShotgunAmbush" extends="npcHarleyPShotgun">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleyRocketLAmbush" extends="npcHarleyRocketL">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleySMGAmbush" extends="npcHarleySMG">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleySpearAmbush" extends="npcHarleySpear">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleySRifleAmbush" extends="npcHarleySRifle">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleyTRifleAmbush" extends="npcHarleyTRifle">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleyVomitHandAmbush" extends="npcHarleyVomitHand">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="npcHarleyXBowAmbush" extends="npcHarleyXBow">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderBeatzAK47Ambush" extends="RaiderBeatzAK47">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderBeatzBatAmbush" extends="RaiderBeatzBat">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderBeatzClubAmbush" extends="RaiderBeatzClub">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderBeatzDPistolAmbush" extends="RaiderBeatzDPistol">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderBeatzSMGAmbush" extends="RaiderBeatzSMG">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderBettyAxeAmbush" extends="RaiderBettyAxe">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderBettyBatAmbush" extends="RaiderBettyBat">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderBettyClubAmbush" extends="RaiderBettyClub">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderBettyDPistolAmbush" extends="RaiderBettyDPistol">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderBettyKnifeAmbush" extends="RaiderBettyKnife">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderBettyMacheteAmbush" extends="RaiderBettyMachete">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderBettySMGAmbush" extends="RaiderBettySMG">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderBettyTRifleAmbush" extends="RaiderBettyTRifle">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderGinaAxeAmbush" extends="RaiderGinaAxe">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderGinaBatAmbush" extends="RaiderGinaBat">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderGinaClubAmbush" extends="RaiderGinaClub">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderGinaDPistolAmbush" extends="RaiderGinaDPistol">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderGinaKnifeAmbush" extends="RaiderGinaKnife">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderGinaMacheteAmbush" extends="RaiderGinaMachete">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderGinaSMGAmbush" extends="RaiderGinaSMG">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderGinaTRifleAmbush" extends="RaiderGinaTRifle">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderGypsyAxeAmbush" extends="RaiderGypsyAxe">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderGypsyBatAmbush" extends="RaiderGypsyBat">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderGypsyClubAmbush" extends="RaiderGypsyClub">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderGypsyDPistolAmbush" extends="RaiderGypsyDPistol">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderGypsyKnifeAmbush" extends="RaiderGypsyKnife">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderGypsyMacheteAmbush" extends="RaiderGypsyMachete">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderGypsySMGAmbush" extends="RaiderGypsySMG">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderGypsyTRifleAmbush" extends="RaiderGypsyTRifle">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderHedyAxeAmbush" extends="RaiderHedyAxe">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderHedyBatAmbush" extends="RaiderHedyBat">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderHedyClubAmbush" extends="RaiderHedyClub">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderHedyDPistolAmbush" extends="RaiderHedyDPistol">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderHedyKnifeAmbush" extends="RaiderHedyKnife">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderHedyMacheteAmbush" extends="RaiderHedyMachete">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderHedySMGAmbush" extends="RaiderHedySMG">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderHedyTRifleAmbush" extends="RaiderHedyTRifle">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderJayneAxeAmbush" extends="RaiderJayneAxe">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderJayneBatAmbush" extends="RaiderJayneBat">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderJayneClubAmbush" extends="RaiderJayneClub">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderJayneDPistolAmbush" extends="RaiderJayneDPistol">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderJayneKnifeAmbush" extends="RaiderJayneKnife">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderJayneMacheteAmbush" extends="RaiderJayneMachete">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderJayneSMGAmbush" extends="RaiderJayneSMG">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderJayneTRifleAmbush" extends="RaiderJayneTRifle">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderMercAK47Ambush" extends="RaiderMercAK47">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderMercClubAmbush" extends="RaiderMercClub">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderMercDPistolAmbush" extends="RaiderMercDPistol">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderMercKnifeAmbush" extends="RaiderMercKnife">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderMercMacheteAmbush" extends="RaiderMercMachete">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderMercTRifleAmbush" extends="RaiderMercTRifle">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderMotoAK47Ambush" extends="RaiderMotoAK47">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderMotoAxeAmbush" extends="RaiderMotoAxe">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderMotoBatAmbush" extends="RaiderMotoBat">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderMotoDPistolAmbush" extends="RaiderMotoDPistol">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderMotoTRifleAmbush" extends="RaiderMotoTRifle">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderPestAxeAmbush" extends="RaiderPestAxe">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderPestBatAmbush" extends="RaiderPestBat">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderPestClubAmbush" extends="RaiderPestClub">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderPestDPistolAmbush" extends="RaiderPestDPistol">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderPestKnifeAmbush" extends="RaiderPestKnife">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderPestMacheteAmbush" extends="RaiderPestMachete">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderPestPipeMGAmbush" extends="RaiderPestPipeMG">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderPestSMGAmbush" extends="RaiderPestSMG">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderSluggerAK47Ambush" extends="RaiderSluggerAK47">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderSluggerAxeAmbush" extends="RaiderSluggerAxe">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderSluggerBatAmbush" extends="RaiderSluggerBat">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderSluggerM60Ambush" extends="RaiderSluggerM60">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
    <entity_class name="RaiderSluggerRocketLAmbush" extends="RaiderSluggerRocketL">
      <property name="LootDropProb" value="0.01"/>
    </entity_class>
  </append>
  <append xpath="/entity_classes/entity_class[@name='animalSnake']">
    <drop event="Harvest" name="GSKsnakePoison" count="3,5" tag="butcherHarvest"/>
  </append>
  <append xpath="/entity_classes/entity_class[starts-with(@name,'animalSpider') and contains(@name,'Mini')]">
    <drop event="Harvest" name="GSKsnakePoison" count="1" tag="butcherHarvest"/>
    <drop event="Harvest" name="ammoProjectileSpiderWebPlayer" count="1" tag="butcherHarvest"/>
    <drop event="Harvest" name="cobweb" count="1" tag="butcherHarvest"/>
    <property name="DeadBodyHitPoints" value="66" help="next grown spider is 100. 30 is too little to work with buff gore harvest that only works from the 2nd hit on."/>
  </append>
  <append xpath="/entity_classes/entity_class[starts-with(@name,'animalSpider') and not(contains(@name,'Mini') or contains(@name,'Feral') or contains(@name,'Queen'))]">
    <drop event="Harvest" name="GSKsnakePoison" count="3,6" tag="butcherHarvest"/>
    <drop event="Harvest" name="ammoProjectileSpiderWebPlayer" count="3,6" tag="butcherHarvest"/>
    <drop event="Harvest" name="cobweb" count="3,6" tag="butcherHarvest"/>
  </append>
  <append xpath="/entity_classes/entity_class[starts-with(@name,'animalSpider') and contains(@name,'Feral')]">
    <drop event="Harvest" name="GSKsnakePoison" count="4,9" tag="butcherHarvest"/>
    <drop event="Harvest" name="ammoProjectileSpiderWebPlayer" count="4,9" tag="butcherHarvest"/>
    <drop event="Harvest" name="cobweb" count="4,9" tag="butcherHarvest"/>
  </append>
  <append xpath="/entity_classes/entity_class[starts-with(@name,'animalSpider') and contains(@name,'Queen')]">
    <drop event="Harvest" name="GSKsnakePoison" count="5,15" tag="butcherHarvest"/>
    <drop event="Harvest" name="ammoProjectileSpiderWebPlayer" count="5,15" tag="butcherHarvest"/>
    <drop event="Harvest" name="cobweb" count="5,15" tag="butcherHarvest"/>
  </append>
  <append xpath="/entity_classes/entity_class[starts-with(@name,'animalSpider')]">
    <property name="AITask-1" value="BreakBlock"/>
    <property name="AITask-2" value="Territorial"/>
    <property name="AITask-3" value="RangedAttackTarget" data="itemType=1;cooldown=4;duration=3;minRange=1;maxRange=25"/>
    <property name="AITask-4" value="Leap"/>
    <property name="AITask-5" value="ApproachAndAttackTarget" data="class=EntityAlive,0,EntityZombie,0,EntityNPC,0,EntityPlayer,0,EntitySurvivor,0,EntityBandit,0,EntityAnimalRabbit,8"/>
    <property name="AITask-6" value="ApproachSpot"/>
    <property name="AITask-7" value="Look"/>
    <property name="AITask-8" value="Wander"/>
    <property name="AITask-9" value=""/>
    <property name="CanClimbVertical" value="true"/>
    <property name="JumpMaxDistance" value="10, 13"/>
  </append>
  <append xpath="/entity_classes/entity_class[starts-with(@name,'animalSpider') and contains(@name,'Mini')]">
    <property name="HandItem" value="meleeHandAnimalSpiderMini"/>
    <property name="SoundRandom" value="" help="small spiders will be sneaky now"/>
    <property name="SoundAlert" value=""/>
    <property name="SoundHurt" value="animalspiderhurt"/>
    <property name="SoundDeath" value="animalspiderdeath"/>
    <property name="SoundAttack" value="animalspiderattack"/>
    <property name="SoundSense" value=""/>
    <property name="SoundGiveUp" value="animalspiderroam"/>
  </append>
  <append xpath="/entity_classes/entity_class[@name='zombieTemplateMale' or @name='animalTemplateTimid' or @name='animalTemplateHostile']">
    <effect_group>
      <triggered_effect trigger="onSelfFirstSpawn" action="AddBuff" target="self" buff="buffGSKNPCCosmicRayTrap"/>
    </effect_group>
  </append>
  <append xpath="/entity_classes/entity_class[starts-with(@name,'animalSpider') or @name='zombieSpider']">
    <effect_group>
      <triggered_effect trigger="onSelfFirstSpawn" action="AddBuff" target="self" buff="buffGSKNPCLeapHit"/>
    </effect_group>
    <effect_group>
      <triggered_effect trigger="onSelfFirstSpawn" action="AddBuff" target="self" buff="buffGSKNPCCosmicRayTrap"/>
    </effect_group>
  </append>
  <append xpath="/entity_classes/entity_class[starts-with(@name,'animalSpider')]">
    <effect_group>
      <triggered_effect trigger="onSelfFirstSpawn" action="AddBuff" target="self" buff="buffGSKNPCSpiderTouchNet"/>
    </effect_group>
  </append>
  <append xpath="/entity_classes/entity_class[starts-with(@name,'zombieMutated')]/property[@name='Tags']/@value">,mutant,helmetNormal</append>
  <append xpath="/entity_classes/entity_class[@name='animalRabbit' or @name='zombieMutated' or @name='animalZombieVultureRadiated']">
    <effect_group>
      <triggered_effect trigger="onSelfFirstSpawn" action="AddBuff" target="self" buff="buffGSKMutantRabbits"/>
    </effect_group>
    <property name="ParticleOnSpawn" value="ParticleEffects/RadiatedParticlesOnMesh" param1="SetShapeToMesh0" help="ISSUE: this particle here will error on log, but only once! so not a problem... But if from a buff it will flood the log with repeated errors."/>
    <drop event="Harvest" name="drugGSKAntiRadiation" count="7,28" tag="butcherHarvest"/>
    <drop event="Harvest" name="GSKsnakePoison" count="0,1" tag="butcherHarvest"/>
    <drop event="Harvest" name="drugGSKPsyonicsResist" count="0,3" tag="butcherHarvest"/>
    <drop event="Harvest" name="drugGSKmutantEssence" count="0,2" tag="butcherHarvest"/>
  </append>
  <append xpath="/entity_classes/entity_class[starts-with(@name,'zombieMutated')]">
    <effect_group>
      <triggered_effect trigger="onSelfFirstSpawn" action="AddBuff" target="self" buff="buffGSKMutantZombies"/>
    </effect_group>
    <property name="LootDropProb" value="1.0"/>
    <property name="LootDropEntityClass" value="EntityLootContainerMutant"/>
  </append>
  <append xpath="/entity_classes/entity_class[contains(@name,'Radiated')]">
    <effect_group>
      <triggered_effect trigger="onSelfFirstSpawn" action="AddBuff" target="self" buff="buffGSKRadiationAura"/>
    </effect_group>
  </append>
  <append xpath="/entity_classes/entity_class[starts-with(@name,'zombieWight')]">
    <property name="MoveSpeedAggro" value="6.0, 8.0" help="doesnt seem to work, using buffGSKWightPower instead"/>
    <effect_group>
      <triggered_effect trigger="onSelfFirstSpawn" action="AddBuff" target="self" buff="buffGSKWightPower"/>
    </effect_group>
    <property name="LootDropProb" value="1.0"/>
    <property name="LootDropEntityClass" value="EntityLootContainerWight"/>
  </append>
  <append xpath="/entity_classes/entity_class[starts-with(@name,'zombiePartyGirl')]">
    <effect_group help="throws a halloween party">
      <triggered_effect trigger="onSelfDamagedOther" action="AddBuff" target="other" buff="buffGSKPartyGirlPower">
        <requirement name="EntityTagCompare" target="other" tags="player"/>
      </triggered_effect>
    </effect_group>
  </append>
  <append xpath="/entity_classes/entity_class[starts-with(@name,'zombieScreamer')]" help="vampire">
    <effect_group help="vampire permanent added powers">
      <passive_effect name="HealthMax" operation="base_add" value="@iGSKVampireBuff"/>
      <passive_effect name="StaminaMax" operation="base_add" value="@iGSKVampireBuff"/>
      <triggered_effect trigger="onSelfFirstSpawn" action="AddBuff" target="self" buff="buffGSKVampPower"/>
      <triggered_effect trigger="onSelfFirstSpawn" action="ModifyCVar" cvar="iGSKVampireBuffMax" operation="set" value="3000"/>
      <triggered_effect trigger="onSelfFirstSpawn" action="ModifyCVar" cvar="iGSKVampireBuffHalfMax" operation="set" value="@iGSKVampireBuffMax"/>
      <triggered_effect trigger="onSelfFirstSpawn" action="ModifyCVar" cvar="iGSKVampireBuffHalfMax" operation="divide" value="2"/>
      <triggered_effect trigger="onSelfFirstSpawn" action="ModifyCVar" cvar="iGSKVampireBuff10perc" operation="set" value="@iGSKVampireBuffMax"/>
      <triggered_effect trigger="onSelfFirstSpawn" action="ModifyCVar" cvar="iGSKVampireBuff10perc" operation="divide" value="10"/>
      <triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="iGSKVampireBuff" operation="add" value="@iGSKVampireBuffHalfMax">
        <requirement name="CVarCompare" cvar="iGSKVampireBuff" operation="Equals" value="0"/>
      </triggered_effect>
      <triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar="iGSKVampireBuff" operation="add" value="@iGSKVampireBuff10perc">
        <requirement name="StatCompareCurrent" stat="Health" operation="LT" value="@iGSKVampireBuffMax"/>
      </triggered_effect>
      <triggered_effect trigger="onSelfDamagedOther" action="ModifyStats" stat="Health" operation="add" value="1000"/>
      <triggered_effect trigger="onSelfDamagedOther" action="AddBuff" target="other" buff="buffGSKBeastFangsHoldup">
        <requirement name="RandomRoll" seed_type="Random" min_max="0,3000" operation="LT" value="@iGSKVampireBuff" help="sync with iGSKVampireBuffMax"/>
      </triggered_effect>
      <!-- HELPGOOD: max is 3 = 75% chance, the stronger the vamp is greater the chance -->
      <triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" target="other" cvar=".iGSKTryRagdollSelf" operation="add" value="1">
        <requirement name="CVarCompare" cvar="iGSKVampireBuff" operation="GT" value="500"/>
      </triggered_effect>
      <triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" target="other" cvar=".iGSKTryRagdollSelf" operation="add" value="1">
        <requirement name="CVarCompare" cvar="iGSKVampireBuff" operation="GT" value="1500"/>
      </triggered_effect>
      <triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" target="other" cvar=".iGSKTryRagdollSelf" operation="add" value="1">
        <requirement name="CVarCompare" cvar="iGSKVampireBuff" operation="GT" value="2500"/>
      </triggered_effect>
    </effect_group>
    <effect_group help="vampire night powers">
      <requirement name="IsNight"/>
      <passive_effect name="RunSpeed" operation="perc_add" value="2.0"/>
      <passive_effect name="AttacksPerMinute" operation="perc_add" value="1.0" help="FAILS?"/>
      <passive_effect name="JumpStrength" operation="perc_add" value="3.0" help="works?"/>
      <!--      HELPGOOD: 5 let it spawn 3, goal is TOT(3) + 2 = 5 = INIT value. If you want 3, you have to set to 5.
        1st hit: 5; -1=4>1; spawn 1
        2nd hit: 4; -1=3>1; spawn 2
        3rd hit: 3; -1=2>1; spawn 3
        4th hit: 2; -1=1 STOP: Wont be 0 so wont init. Being 1 will fail on GT 1. So STOPs
-->
      <triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar=".iGSKVampCallsThrawlSelf" operation="set" value="5">
        <requirement name="CVarCompare" cvar=".iGSKVampCallsThrawlSelf" operation="Equals" value="0" help="tot=3 +2 = 5=init"/>
      </triggered_effect>
      <triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" cvar=".iGSKVampCallsThrawlSelf" operation="add" value="-1">
        <requirement name="CVarCompare" cvar=".iGSKVampCallsThrawlSelf" operation="GT" value="1"/>
      </triggered_effect>
      <triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" target="other" cvar=".iGSKVampCallsThrawl" operation="add" value="1" target_tags="player">
        <requirement name="CVarCompare" cvar=".iGSKVampCallsThrawlSelf" operation="GT" value="1"/>
      </triggered_effect>
    </effect_group>
    <property name="LootDropProb" value="1.0"/>
    <property name="LootDropEntityClass" value="EntityLootContainerVampire"/>
  </append>
  <append xpath="/entity_classes/entity_class[starts-with(@name,'zombieScreamer')]/property[@name='Tags']/@value">,vampire,helmetNormal</append>
  <append xpath="/entity_classes/entity_class[contains(@name,'Wight')]/property[@name='Tags']/@value">,wight,helmetNormal</append>
  <set xpath="/entity_classes/entity_class[@name='zombieArlene']/property[@name='DanceType']/@value">1</set>
  <append xpath="/entity_classes/entity_class[@name='zombieDemolition']">
    <property name="Explosion.Buff" value="buffGSKRadExplosionA"/>
    <property name="Explosion.RadiusBlocks" value="10"/>
  </append>
  <append xpath="/entity_classes/entity_class[@name='zombieFatCop']">
    <property name="Explosion.Buff" value="buffGSKRadExplosionA"/>
    <property name="Explosion.RadiusBlocks" value="5"/>
  </append>
  <append xpath="/entity_classes/entity_class[@name='zombieFatCopFeral']">
    <property name="Explosion.Buff" value="buffGSKRadExplosionA"/>
    <property name="Explosion.RadiusBlocks" value="6"/>
  </append>
  <append xpath="/entity_classes/entity_class[@name='zombieFatCopRadiated']">
    <property name="Explosion.Buff" value="buffGSKRadExplosionB"/>
    <property name="Explosion.RadiusBlocks" value="8"/>
  </append>
  <append xpath="/entity_classes/entity_class[       starts-with(@name,'npc') and        (         contains(@name,'Baker') or          contains(@name,'Male') or          contains(@name,'MrFriendly') or          contains(@name,'Officer') or          contains(@name,'Soldier') or          contains(@name,'VaultBoss') or          contains(@name,'Wrestler')       ) and       not(contains(@name,'Female'))     ]" help="default sounds to male NPCs so if you hired one you will know it is being hit">
    <property name="SoundHurt" value="Player_Male/player1painlg"/>
    <property name="SoundHurtSmall" value="Player_Male/player1painsm"/>
    <property name="SoundDeath" value="Player_Male/player1death"/>
    <property name="SoundStamina" value="Player_Male/player1stamina"/>
    <property name="SoundDrownPain" value="Player_Male/player1drownpain"/>
    <property name="SoundWaterSurface" value="Player_Male/player1drownsurface"/>
    <property name="SoundDrownDeath" value="Player_Male/player1drowndeath"/>
    <property name="SoundJump" value="Player_Male/player1Jump"/>
    <property name="SoundLandSoft" value="Player_Male/player1LandSoft"/>
    <property name="SoundLandHard" value="Player_Male/player1LandHard"/>
    <property name="SoundPlayerLandThump" value="PlayerLandThump"/>
  </append>
  <remove xpath="/entity_classes/entity_class[@name='playerMale']/effect_group/passive_effect[@name='DamageModifier' and contains(@tags, 'head')]" help="this resets all TSBX_Headshot_100 DamageModifier changes (that are applied on the player) to redo it here (applying it on foes to detect helmet usage based on 3d model) using buffGSKHeadShot instead"/>
  <append xpath="/entity_classes/entity_class[       starts-with(@name,'zombieUtilityWorker') or       starts-with(@name,'zombieBiker') or       @name='animalBear'     ]/property[@name='Tags']/@value">,helmetWeak</append>
  <append xpath="/entity_classes/entity_class[       starts-with(@name,'zombieDemolition') or       @name='animalZombieBear'     ]/property[@name='Tags']/@value">,helmetNormal</append>
  <append xpath="/entity_classes/entity_class[@name='mechSphereII']" help="fix it before other patches">
    <property name="Tags" value="entity,cp,mech,mechSphereII"/>
  </append>
  <append xpath="/entity_classes/entity_class[       starts-with(@name,'zombieSoldier') or       @name='mechRobot' or       @name='mechRobotArmy'     ]/property[@name='Tags']/@value">,helmetStrong</append>
  <append xpath="/entity_classes/entity_class[       @name='mechDrone' or       @name='mechSphereI' or       @name='mechSphereII'     ]/property[@name='Tags']/@value">,helmetWeak</append>
  <append xpath="/entity_classes/entity_class[starts-with(@name,'mech') and not(contains(@name,'DeusEx'))]">
    <property name="LootDropProb" value="0"/>
  </append>
  <append xpath="/entity_classes/entity_class[@name='mechTemplateHostile']">
    <property name="DeadBodyHitPoints" value="33" help="faster harvesting"/>
    <property name="AITask-1" value="BreakBlock"/>
    <property name="AITask-2" value="Leap"/>
    <property name="AITask-3" value="ApproachAndAttackTarget" data="class=EntityAlive,0"/>
    <property name="AITask-4" value="ApproachSpot"/>
    <property name="AITask-5" value="Look"/>
    <property name="AITask-6" value="Territorial"/>
    <property name="AITask-7" value="Wander"/>
    <property name="AITask-8" value=""/>
  </append>
  <append xpath="/entity_classes/entity_class[@name='mechBee']">
    <effect_group name="Base Effects">
      <passive_effect name="HealthMax" operation="base_set" value="50" help="the hit collider is too small, so whenever you hit it, it will be worth it."/>
    </effect_group>
    <property name="DeadBodyHitPoints" value="20" help="faster harvesting"/>
  </append>
  <append xpath="/entity_classes/entity_class[starts-with(@name,'mechSphere')]">
    <effect_group name="Base Effects">
      <passive_effect name="HealthMax" operation="base_set" value="75" help="the hit collider is too small, so whenever you hit it, it will be worth it."/>
    </effect_group>
    <property name="DeadBodyHitPoints" value="33" help="faster harvesting"/>
  </append>
  <append xpath="/entity_classes/entity_class[       starts-with(@name,'zombieUtilityWorker') or       starts-with(@name,'zombieBiker')     ]">
    <property name="DismemberMultiplierHead" value="0.33"/>
  </append>
  <append xpath="/entity_classes/entity_class[       starts-with(@name,'zombieDemolition')     ]">
    <property name="DismemberMultiplierHead" value="0.15"/>
  </append>
  <append xpath="/entity_classes/entity_class[       starts-with(@name,'zombieSoldier')     ]">
    <property name="DismemberMultiplierHead" value="0.05"/>
  </append>
  <append xpath="/entity_classes/entity_class[       starts-with(@name,'mech')     ]">
    <property name="DismemberMultiplierHead" value="0.00"/>
  </append>
  <append xpath="/entity_classes/entity_class[     starts-with(@name,'zombieUtilityWorker') or     starts-with(@name,'zombieBiker') or     starts-with(@name,'zombieDemolition') or     starts-with(@name,'zombieSoldier') or     starts-with(@name,'mech')   ]">
    <property name="DismemberMultiplierHead" value="0" help="this prevents instakill right?"/>
    <!--
    HELPGOOD: this doesnt protect their heads, just prevents them from attacking
    <property name="ItemsOnEnterGame.GameModeSurvival" value="armorSteelHelmet" />
    <property name="ItemsOnEnterGame.GameModeSurvivalSP" value="armorSteelHelmet" />
    <property name="ItemsOnEnterGame.GameModeSurvivalMP" value="armorSteelHelmet" />   
-->
  </append>
  <append xpath="/entity_classes/entity_class[@name='playerMale']">
    <!-- HELPGOOD: using buffGSKHeadShot instead
    <effect_group help="HeadShot: more damage">
      <passive_effect name="DamageModifier" operation="perc_set" value="1" tags="head" help="is this like a reset/override for any previous settings?"/>
      <passive_effect name="DamageModifier" operation="perc_add" value="2.5" tags="head"/>
      <passive_effect name="DamageModifier" operation="perc_add" value="2" tags="head" >
        <requirement name="CVarCompare" cvar="_difficulty" operation="Equals" value="2"/>
      </passive_effect>
      <passive_effect name="DamageModifier" operation="perc_add" value="4" tags="head" >
        <requirement name="CVarCompare" cvar="_difficulty" operation="Equals" value="3"/>
      </passive_effect>
      <passive_effect name="DamageModifier" operation="perc_add" value="6" tags="head" >
        <requirement name="CVarCompare" cvar="_difficulty" operation="Equals" value="4"/>
      </passive_effect>
      <passive_effect name="DamageModifier" operation="perc_add" value="8" tags="head" >
        <requirement name="CVarCompare" cvar="_difficulty" operation="Equals" value="5"/>
      </passive_effect>
    </effect_group>
-->
  </append>
  <append xpath="/entity_classes/entity_class[@name='animalChicken']">
    <property name="SoundAlert" value="Animals/Chicken/chickenpain"/>
    <property name="SoundSense" value="Animals/Chicken/chickenpain"/>
  </append>
  <append xpath="/entity_classes/entity_class[@name='animalRabbit']">
    <property name="SoundAlert" value="Animals/rabbitpain"/>
    <property name="SoundSense" value="Animals/rabbitpain"/>
  </append>
  <append xpath="/entity_classes">
    <entity_class name="animalChickenTreasureRadiusReductionIndicator" extends="animalChicken">
      <property name="TimeStayAfterDeath" value="0.1"/>
      <property name="Tags" value="entity,animal,chicken,perkAT01,perkAT02,perkAT03,TreasureRadiusReductionIndicator"/>
      <effect_group name="Base Effects">
        <passive_effect name="HealthMax" operation="base_set" value="30000"/>
        <triggered_effect trigger="onSelfFirstSpawn" action="AddBuff" target="self" buff="buffGSKEntTrRdRdctIdct"/>
      </effect_group>
    </entity_class>
    <entity_class name="EntityLootContainerWight">
      <property name="HideInSpawnMenu" value="true"/>
      <property name="Mesh" value="#Other/Items?Food/bottled_waterPrefab.prefab" help="a rollable entity will add some difficulty to acquire it"/>
      <property name="SizeScale" value="2.5" help="ISSUE: FAILs while the server is running or the player is nearby but works when the server is restarted or player moves back from far away I think"/>
      <property name="ModelType" value="Custom"/>
      <property name="Prefab" value="Backpack"/>
      <property name="Class" value="EntityLootContainer"/>
      <property name="Parent" value="Backpack"/>
      <property name="IsEnemyEntity" value="false"/>
      <property name="TimeStayAfterDeath" value="36000"/>
      <property name="LootListOnDeath" value="zPackWight"/>
      <property name="Faction" value="none"/>
    </entity_class>
    <entity_class name="EntityLootContainerVampire">
      <property name="HideInSpawnMenu" value="true"/>
      <property name="Mesh" value="#Other/Items?Food/bottled_waterPrefab.prefab" help="a rollable entity will add some difficulty to acquire it"/>
      <property name="SizeScale" value="2.5" help="ISSUE: FAILs while the server is running or the player is nearby but works when the server is restarted or player moves back from far away I think"/>
      <property name="ModelType" value="Custom"/>
      <property name="Prefab" value="Backpack"/>
      <property name="Class" value="EntityLootContainer"/>
      <property name="Parent" value="Backpack"/>
      <property name="IsEnemyEntity" value="false"/>
      <property name="TimeStayAfterDeath" value="36000"/>
      <property name="LootListOnDeath" value="zPackVampire"/>
      <property name="Faction" value="none"/>
    </entity_class>
    <entity_class name="EntityLootContainerMutant">
      <property name="HideInSpawnMenu" value="true"/>
      <property name="Mesh" value="#Other/Items?Food/bottled_waterPrefab.prefab" help="a rollable entity will add some difficulty to acquire it"/>
      <property name="SizeScale" value="2.5" help="ISSUE: FAILs while the server is running or the player is nearby but works when the server is restarted or player moves back from far away I think"/>
      <property name="ModelType" value="Custom"/>
      <property name="Prefab" value="Backpack"/>
      <property name="Class" value="EntityLootContainer"/>
      <property name="Parent" value="Backpack"/>
      <property name="IsEnemyEntity" value="false"/>
      <property name="TimeStayAfterDeath" value="36000"/>
      <property name="LootListOnDeath" value="zPackMutant"/>
      <property name="Faction" value="none"/>
    </entity_class>
  </append>
  <append xpath="/entity_classes/entity_class[@name='zombieBurnt']">
    <property name="Class" value="EntityZombieCop"/>
    <property name="SoundExplodeWarn" value="hulkexplodewarning"/>
    <property name="Explosion.ParticleIndex" value="10"/>
    <property name="Explosion.Duration" value="8"/>
    <property name="Explosion.BlastPower" value="35"/>
    <property name="Explosion.DamageBonus.stone" value=".1"/>
    <property name="Explosion.DamageBonus.metal" value="0"/>
    <property name="Explosion.DamageBonus.earth" value="0"/>
    <property name="Explosion.DamageBonus.water" value="0"/>
    <property name="Explosion.DamageBonus.wood" value="6"/>
    <property name="Explosion.RadiusBlocks" value="5"/>
    <property name="Explosion.RadiusEntities" value="6"/>
    <property name="Explosion.BlockDamage" value="10"/>
    <property name="Explosion.EntityDamage" value="10"/>
    <property name="Explosion.Buff" value="buffBurningMolotov"/>
    <effect_group name="fire stuff">
      <passive_effect name="BuffResistance" operation="base_set" value="200" tags="buffBurningZombie,buffBurningElement,buffBurningEnvironment,buffBurningEnvironmentHack,buffBurningFlamingArrow,buffBurningMolotov,buffIsOnFire,buffBurningWeapon"/>
      <triggered_effect trigger="onSelfDamagedOther" action="AddBuff" target="other" buff="buffBurningElement">
        <requirement name="RandomRoll" seed_type="Random" min_max="0,100" operation="LT" value="25"/>
      </triggered_effect>
      <triggered_effect trigger="onSelfFirstSpawn" action="AddBuff" target="self" buff="buffGSKBurntZombFireParticle"/>
    </effect_group>
  </append>
  <append xpath="/entity_classes/entity_class[@name='zombieFemaleFat' or @name='zombieFatHawaiian']">
    <property name="Class" value="EntityZombieCop"/>
    <property name="SoundExplodeWarn" value="hulkexplodewarning"/>
    <property name="Explosion.ParticleIndex" value="8"/>
    <property name="Explosion.RadiusBlocks" value="3"/>
    <property name="Explosion.RadiusEntities" value="4"/>
    <property name="Explosion.BlockDamage" value="250"/>
    <property name="Explosion.EntityDamage" value="25"/>
    <property name="Explosion.DamageBonus.earth" value="0"/>
    <triggered_effect trigger="onSelfDamagedOther" action="ModifyCVar" target="other" cvar=".iGSKTryRagdollSelf" operation="add" value="1"/>
  </append>
  <append xpath="/entity_classes/entity_class[starts-with(@name,'npcArmyPowerArmor')]/property[@name='Tags']/@value">,powerarmor</append>
  <append xpath="/entity_classes/entity_class[starts-with(@name,'npcArmyPowerArmor')]">
    <triggered_effect trigger="onSelfFirstSpawn" action="AddBuff" target="self" buff="buffGSKNPCHiredFollowingPowerArmorUse" help="actually just a dummy"/>
  </append>
  <append xpath="/entity_classes">
    <entity_class name="_mechDeusEx1RocketL" extends="npcAdvancedRocketLTemplate" help="FAIL. TODO: use some super fancy model that looks like a organic/implanted/cyborg hybrid with some neon ;). TODO: make it spawn the normal mechs every 300s, but bees every 60s. make bees have like just 1 shot HP, 10HP, and harvest almost nothing from them. TODO: contextualize DeusEx in docs. TODO: prevent mechs from dropping loot, least DeusEx itself.">
      <property name="Mesh" value="#@modfolder(0-CreaturePackMechs):Resources/XythMechs.unity3d?Robot_X"/>
      <property name="PhysicsBody" value="RobotRig"/>
      <property name="HasRagdoll" value="true"/>
      <property name="HasDeathAnim" value="true"/>
      <property name="RootMotion" value="false"/>
      <property name="SurfaceCategory" value="metal"/>
      <property name="SoundRandomTime" value="20.0"/>
      <property name="SoundRandom" value="RobotRandom"/>
      <property name="SoundAlert" value="RobotAlert"/>
      <property name="SoundAttack" value="RobotAttack"/>
      <property name="SoundDeath" value="RobotDie"/>
      <property name="SoundHurt" value="RobotRandom"/>
      <property name="SoundSense" value="RobotSense"/>
      <property name="Tags" value="entity,cp,mech,mechRobot,npc,bandit,ranged,helmetVanillaDamage"/>
      <property name="Faction" value="whiteriver"/>
      <property name="LookAtAngle" value="0"/>
      <property name="ExperienceGain" value="2500"/>
      <property name="LootDropProb" value="1.00"/>
      <property name="LootDropEntityClass" value="EntityLootContainerRegularWithRocket"/>
      <property name="ItemsOnEnterGame.GameModeSurvival" value="gunNPCRocketLauncherDeusEx,ammoNPCRocketFrag"/>
      <property name="ItemsOnEnterGame.GameModeSurvivalSP" value="gunNPCRocketLauncherDeusEx,ammoNPCRocketFrag"/>
      <property name="ItemsOnEnterGame.GameModeSurvivalMP" value="gunNPCRocketLauncherDeusEx,ammoNPCRocketFrag"/>
      <property name="HideInSpawnMenu" value="false"/>
      <property name="SizeScale" value="5" help="ISSUE: the laser of the sword from handRobotArmy does not scale with the model, it remains tiny"/>
      <property name="HideInSpawnMenu" value="false"/>
      <property name="MaxTurnSpeed" value="280"/>
      <property name="MoveSpeed" value=".9"/>
      <property name="MoveSpeedAggro" value="3.6, 4.2"/>
      <property name="MoveSpeedPanic" value="4.2"/>
      <property name="AITask-1" value="BreakBlock"/>
      <property name="AITask-2" value="Territorial"/>
      <property name="AITask-3" value="RangedAttackTarget" data="itemType=1;cooldown=15;duration=3;minRange=1;maxRange=30"/>
      <property name="AITask-4" value="Leap"/>
      <property name="AITask-5" value="ApproachAndAttackTarget" data="class=EntityAlive,0,EntityZombie,0,EntityNPC,0,EntityPlayer,100,EntitySurvivor,0,EntityBandit,0,EntityAnimalRabbit,0"/>
      <property name="AITask-6" value="ApproachSpot"/>
      <property name="AITask-7" value="Look"/>
      <property name="AITask-8" value="Wander"/>
      <property name="AITask-9" value=""/>
      <property name="AITarget-1" value="SetAsTargetIfHurt"/>
      <property name="CanClimbVertical" value="true"/>
      <property name="JumpMaxDistance" value="25, 30"/>
      <effect_group name="Base Effects">
        <passive_effect name="HealthMax" operation="base_set" value="31000" help="a bit less than teleport explosion, but it must be 1 hit kill, so damage resistance must be considered. try once to calc correct HP here."/>
        <passive_effect name="HealthChangeOT" operation="base_add" value="1000" help="TODO: say: self repair 3d printing system activated beep"/>
      </effect_group>
    </entity_class>
    <entity_class name="mechDeusEx2Template" extends="mechRobotArmy" help="this one leaps well, runs well, fires rocket +- but ok, hits melee. TODO: use some super fancy model that looks like a organic/implanted/cyborg hybrid with some neon ;). TODO: make it spawn the normal mechs every 300s, but bees every 60s. make bees have like just 1 shot HP, 10HP, and harvest almost nothing from them. TODO: contextualize DeusEx in docs. TODO: prevent mechs from dropping loot, least DeusEx itself.">
      <property name="HideInSpawnMenu" value="true"/>
      <property name="Tags" value="entity,cp,mech,DeusEx,hostile,helmetVanillaDamage"/>
      <property name="SizeScale" value="5" help="ISSUE: the laser of the sword from handRobotArmy does not scale with the model, it remains tiny"/>
      <!--      HELPGOOD: list materials: egrep '\.mat$' "../../"* -\-include="*.manifest" -iRIh |egrep '[^/]*blue[^/]*\.mat$' -i -->
      <property name="ReplaceMaterial0" value="#Entities/Zombies?Zombies/Materials/feral_radiated.mat"/>
      <property name="LootDropProb" value="0"/>
      <property name="TimeStayAfterDeath" value="6" help="TODO: make it explode and vanish like a grenade at least"/>
      <!-- HELPGOOD: this would be good only if there was any way to keep just one DeusEx alive
      <property name="LootDropProb" value="1.0"/>
      <property name="LootDropEntityClass" value="EntityLootContainerDeusEx"/>
-->
      <property name="ExperienceGain" value="1750"/>
      <property name="DismemberMultiplierHead" value="0"/>
      <property name="MaxTurnSpeed" value="280"/>
      <property name="MoveSpeed" value=".9"/>
      <property name="MoveSpeedAggro" value="3.6, 4.2"/>
      <property name="MoveSpeedPanic" value="4.2"/>
      <property name="CanClimbVertical" value="true"/>
      <property name="JumpMaxDistance" value="25, 30"/>
      <effect_group name="Base Effects">
        <passive_effect name="HealthMax" operation="base_set" value="31000" help="a bit less than teleport explosion, but it must be 1 hit kill, so damage resistance must be considered. try once to calc correct HP here."/>
        <passive_effect name="HealthChangeOT" operation="base_add" value="1000" help="TODO: say: self repair 3d printing system activated beep"/>
        <triggered_effect trigger="onSelfFirstSpawn" action="AddBuff" target="self" buff="buffGSKDeusExDebuff"/>
        <triggered_effect trigger="onOtherDamagedSelf" action="RemoveBuff" target="self" buff="buffGSKDeusExDebuff" help="FOE: rage if attacked by player; FRIEND: will look like it is just following the player;">
          <requirement name="EntityTagCompare" tags="player" target="other"/>
        </triggered_effect>
      </effect_group>
    </entity_class>
    <entity_class name="mechDeusEx2RocketL" extends="mechDeusEx2Template" help="player enemy">
      <property name="HideInSpawnMenu" value="false"/>
      <property name="Tags" value="entity,cp,mech,DeusEx,hostile,helmetVanillaDamage"/>
      <!-- HELPGOOD:
      this is light red is very good, looks like energy, it is transparent tho
        <property name="ReplaceMaterial0" value="#Other/Items?Food/Materials/jar_liquid_red_tea.mat" />
      this red is too dark
        <property name="ReplaceMaterial0" value="#Entities/LootContainers?Materials/backpack_dropped_red.mat" />
      this light red texture didnt fit well
        <property name="ReplaceMaterial0" value="#Entities/LootContainers?Materials/zpackRed.mat" />
-->
      <property name="ReplaceMaterial0" value="#Other/Items?Food/Materials/jar_liquid_red_tea.mat"/>
      <property name="ItemsOnEnterGame.GameModeSurvival" value="gunNPCRocketLauncherDeusEx,ammoNPCRocketFrag" help="ISSUE: the rocket is fired from the feet..."/>
      <property name="ItemsOnEnterGame.GameModeSurvivalSP" value="gunNPCRocketLauncherDeusEx,ammoNPCRocketFrag"/>
      <property name="ItemsOnEnterGame.GameModeSurvivalMP" value="gunNPCRocketLauncherDeusEx,ammoNPCRocketFrag"/>
      <property name="AITask-1" value="BreakBlock"/>
      <property name="AITask-2" value="Territorial"/>
      <property name="AITask-3" value="RangedAttackTarget" data="itemType=1;cooldown=15;duration=3;minRange=1;maxRange=45"/>
      <property name="AITask-4" value="Leap"/>
      <property name="AITask-5" value="ApproachAndAttackTarget" data="class=EntityZombie,90,EntityNPC,15,EntityPlayer,25,EntitySurvivor,15,EntityBandit,15"/>
      <property name="AITask-6" value="ApproachSpot"/>
      <property name="AITask-7" value="Look"/>
      <property name="AITask-8" value="Wander"/>
      <property name="AITask-9" value=""/>
      <property name="AITarget-1" value="SetAsTargetIfHurt"/>
      <!-- HELPGOOD:ISSUE: this would be ok if I could find a way to keep only one DeusEx alive...
      <drop event="Harvest" name="terrStone" count="0" tool_category="Disassemble" />
      <drop event="Harvest" name="resourceMechanicalParts" tag="salvageHarvest" count="30" /> 
      <drop event="Harvest" name="resourceScrapIron" tag="salvageHarvest" count="27" />
      <drop event="Harvest" name="resourceElectricParts" tag="salvageHarvest" count="36" /> 
      <drop event="Harvest" name="resourceScrapPolymers" tag="salvageHarvest" count="27" />
      <drop event="Harvest" name="resourceMetalPipe" count="3" tag="salvageHarvest" />
      <drop event="Harvest" name="carBattery" count="3" prob="0.5" tag="salvageHarvest" />
      <drop event="Harvest" name="resourceSpring" count="6,12" tag="salvageHarvest" />
      <drop event="Harvest" name="resourceScrapIron" count="9,21" tag="allHarvest" />
      <drop event="Destroy" name="resourceScrapIron" count="3,45" />
      <drop event="Fall" name="scrapMetalPile" count="1" prob="0.75" stick_chance="1" />      
-->
      <property name="HandItem" value="handRobotArmyDeusEx" help="replaced by ItemsOnEnterGame?"/>
      <effect_group help="enemy DeusEx buffs">
        <triggered_effect trigger="onSelfFirstSpawn" action="AddBuff" target="self" buff="buffGSKDeusExEnemy12"/>
        <triggered_effect trigger="onSelfFirstSpawn" action="AddBuff" target="self" buff="buffGSKDeusExCountAndKill"/>
      </effect_group>
    </entity_class>
    <entity_class name="mechDeusEx2Calm" extends="mechDeusEx2Template">
      <property name="HideInSpawnMenu" value="false"/>
      <property name="Tags" value="entity,cp,mech,DeusEx,friendly,helmetVanillaDamage"/>
      <property name="ReplaceMaterial0" value="#@modfolder(0-CreaturePackMechs):Resources/RobotArmyMat.unity3d?metal_albedo" help="equal to vanilla mechRobotArmy"/>
      <!-- HELPGOOD: this could prevent hired follower attacking it, but will also preventing it following us after we attack it right?
      <property name="IsEnemyEntity" value="false" />       
-->
      <!--      HELPGOOD: these removed sounds are good to keep them mostly quiet while following you -->
      <property name="SoundRandomTime" value="300.0"/>
      <property name="SoundRandom" value="RobotRandom"/>
      <property name="SoundAlert" value=""/>
      <property name="SoundAttack" value=""/>
      <property name="SoundDeath" value="RobotDie"/>
      <property name="SoundHurt" value="RobotRandom"/>
      <property name="SoundSense" value=""/>
      <!--      HELPGOOD: these tasks are important to prevent this friendly DeusEx causing trouble by not leaping and not attacking with rockets. You can shoot them to make them follow you, but then you can use the special item to make them stop following again.-->
      <property name="AITask-1" value="BreakBlock"/>
      <property name="AITask-2" value="Territorial"/>
      <property name="AITask-3" value="ApproachAndAttackTarget" data="class=EntityVulture,100,EntityZombieDog,100,EntityZombie,100" help="purges zombified organisms"/>
      <property name="AITask-4" value="ApproachSpot"/>
      <property name="AITask-5" value="Look"/>
      <property name="AITask-6" value="Wander"/>
      <property name="AITask-7" value=""/>
      <property name="AITarget-1" value="SetAsTargetIfHurt" help="w/o damage this works like making it follow the player"/>
      <property name="AITarget-2" value="SetNearestEntityAsTarget" data="class=EntityZombie,95"/>
      <!-- HELPGOOD:ISSUE: this would be ok if I could find a way to keep only one DeusEx alive...
      <drop event="Harvest" name="terrStone" count="0" tool_category="Disassemble" />
      <drop event="Harvest" name="resourceMechanicalParts" tag="salvageHarvest" count="30" /> 
      <drop event="Harvest" name="resourceScrapIron" tag="salvageHarvest" count="27" />
      <drop event="Harvest" name="resourceElectricParts" tag="salvageHarvest" count="36" /> 
      <drop event="Harvest" name="resourceScrapPolymers" tag="salvageHarvest" count="27" />
      <drop event="Harvest" name="resourceMetalPipe" count="3" tag="salvageHarvest" />
      <drop event="Harvest" name="carBattery" count="3" prob="0.5" tag="salvageHarvest" />
      <drop event="Harvest" name="resourceSpring" count="6,12" tag="salvageHarvest" />
      <drop event="Harvest" name="resourceScrapIron" count="9,21" tag="allHarvest" />
      <drop event="Destroy" name="resourceScrapIron" count="3,45" />
      <drop event="Fall" name="scrapMetalPile" count="1" prob="0.75" stick_chance="1" />      
-->
      <property name="HandItem" value="handRobotArmyDeusExCalm2" help="this wont damage the player"/>
      <effect_group help="friendly DeusEx buffs">
        <triggered_effect trigger="onSelfFirstSpawn" action="AddBuff" target="self" buff="buffGSKDeusExFriendly"/>
        <triggered_effect trigger="onSelfFirstSpawn" action="AddBuff" target="self" buff="buffGSKDeusExCountAndKill"/>
        <triggered_effect trigger="onSelfKilledOther" action="ModifyCVar" cvar="iDeusExExpCredit" operation="add" value="100"/>
      </effect_group>
    </entity_class>
    <entity_class name="_mechDeusEx3RocketL" extends="npcAdvancedRocketLTemplate" help="FAIL: npcRocketLTemplate TODO: use some super fancy model that looks like a organic/implanted/cyborg hybrid with some neon ;). TODO: make it spawn the normal mechs every 300s, but bees every 60s. make bees have like just 1 shot HP, 10HP, and harvest almost nothing from them. TODO: contextualize DeusEx in docs. TODO: prevent mechs from dropping loot, least DeusEx itself.">
      <property name="Tags" value="entity,male,npc,ranged,bandit,UMA2,helmetVanillaDamage"/>
      <property name="LookAtAngle" value="0"/>
      <property name="PhysicsBody" value="ASCharacterStandard"/>
      <property name="Names" value="DeusExMachina"/>
      <property name="Mesh" value="#@modfolder(1-VaultDwellerzPack):Resources/VaultDwellerz.unity3d?ReconMaleDark"/>
      <property name="LootDropProb" value="1.0"/>
      <property name="LootDropEntityClass" value="EntityLootContainerRegularWithRocket"/>
      <property name="IsEnemyEntity" value="true"/>
      <property name="Faction" value="animals" help="it shall attack everyone, but is cool to not attack animals"/>
      <property name="SizeScale" value="5"/>
      <property name="ExperienceGain" value="2500"/>
      <property name="HideInSpawnMenu" value="false"/>
      <property name="MoveSpeed" value=".9"/>
      <property name="MoveSpeedAggro" value="3.6, 4.2"/>
      <property name="MoveSpeedPanic" value="4.2"/>
      <property name="AITask-1" value="BreakBlock"/>
      <property name="AITask-2" value="Territorial"/>
      <property name="AITask-3" value="RangedAttackTarget" data="itemType=1;cooldown=15;duration=3;minRange=1;maxRange=30"/>
      <property name="AITask-4" value="Leap"/>
      <property name="AITask-5" value="ApproachAndAttackTarget" data="class=EntityAlive,0,EntityZombie,0,EntityNPC,0,EntityPlayer,100,EntitySurvivor,0,EntityBandit,0,EntityAnimalRabbit,0"/>
      <property name="AITask-6" value="ApproachSpot"/>
      <property name="AITask-7" value="Look"/>
      <property name="AITask-8" value="Wander"/>
      <property name="AITask-9" value=""/>
      <property name="AITarget-1" value="SetAsTargetIfHurt"/>
      <property name="CanClimbVertical" value="true"/>
      <property name="JumpMaxDistance" value="25, 30"/>
      <effect_group name="Base Effects">
        <passive_effect name="PhysicalDamageResist" operation="base_set" value="0" help="it's power is on healing self"/>
        <passive_effect name="HealthMax" operation="base_set" value="31000" help="a bit less than teleport explosion, but it must be 1 hit kill, so damage resistance must be considered. try once to calc correct HP here."/>
        <passive_effect name="HealthChangeOT" operation="base_add" value="5000" help="TODO: say: self repair 3d printing system activated beep"/>
      </effect_group>
    </entity_class>
    <entity_class name="_mechDeusEx4RocketL" extends="mechDeusEx2RocketL" help="FAIL: walks on air... shoot rocket from feet..">
      <property name="Mesh" value="#@modfolder(1-VaultDwellerzPack):Resources/VaultDwellerz.unity3d?ReconMaleDark"/>
      <property name="ReplaceMaterial2" value="#Entities/Zombies?Zombies/Materials/feral_radiated.mat"/>
      <property name="MoveSpeed" value=".2"/>
      <property name="MoveSpeedAggro" value="0.7, 0.8"/>
      <property name="MoveSpeedPanic" value="0.8"/>
      <property name="Tags" value="entity,cp,mech,mechRobotArmy,UMA2,helmetVanillaDamage"/>
    </entity_class>
  </append>
  <remove xpath="/entity_classes/entity_class[@name='mechRobotArmy']/property[@name='ReplaceMaterial0']" help="This is to let DeusExFriend look like the nice powerful one :)"/>
</GhussakTweaks>
