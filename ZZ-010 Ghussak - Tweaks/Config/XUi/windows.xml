<?xml version="1.0"?>
<GhussakTweaks>
  <!-- HELPGOOD: this moves the ammo, scrap results etc up enough to fit the hud below it -->
  <setattribute xpath="/windows/window[@name='HUDRightStatBars']" name="pos">0,160</setattribute>
  <append xpath="/windows">
    <window name="HUDGSKNPCInfo">
      <rect name="hud" pos="10,0" width="400" side="left">
        <filledsprite depth="1" pos="200,-25" width="400" height="30" name="NPCInfoBkg" color="60,60,128,188" type="filled" fill="1.0" pivot="center" justify="center"/>
        <filledsprite depth="2" pos="200,-25" width="400" height="29" name="NPCInfoBkg" color="60,255,255,128" type="filled" fillcenter="false" fill="1.0" pivot="center" justify="center"/>
        <label depth="3" pos="200,-25" width="400" height="30" name="NPCInfoLabel" pivot="center" justify="center" text="Ammo:{cvar(.iGSKPlayerNPCInfoAmmoLeftPerc:0)}%,AD:{cvar(.iGSKPlayerNPCInfoArmorDmgPercent:0)}%,PAD:{cvar(.iGSKPlayerNPCInfoPermanentArmorDmg:0)}%,RA:{cvar(.iGSKPlayerNPCInfoRepairSelfArmor:0)}%,PD:{cvar(.iGSKPlayerNPCInfoSelfPreventDismissSecs:0)}s,PA:{cvar(.iGSKPlayerNPCInfoHasCustomPowerArmor:0)}" font_size="21" color="[green]" controller="HUDStatBar" tooltip_key="tkNPCInfo"/>
      </rect>
    </window>
  </append>
  <append xpath="/windows">
    <window name="HUDGSKTeslaEnergy">
      <rect name="hud" pos="-225,115" rows="1" cols="1" width="450" side="right">
        <sprite depth="1" name="border" color="0,128,255,128" type="sliced" fillcenter="false"/>
        <sprite depth="2" name="windowIcon" width="460" height="173" pos="-235,55" sprite="7dtdGskTeslaHud2" color="[iconColor]" foregroundlayer="false" help="width is rectWidth+10, pos is rectPos-10 (btw rect pos x is already negative)"/>
        <label depth="3" pos="0,25" name="TeslaHeroMode" width="450" height="42" pivot="center" justify="center" text="HL:{cvar(bGSKEnergyHL)},WL:{cvar(bGSKEnergyWL)},NV:{cvar(bGSKEnergyNV)},TT:{cvar(bGSKEnergyTT)},TS:{cvar(bGSKEnergyTS)},TA:{cvar(bGSKEnergyTA)},TH:{cvar(bGSKEnergyTH)}(On:{cvar(iGSKTeslaHeroMode)}),TR:{cvar(bGSKEnergyTR)},TP:{cvar(bGSKEnergyTP)},TB:{cvar(bGSKEnergyTB)}" font_size="21" color="[green]" controller="HUDStatBar" tooltip_key="xuiGSKEnergyEnabledModes"/>
        <label depth="3" pos="0,0" name="TeslaHeroLvl" width="450" height="42" pivot="center" justify="center" text="Lvl=TT:{cvar(iGSKEnergyLvlTT)},TS:{cvar(iGSKEnergyLvlTS)},TA:{cvar(iGSKEnergyLvlTA)},TH:{cvar(iGSKEnergyLvlTH)},TR:{cvar(iGSKEnergyLvlTR)},TP:{cvar(iGSKEnergyLvlTP)},TB:{cvar(iGSKEnergyLvlTB)};TP(DI:{cvar(iGSKTeslaTeleportDistIndex:0)},UD:{cvar(iGSKTeslaTeleportMixUpDown:0)},SI:{cvar(iGSKTeslaTeleSkyDistIndex:0)})" font_size="21" color="[green]" controller="HUDStatBar" tooltip_key="xuiGSKEnergyLvls"/>
        <label depth="3" pos="0,-25" name="LightsDamageConditions" width="450" height="42" pivot="center" justify="center" text="Dmg%HL:{cvar(iGSKDmgPercHLShow:0)},WL:{cvar(iGSKDmgPercWLShow:0)},NV:{cvar(iGSKDmgPercNVShow:0)},TT:{cvar(iGSKDmgPercTTShow:0)},TS:{cvar(iGSKDmgPercTSShow:0)},TA:{cvar(iGSKDmgPercTAShow:0)},TH:{cvar(iGSKDmgPercTHShow:0)},TR:{cvar(iGSKDmgPercTRShow:0)},TP:{cvar(iGSKDmgPercTPShow:0)},TB:{cvar(iGSKDmgPercTBShow:0)}" font_size="21" color="[green]" controller="HUDStatBar" tooltip_key="xuiEnergyWiringDamageConditions"/>
        <label depth="3" pos="0,-50" name="NVBattery" width="450" height="42" pivot="center" justify="center" text="Battery:{cvar(iGSKBatteryChargePercShow:0)}%,({cvar(iGSKBatteryCharges:0.00)}/{cvar(fGSKBattMaxChargeCurrent:0)}),FF:{cvar(fGSKFireFuel:0)}/{cvar(fGSKFireFuelMax:0)},SP(I:{cvar(iGSKTeleportedToSpawnPointIndex:0)},B:{cvar(iGSKTeleportedToSpawnPointBiomeId:0)}),DC:{cvar(.fGSKDmgColdProtx100:0)},DH:{cvar(.fGSKDmgHeatProtx100:0)}" font_size="21" color="[green]" controller="HUDStatBar" tooltip_key="xuiNVBatteryEnergy"/>
        <label depth="3" pos="0,-75" name="NVBattBar" width="450" height="42" pivot="center" justify="center" text="DR:{cvar(iGSKDrinkingRain:0)},NR:{cvar(iPreventDrinkRainDelay:0)},IB:{cvar(fGSKinfectionCounterBkp:0)},IC:{cvar(fGSKinfectionCureCounterBkp:0)},NPD:{cvar(fNPCPreventDismissSecs:0)},NRA:{cvar(fRepairNPCArmor:0.00)},HM:{cvar(fGSKMiasmaDirty:0)},RR:{cvar(fGSKRadResPerc:0.00)},HS:{cvar(fGSKHazmatSuitIntegrity:0.00)},XL:{cvar(.fGSKExpDebtPercx100:0.00)}" font_size="21" color="[green]" controller="HUDStatBar" tooltip_key="xuiHiddenStats"/>
        <label depth="3" pos="0,-100" name="NVBattBar" width="450" height="42" pivot="center" justify="center" text="SD:{cvar(_shaded:0.00)},UW:{cvar(_underwater:0)},WT:{cvar(_wetness:0.00)},SW:{cvar(fGSKShownWetnessPerc:0.00)},SH:{cvar(_sheltered:0.00)},CT:{cvar(_coretemp:0)},BR:{cvar(_biomeradiation:0.0)},BL:{cvar(fGSKBloodLossShow:0)},HC:{cvar(iGSKHitpointsBlockageChemUseShow:0)}" font_size="21" color="[green]" controller="HUDStatBar" tooltip_key="xuiHiddenStats2"/>
      </rect>
    </window>
  </append>
  <append xpath="/windows/window[@name='windowBackpack']/panel[@name='header']/rect[@controller='ContainerStandardControls']">
    <combobox depth="3" name="cbxLockedSlots" pos="-150,-7" width="300" height="30" tooltip_key="xuiStashLockedSlots" type="ComboBoxInt" value_min="0" value_max="160" value="80" value_wrap="false" value_increment="20" color="[green]"/>
  </append>
  <!-- HELPGOOD: better places some buttons to avoid missclicking -->
  <set xpath="/windows/window[@name='windowLooting' or @name='windowVehicleStorage']/     panel[@name='header']/rect[@controller='ContainerStandardControls']/button[@name='btnSort']/@pos">74, -22</set>
  <set xpath="/windows/window[@name='windowLooting' or @name='windowVehicleStorage']/     panel[@name='header']/rect[@controller='ContainerStandardControls']/button[@name='btnMoveFillAndSmart']/@pos">174, -22</set>
  <!-- HELPGOOD: show blockages clearly. patch for HUD Improved - 100 - AGF-A20HUDPlus1.4.1 -->
  <set xpath="/windows/window[@name='HUDLeftStatBars']/rect[@name='hud']/rect[@stat_type='Health' or @stat_type='Stamina' or @stat_type='Food' or @stat_type='Water']/sprite[@name='background' and @type='sliced']/@color" help="must be the filled background that shows the blockage">200,250,0,255</set>
  <set xpath="/windows/window[@name='HUDLeftStatBars']/rect[@name='hud']/rect[@stat_type='Health' or @stat_type='Stamina' or @stat_type='Food' or @stat_type='Water']/filledsprite[@name='background' and @color='110,110,110,128']/@color" help="must be opaque to not let yellow pass thru">0,0,0,255</set>
  <set xpath="/windows/window[@name='HUDLeftStatBars']/rect[@name='hud']/rect[@stat_type='Health' or @stat_type='Stamina' or @stat_type='Food' or @stat_type='Water']/label[@name='TextContent']/@color" help="must contrast with all backgrounds">[green]</set>
</GhussakTweaks>
